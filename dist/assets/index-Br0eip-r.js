var Kw=Object.defineProperty;var Ww=(r,l,n)=>l in r?Kw(r,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[l]=n;var ye=(r,l,n)=>Ww(r,typeof l!="symbol"?l+"":l,n);function Zw(r,l){for(var n=0;n<l.length;n++){const a=l[n];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in r)){const d=Object.getOwnPropertyDescriptor(a,o);d&&Object.defineProperty(r,o,d.get?d:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(o){if(o.ep)return;o.ep=!0;const d=n(o);fetch(o.href,d)}})();function $g(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var sf={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function Jw(){if(x0)return Xl;x0=1;var r=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function n(a,o,d){var u=null;if(d!==void 0&&(u=""+d),o.key!==void 0&&(u=""+o.key),"key"in o){d={};for(var m in o)m!=="key"&&(d[m]=o[m])}else d=o;return o=d.ref,{$$typeof:r,type:a,key:u,ref:o!==void 0?o:null,props:d}}return Xl.Fragment=l,Xl.jsx=n,Xl.jsxs=n,Xl}var g0;function eN(){return g0||(g0=1,sf.exports=Jw()),sf.exports}var t=eN(),rf={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function tN(){if(y0)return Me;y0=1;var r=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.iterator;function b(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,E={};function _(j,z,W){this.props=j,this.context=z,this.refs=E,this.updater=W||C}_.prototype.isReactComponent={},_.prototype.setState=function(j,z){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,z,"setState")},_.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function k(){}k.prototype=_.prototype;function M(j,z,W){this.props=j,this.context=z,this.refs=E,this.updater=W||C}var R=M.prototype=new k;R.constructor=M,N(R,_.prototype),R.isPureReactComponent=!0;var H=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function I(j,z,W,P,q,he){return W=he.ref,{$$typeof:r,type:j,key:z,ref:W!==void 0?W:null,props:he}}function Y(j,z){return I(j.type,z,void 0,void 0,void 0,j.props)}function G(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function de(j){var z={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(W){return z[W]})}var ue=/\/+/g;function V(j,z){return typeof j=="object"&&j!==null&&j.key!=null?de(""+j.key):z.toString(36)}function ne(){}function se(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ne,ne):(j.status="pending",j.then(function(z){j.status==="pending"&&(j.status="fulfilled",j.value=z)},function(z){j.status==="pending"&&(j.status="rejected",j.reason=z)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function F(j,z,W,P,q){var he=typeof j;(he==="undefined"||he==="boolean")&&(j=null);var X=!1;if(j===null)X=!0;else switch(he){case"bigint":case"string":case"number":X=!0;break;case"object":switch(j.$$typeof){case r:case l:X=!0;break;case x:return X=j._init,F(X(j._payload),z,W,P,q)}}if(X)return q=q(j),X=P===""?"."+V(j,0):P,H(q)?(W="",X!=null&&(W=X.replace(ue,"$&/")+"/"),F(q,z,W,"",function(We){return We})):q!=null&&(G(q)&&(q=Y(q,W+(q.key==null||j&&j.key===q.key?"":(""+q.key).replace(ue,"$&/")+"/")+X)),z.push(q)),1;X=0;var pe=P===""?".":P+":";if(H(j))for(var Ne=0;Ne<j.length;Ne++)P=j[Ne],he=pe+V(P,Ne),X+=F(P,z,W,he,q);else if(Ne=b(j),typeof Ne=="function")for(j=Ne.call(j),Ne=0;!(P=j.next()).done;)P=P.value,he=pe+V(P,Ne++),X+=F(P,z,W,he,q);else if(he==="object"){if(typeof j.then=="function")return F(se(j),z,W,P,q);throw z=String(j),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return X}function S(j,z,W){if(j==null)return j;var P=[],q=0;return F(j,P,"","",function(he){return z.call(W,he,q++)}),P}function T(j){if(j._status===-1){var z=j._result;z=z(),z.then(function(W){(j._status===0||j._status===-1)&&(j._status=1,j._result=W)},function(W){(j._status===0||j._status===-1)&&(j._status=2,j._result=W)}),j._status===-1&&(j._status=0,j._result=z)}if(j._status===1)return j._result.default;throw j._result}var U=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function A(){}return Me.Children={map:S,forEach:function(j,z,W){S(j,function(){z.apply(this,arguments)},W)},count:function(j){var z=0;return S(j,function(){z++}),z},toArray:function(j){return S(j,function(z){return z})||[]},only:function(j){if(!G(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Me.Component=_,Me.Fragment=n,Me.Profiler=o,Me.PureComponent=M,Me.StrictMode=a,Me.Suspense=p,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Me.__COMPILER_RUNTIME={__proto__:null,c:function(j){return O.H.useMemoCache(j)}},Me.cache=function(j){return function(){return j.apply(null,arguments)}},Me.cloneElement=function(j,z,W){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var P=N({},j.props),q=j.key,he=void 0;if(z!=null)for(X in z.ref!==void 0&&(he=void 0),z.key!==void 0&&(q=""+z.key),z)!$.call(z,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&z.ref===void 0||(P[X]=z[X]);var X=arguments.length-2;if(X===1)P.children=W;else if(1<X){for(var pe=Array(X),Ne=0;Ne<X;Ne++)pe[Ne]=arguments[Ne+2];P.children=pe}return I(j.type,q,void 0,void 0,he,P)},Me.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:d,_context:j},j},Me.createElement=function(j,z,W){var P,q={},he=null;if(z!=null)for(P in z.key!==void 0&&(he=""+z.key),z)$.call(z,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(q[P]=z[P]);var X=arguments.length-2;if(X===1)q.children=W;else if(1<X){for(var pe=Array(X),Ne=0;Ne<X;Ne++)pe[Ne]=arguments[Ne+2];q.children=pe}if(j&&j.defaultProps)for(P in X=j.defaultProps,X)q[P]===void 0&&(q[P]=X[P]);return I(j,he,void 0,void 0,null,q)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(j){return{$$typeof:m,render:j}},Me.isValidElement=G,Me.lazy=function(j){return{$$typeof:x,_payload:{_status:-1,_result:j},_init:T}},Me.memo=function(j,z){return{$$typeof:g,type:j,compare:z===void 0?null:z}},Me.startTransition=function(j){var z=O.T,W={};O.T=W;try{var P=j(),q=O.S;q!==null&&q(W,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(A,U)}catch(he){U(he)}finally{O.T=z}},Me.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Me.use=function(j){return O.H.use(j)},Me.useActionState=function(j,z,W){return O.H.useActionState(j,z,W)},Me.useCallback=function(j,z){return O.H.useCallback(j,z)},Me.useContext=function(j){return O.H.useContext(j)},Me.useDebugValue=function(){},Me.useDeferredValue=function(j,z){return O.H.useDeferredValue(j,z)},Me.useEffect=function(j,z,W){var P=O.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return P.useEffect(j,z)},Me.useId=function(){return O.H.useId()},Me.useImperativeHandle=function(j,z,W){return O.H.useImperativeHandle(j,z,W)},Me.useInsertionEffect=function(j,z){return O.H.useInsertionEffect(j,z)},Me.useLayoutEffect=function(j,z){return O.H.useLayoutEffect(j,z)},Me.useMemo=function(j,z){return O.H.useMemo(j,z)},Me.useOptimistic=function(j,z){return O.H.useOptimistic(j,z)},Me.useReducer=function(j,z,W){return O.H.useReducer(j,z,W)},Me.useRef=function(j){return O.H.useRef(j)},Me.useState=function(j){return O.H.useState(j)},Me.useSyncExternalStore=function(j,z,W){return O.H.useSyncExternalStore(j,z,W)},Me.useTransition=function(){return O.H.useTransition()},Me.version="19.1.0",Me}var b0;function Xf(){return b0||(b0=1,rf.exports=tN()),rf.exports}var y=Xf();const le=$g(y),qg=Zw({__proto__:null,default:le},[y]);var lf={exports:{}},Kl={},of={exports:{}},cf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function aN(){return v0||(v0=1,function(r){function l(S,T){var U=S.length;S.push(T);e:for(;0<U;){var A=U-1>>>1,j=S[A];if(0<o(j,T))S[A]=T,S[U]=j,U=A;else break e}}function n(S){return S.length===0?null:S[0]}function a(S){if(S.length===0)return null;var T=S[0],U=S.pop();if(U!==T){S[0]=U;e:for(var A=0,j=S.length,z=j>>>1;A<z;){var W=2*(A+1)-1,P=S[W],q=W+1,he=S[q];if(0>o(P,U))q<j&&0>o(he,P)?(S[A]=he,S[q]=U,A=q):(S[A]=P,S[W]=U,A=W);else if(q<j&&0>o(he,U))S[A]=he,S[q]=U,A=q;else break e}}return T}function o(S,T){var U=S.sortIndex-T.sortIndex;return U!==0?U:S.id-T.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var u=Date,m=u.now();r.unstable_now=function(){return u.now()-m}}var p=[],g=[],x=1,v=null,b=3,C=!1,N=!1,E=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function H(S){for(var T=n(g);T!==null;){if(T.callback===null)a(g);else if(T.startTime<=S)a(g),T.sortIndex=T.expirationTime,l(p,T);else break;T=n(g)}}function O(S){if(E=!1,H(S),!N)if(n(p)!==null)N=!0,$||($=!0,V());else{var T=n(g);T!==null&&F(O,T.startTime-S)}}var $=!1,I=-1,Y=5,G=-1;function de(){return _?!0:!(r.unstable_now()-G<Y)}function ue(){if(_=!1,$){var S=r.unstable_now();G=S;var T=!0;try{e:{N=!1,E&&(E=!1,M(I),I=-1),C=!0;var U=b;try{t:{for(H(S),v=n(p);v!==null&&!(v.expirationTime>S&&de());){var A=v.callback;if(typeof A=="function"){v.callback=null,b=v.priorityLevel;var j=A(v.expirationTime<=S);if(S=r.unstable_now(),typeof j=="function"){v.callback=j,H(S),T=!0;break t}v===n(p)&&a(p),H(S)}else a(p);v=n(p)}if(v!==null)T=!0;else{var z=n(g);z!==null&&F(O,z.startTime-S),T=!1}}break e}finally{v=null,b=U,C=!1}T=void 0}}finally{T?V():$=!1}}}var V;if(typeof R=="function")V=function(){R(ue)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,se=ne.port2;ne.port1.onmessage=ue,V=function(){se.postMessage(null)}}else V=function(){k(ue,0)};function F(S,T){I=k(function(){S(r.unstable_now())},T)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(S){S.callback=null},r.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<S?Math.floor(1e3/S):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(S){switch(b){case 1:case 2:case 3:var T=3;break;default:T=b}var U=b;b=T;try{return S()}finally{b=U}},r.unstable_requestPaint=function(){_=!0},r.unstable_runWithPriority=function(S,T){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var U=b;b=S;try{return T()}finally{b=U}},r.unstable_scheduleCallback=function(S,T,U){var A=r.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?A+U:A):U=A,S){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=U+j,S={id:x++,callback:T,priorityLevel:S,startTime:U,expirationTime:j,sortIndex:-1},U>A?(S.sortIndex=U,l(g,S),n(p)===null&&S===n(g)&&(E?(M(I),I=-1):E=!0,F(O,U-A))):(S.sortIndex=j,l(p,S),N||C||(N=!0,$||($=!0,V()))),S},r.unstable_shouldYield=de,r.unstable_wrapCallback=function(S){var T=b;return function(){var U=b;b=T;try{return S.apply(this,arguments)}finally{b=U}}}}(cf)),cf}var w0;function nN(){return w0||(w0=1,of.exports=aN()),of.exports}var df={exports:{}},Pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function sN(){if(N0)return Pt;N0=1;var r=Xf();function l(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(l(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function d(p,g,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:g,implementation:x}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Pt.createPortal=function(p,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(l(299));return d(p,g,null,x)},Pt.flushSync=function(p){var g=u.T,x=a.p;try{if(u.T=null,a.p=2,p)return p()}finally{u.T=g,a.p=x,a.d.f()}},Pt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},Pt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Pt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var x=g.as,v=m(x,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:C}):x==="script"&&a.d.X(p,{crossOrigin:v,integrity:b,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Pt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},Pt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,v=m(x,g.crossOrigin);a.d.L(p,x,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Pt.preloadModule=function(p,g){if(typeof p=="string")if(g){var x=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},Pt.requestFormReset=function(p){a.d.r(p)},Pt.unstable_batchedUpdates=function(p,g){return p(g)},Pt.useFormState=function(p,g,x){return u.H.useFormState(p,g,x)},Pt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Pt.version="19.1.0",Pt}var j0;function Vg(){if(j0)return df.exports;j0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(l){console.error(l)}}return r(),df.exports=sN(),df.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function rN(){if(S0)return Kl;S0=1;var r=nN(),l=Xf(),n=Vg();function a(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var s=e,i=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(i=s.return),e=s.return;while(e)}return s.tag===3?i:null}function u(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(a(188))}function p(e){var s=e.alternate;if(!s){if(s=d(e),s===null)throw Error(a(188));return s!==e?null:e}for(var i=e,c=s;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(c=f.return,c!==null){i=c;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return m(f),e;if(h===c)return m(f),s;h=h.sibling}throw Error(a(188))}if(i.return!==c.return)i=f,c=h;else{for(var w=!1,D=f.child;D;){if(D===i){w=!0,i=f,c=h;break}if(D===c){w=!0,c=f,i=h;break}D=D.sibling}if(!w){for(D=h.child;D;){if(D===i){w=!0,i=h,c=f;break}if(D===c){w=!0,c=h,i=f;break}D=D.sibling}if(!w)throw Error(a(189))}}if(i.alternate!==c)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:s}function g(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=g(e),s!==null)return s;e=e.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),R=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=ue&&e[ue]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ne?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case _:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case $:return"SuspenseList";case G:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case R:return(e.displayName||"Context")+".Provider";case M:return(e._context.displayName||"Context")+".Consumer";case H:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return s=e.displayName||null,s!==null?s:se(e.type)||"Memo";case Y:s=e._payload,e=e._init;try{return se(e(s))}catch{}}return null}var F=Array.isArray,S=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},A=[],j=-1;function z(e){return{current:e}}function W(e){0>j||(e.current=A[j],A[j]=null,j--)}function P(e,s){j++,A[j]=e.current,e.current=s}var q=z(null),he=z(null),X=z(null),pe=z(null);function Ne(e,s){switch(P(X,s),P(he,e),P(q,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?$x(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=$x(s),e=qx(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(q),P(q,e)}function We(){W(q),W(he),W(X)}function fe(e){e.memoizedState!==null&&P(pe,e);var s=q.current,i=qx(s,e.type);s!==i&&(P(he,e),P(q,i))}function te(e){he.current===e&&(W(q),W(he)),pe.current===e&&(W(pe),$l._currentValue=U)}var J=Object.prototype.hasOwnProperty,xe=r.unstable_scheduleCallback,Se=r.unstable_cancelCallback,ze=r.unstable_shouldYield,Ze=r.unstable_requestPaint,Je=r.unstable_now,Yt=r.unstable_getCurrentPriorityLevel,Ua=r.unstable_ImmediatePriority,Cm=r.unstable_UserBlockingPriority,Ci=r.unstable_NormalPriority,Mb=r.unstable_LowPriority,_m=r.unstable_IdlePriority,Ab=r.log,Rb=r.unstable_setDisableYieldValue,Zr=null,ea=null;function Dn(e){if(typeof Ab=="function"&&Rb(e),ea&&typeof ea.setStrictMode=="function")try{ea.setStrictMode(Zr,e)}catch{}}var ta=Math.clz32?Math.clz32:Pb,Ob=Math.log,Lb=Math.LN2;function Pb(e){return e>>>=0,e===0?32:31-(Ob(e)/Lb|0)|0}var _i=256,Di=4194304;function rs(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ki(e,s,i){var c=e.pendingLanes;if(c===0)return 0;var f=0,h=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var D=c&134217727;return D!==0?(c=D&~h,c!==0?f=rs(c):(w&=D,w!==0?f=rs(w):i||(i=D&~e,i!==0&&(f=rs(i))))):(D=c&~h,D!==0?f=rs(D):w!==0?f=rs(w):i||(i=c&~e,i!==0&&(f=rs(i)))),f===0?0:s!==0&&s!==f&&(s&h)===0&&(h=f&-f,i=s&-s,h>=i||h===32&&(i&4194048)!==0)?s:f}function Jr(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function Ub(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dm(){var e=_i;return _i<<=1,(_i&4194048)===0&&(_i=256),e}function km(){var e=Di;return Di<<=1,(Di&62914560)===0&&(Di=4194304),e}function Qc(e){for(var s=[],i=0;31>i;i++)s.push(e);return s}function el(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zb(e,s,i,c,f,h){var w=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var D=e.entanglements,L=e.expirationTimes,Z=e.hiddenUpdates;for(i=w&~i;0<i;){var ie=31-ta(i),ce=1<<ie;D[ie]=0,L[ie]=-1;var ee=Z[ie];if(ee!==null)for(Z[ie]=null,ie=0;ie<ee.length;ie++){var ae=ee[ie];ae!==null&&(ae.lane&=-536870913)}i&=~ce}c!==0&&Em(e,c,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(w&~s))}function Em(e,s,i){e.pendingLanes|=s,e.suspendedLanes&=~s;var c=31-ta(s);e.entangledLanes|=s,e.entanglements[c]=e.entanglements[c]|1073741824|i&4194090}function Tm(e,s){var i=e.entangledLanes|=s;for(e=e.entanglements;i;){var c=31-ta(i),f=1<<c;f&s|e[c]&s&&(e[c]|=s),i&=~f}}function Gc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Mm(){var e=T.p;return e!==0?e:(e=window.event,e===void 0?32:d0(e.type))}function Yb(e,s){var i=T.p;try{return T.p=e,s()}finally{T.p=i}}var kn=Math.random().toString(36).slice(2),Ot="__reactFiber$"+kn,$t="__reactProps$"+kn,Bs="__reactContainer$"+kn,Kc="__reactEvents$"+kn,Hb="__reactListeners$"+kn,Fb="__reactHandles$"+kn,Am="__reactResources$"+kn,tl="__reactMarker$"+kn;function Wc(e){delete e[Ot],delete e[$t],delete e[Kc],delete e[Hb],delete e[Fb]}function Is(e){var s=e[Ot];if(s)return s;for(var i=e.parentNode;i;){if(s=i[Bs]||i[Ot]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(e=Xx(e);e!==null;){if(i=e[Ot])return i;e=Xx(e)}return s}e=i,i=e.parentNode}return null}function $s(e){if(e=e[Ot]||e[Bs]){var s=e.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return e}return null}function al(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(a(33))}function qs(e){var s=e[Am];return s||(s=e[Am]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function St(e){e[tl]=!0}var Rm=new Set,Om={};function ls(e,s){Vs(e,s),Vs(e+"Capture",s)}function Vs(e,s){for(Om[e]=s,e=0;e<s.length;e++)Rm.add(s[e])}var Bb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lm={},Pm={};function Ib(e){return J.call(Pm,e)?!0:J.call(Lm,e)?!1:Bb.test(e)?Pm[e]=!0:(Lm[e]=!0,!1)}function Ei(e,s,i){if(Ib(s))if(i===null)e.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+i)}}function Ti(e,s,i){if(i===null)e.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+i)}}function tn(e,s,i,c){if(c===null)e.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(s,i,""+c)}}var Zc,Um;function Qs(e){if(Zc===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);Zc=s&&s[1]||"",Um=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zc+e+Um}var Jc=!1;function ed(e,s){if(!e||Jc)return"";Jc=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ae){var ee=ae}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(ae){ee=ae}e.call(ce.prototype)}}else{try{throw Error()}catch(ae){ee=ae}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ae){if(ae&&ee&&typeof ae.stack=="string")return[ae.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),w=h[0],D=h[1];if(w&&D){var L=w.split(`
`),Z=D.split(`
`);for(f=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;f<Z.length&&!Z[f].includes("DetermineComponentFrameRoot");)f++;if(c===L.length||f===Z.length)for(c=L.length-1,f=Z.length-1;1<=c&&0<=f&&L[c]!==Z[f];)f--;for(;1<=c&&0<=f;c--,f--)if(L[c]!==Z[f]){if(c!==1||f!==1)do if(c--,f--,0>f||L[c]!==Z[f]){var ie=`
`+L[c].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=c&&0<=f);break}}}finally{Jc=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Qs(i):""}function $b(e){switch(e.tag){case 26:case 27:case 5:return Qs(e.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 15:return ed(e.type,!1);case 11:return ed(e.type.render,!1);case 1:return ed(e.type,!0);case 31:return Qs("Activity");default:return""}}function zm(e){try{var s="";do s+=$b(e),e=e.return;while(e);return s}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function ua(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ym(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function qb(e){var s=Ym(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),c=""+e[s];if(!e.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,h=i.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){c=""+w,h.call(this,w)}}),Object.defineProperty(e,s,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Mi(e){e._valueTracker||(e._valueTracker=qb(e))}function Hm(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var i=s.getValue(),c="";return e&&(c=Ym(e)?e.checked?"true":"false":e.value),e=c,e!==i?(s.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vb=/[\n"\\]/g;function fa(e){return e.replace(Vb,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function td(e,s,i,c,f,h,w,D){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),s!=null?w==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+ua(s)):e.value!==""+ua(s)&&(e.value=""+ua(s)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),s!=null?ad(e,w,ua(s)):i!=null?ad(e,w,ua(i)):c!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?e.name=""+ua(D):e.removeAttribute("name")}function Fm(e,s,i,c,f,h,w,D){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),s!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||s!=null))return;i=i!=null?""+ua(i):"",s=s!=null?""+ua(s):i,D||s===e.value||(e.value=s),e.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=D?e.checked:!!c,e.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w)}function ad(e,s,i){s==="number"&&Ai(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Gs(e,s,i,c){if(e=e.options,s){s={};for(var f=0;f<i.length;f++)s["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=s.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&c&&(e[i].defaultSelected=!0)}else{for(i=""+ua(i),s=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}s!==null||e[f].disabled||(s=e[f])}s!==null&&(s.selected=!0)}}function Bm(e,s,i){if(s!=null&&(s=""+ua(s),s!==e.value&&(e.value=s),i==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=i!=null?""+ua(i):""}function Im(e,s,i,c){if(s==null){if(c!=null){if(i!=null)throw Error(a(92));if(F(c)){if(1<c.length)throw Error(a(93));c=c[0]}i=c}i==null&&(i=""),s=i}i=ua(s),e.defaultValue=i,c=e.textContent,c===i&&c!==""&&c!==null&&(e.value=c)}function Xs(e,s){if(s){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=s;return}}e.textContent=s}var Qb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $m(e,s,i){var c=s.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":c?e.setProperty(s,i):typeof i!="number"||i===0||Qb.has(s)?s==="float"?e.cssFloat=i:e[s]=(""+i).trim():e[s]=i+"px"}function qm(e,s,i){if(s!=null&&typeof s!="object")throw Error(a(62));if(e=e.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&i[f]!==c&&$m(e,f,c)}else for(var h in s)s.hasOwnProperty(h)&&$m(e,h,s[h])}function nd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ri(e){return Xb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var sd=null;function rd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ks=null,Ws=null;function Vm(e){var s=$s(e);if(s&&(e=s.stateNode)){var i=e[$t]||null;e:switch(e=s.stateNode,s.type){case"input":if(td(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),s=i.name,i.type==="radio"&&s!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+fa(""+s)+'"][type="radio"]'),s=0;s<i.length;s++){var c=i[s];if(c!==e&&c.form===e.form){var f=c[$t]||null;if(!f)throw Error(a(90));td(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<i.length;s++)c=i[s],c.form===e.form&&Hm(c)}break e;case"textarea":Bm(e,i.value,i.defaultValue);break e;case"select":s=i.value,s!=null&&Gs(e,!!i.multiple,s,!1)}}}var ld=!1;function Qm(e,s,i){if(ld)return e(s,i);ld=!0;try{var c=e(s);return c}finally{if(ld=!1,(Ks!==null||Ws!==null)&&(bo(),Ks&&(s=Ks,e=Ws,Ws=Ks=null,Vm(s),e)))for(s=0;s<e.length;s++)Vm(e[s])}}function nl(e,s){var i=e.stateNode;if(i===null)return null;var c=i[$t]||null;if(c===null)return null;i=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,s,typeof i));return i}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),id=!1;if(an)try{var sl={};Object.defineProperty(sl,"passive",{get:function(){id=!0}}),window.addEventListener("test",sl,sl),window.removeEventListener("test",sl,sl)}catch{id=!1}var En=null,od=null,Oi=null;function Gm(){if(Oi)return Oi;var e,s=od,i=s.length,c,f="value"in En?En.value:En.textContent,h=f.length;for(e=0;e<i&&s[e]===f[e];e++);var w=i-e;for(c=1;c<=w&&s[i-c]===f[h-c];c++);return Oi=f.slice(e,1<c?1-c:void 0)}function Li(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Xm(){return!1}function qt(e){function s(i,c,f,h,w){this._reactName=i,this._targetInst=f,this.type=c,this.nativeEvent=h,this.target=w,this.currentTarget=null;for(var D in e)e.hasOwnProperty(D)&&(i=e[D],this[D]=i?i(h):h[D]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Pi:Xm,this.isPropagationStopped=Xm,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),s}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=qt(is),rl=x({},is,{view:0,detail:0}),Kb=qt(rl),cd,dd,ll,zi=x({},rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ll&&(ll&&e.type==="mousemove"?(cd=e.screenX-ll.screenX,dd=e.screenY-ll.screenY):dd=cd=0,ll=e),cd)},movementY:function(e){return"movementY"in e?e.movementY:dd}}),Km=qt(zi),Wb=x({},zi,{dataTransfer:0}),Zb=qt(Wb),Jb=x({},rl,{relatedTarget:0}),ud=qt(Jb),ev=x({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),tv=qt(ev),av=x({},is,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nv=qt(av),sv=x({},is,{data:0}),Wm=qt(sv),rv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ov(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=iv[e])?!!s[e]:!1}function fd(){return ov}var cv=x({},rl,{key:function(e){if(e.key){var s=rv[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fd,charCode:function(e){return e.type==="keypress"?Li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dv=qt(cv),uv=x({},zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zm=qt(uv),fv=x({},rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fd}),mv=qt(fv),hv=x({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),pv=qt(hv),xv=x({},zi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gv=qt(xv),yv=x({},is,{newState:0,oldState:0}),bv=qt(yv),vv=[9,13,27,32],md=an&&"CompositionEvent"in window,il=null;an&&"documentMode"in document&&(il=document.documentMode);var wv=an&&"TextEvent"in window&&!il,Jm=an&&(!md||il&&8<il&&11>=il),eh=" ",th=!1;function ah(e,s){switch(e){case"keyup":return vv.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zs=!1;function Nv(e,s){switch(e){case"compositionend":return nh(s);case"keypress":return s.which!==32?null:(th=!0,eh);case"textInput":return e=s.data,e===eh&&th?null:e;default:return null}}function jv(e,s){if(Zs)return e==="compositionend"||!md&&ah(e,s)?(e=Gm(),Oi=od=En=null,Zs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Jm&&s.locale!=="ko"?null:s.data;default:return null}}var Sv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sh(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Sv[e.type]:s==="textarea"}function rh(e,s,i,c){Ks?Ws?Ws.push(c):Ws=[c]:Ks=c,s=Co(s,"onChange"),0<s.length&&(i=new Ui("onChange","change",null,i,c),e.push({event:i,listeners:s}))}var ol=null,cl=null;function Cv(e){Yx(e,0)}function Yi(e){var s=al(e);if(Hm(s))return e}function lh(e,s){if(e==="change")return s}var ih=!1;if(an){var hd;if(an){var pd="oninput"in document;if(!pd){var oh=document.createElement("div");oh.setAttribute("oninput","return;"),pd=typeof oh.oninput=="function"}hd=pd}else hd=!1;ih=hd&&(!document.documentMode||9<document.documentMode)}function ch(){ol&&(ol.detachEvent("onpropertychange",dh),cl=ol=null)}function dh(e){if(e.propertyName==="value"&&Yi(cl)){var s=[];rh(s,cl,e,rd(e)),Qm(Cv,s)}}function _v(e,s,i){e==="focusin"?(ch(),ol=s,cl=i,ol.attachEvent("onpropertychange",dh)):e==="focusout"&&ch()}function Dv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yi(cl)}function kv(e,s){if(e==="click")return Yi(s)}function Ev(e,s){if(e==="input"||e==="change")return Yi(s)}function Tv(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var aa=typeof Object.is=="function"?Object.is:Tv;function dl(e,s){if(aa(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var i=Object.keys(e),c=Object.keys(s);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var f=i[c];if(!J.call(s,f)||!aa(e[f],s[f]))return!1}return!0}function uh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fh(e,s){var i=uh(e);e=0;for(var c;i;){if(i.nodeType===3){if(c=e+i.textContent.length,e<=s&&c>=s)return{node:i,offset:s-e};e=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=uh(i)}}function mh(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?mh(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function hh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=Ai(e.document);s instanceof e.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)e=s.contentWindow;else break;s=Ai(e.document)}return s}function xd(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var Mv=an&&"documentMode"in document&&11>=document.documentMode,Js=null,gd=null,ul=null,yd=!1;function ph(e,s,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;yd||Js==null||Js!==Ai(c)||(c=Js,"selectionStart"in c&&xd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ul&&dl(ul,c)||(ul=c,c=Co(gd,"onSelect"),0<c.length&&(s=new Ui("onSelect","select",null,s,i),e.push({event:s,listeners:c}),s.target=Js)))}function os(e,s){var i={};return i[e.toLowerCase()]=s.toLowerCase(),i["Webkit"+e]="webkit"+s,i["Moz"+e]="moz"+s,i}var er={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},bd={},xh={};an&&(xh=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function cs(e){if(bd[e])return bd[e];if(!er[e])return e;var s=er[e],i;for(i in s)if(s.hasOwnProperty(i)&&i in xh)return bd[e]=s[i];return e}var gh=cs("animationend"),yh=cs("animationiteration"),bh=cs("animationstart"),Av=cs("transitionrun"),Rv=cs("transitionstart"),Ov=cs("transitioncancel"),vh=cs("transitionend"),wh=new Map,vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vd.push("scrollEnd");function Da(e,s){wh.set(e,s),ls(s,[e])}var Nh=new WeakMap;function ma(e,s){if(typeof e=="object"&&e!==null){var i=Nh.get(e);return i!==void 0?i:(s={value:e,source:s,stack:zm(s)},Nh.set(e,s),s)}return{value:e,source:s,stack:zm(s)}}var ha=[],tr=0,wd=0;function Hi(){for(var e=tr,s=wd=tr=0;s<e;){var i=ha[s];ha[s++]=null;var c=ha[s];ha[s++]=null;var f=ha[s];ha[s++]=null;var h=ha[s];if(ha[s++]=null,c!==null&&f!==null){var w=c.pending;w===null?f.next=f:(f.next=w.next,w.next=f),c.pending=f}h!==0&&jh(i,f,h)}}function Fi(e,s,i,c){ha[tr++]=e,ha[tr++]=s,ha[tr++]=i,ha[tr++]=c,wd|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Nd(e,s,i,c){return Fi(e,s,i,c),Bi(e)}function ar(e,s){return Fi(e,null,null,s),Bi(e)}function jh(e,s,i){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i);for(var f=!1,h=e.return;h!==null;)h.childLanes|=i,c=h.alternate,c!==null&&(c.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&s!==null&&(f=31-ta(i),e=h.hiddenUpdates,c=e[f],c===null?e[f]=[s]:c.push(s),s.lane=i|536870912),h):null}function Bi(e){if(50<Pl)throw Pl=0,ku=null,Error(a(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var nr={};function Lv(e,s,i,c){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function na(e,s,i,c){return new Lv(e,s,i,c)}function jd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nn(e,s){var i=e.alternate;return i===null?(i=na(e.tag,s,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=s,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,s=e.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Sh(e,s){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,s=i.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Ii(e,s,i,c,f,h){var w=0;if(c=e,typeof e=="function")jd(e)&&(w=1);else if(typeof e=="string")w=Uw(e,i,q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case G:return e=na(31,i,s,f),e.elementType=G,e.lanes=h,e;case N:return ds(i.children,f,h,s);case E:w=8,f|=24;break;case _:return e=na(12,i,s,f|2),e.elementType=_,e.lanes=h,e;case O:return e=na(13,i,s,f),e.elementType=O,e.lanes=h,e;case $:return e=na(19,i,s,f),e.elementType=$,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:case R:w=10;break e;case M:w=9;break e;case H:w=11;break e;case I:w=14;break e;case Y:w=16,c=null;break e}w=29,i=Error(a(130,e===null?"null":typeof e,"")),c=null}return s=na(w,i,s,f),s.elementType=e,s.type=c,s.lanes=h,s}function ds(e,s,i,c){return e=na(7,e,c,s),e.lanes=i,e}function Sd(e,s,i){return e=na(6,e,null,s),e.lanes=i,e}function Cd(e,s,i){return s=na(4,e.children!==null?e.children:[],e.key,s),s.lanes=i,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var sr=[],rr=0,$i=null,qi=0,pa=[],xa=0,us=null,sn=1,rn="";function fs(e,s){sr[rr++]=qi,sr[rr++]=$i,$i=e,qi=s}function Ch(e,s,i){pa[xa++]=sn,pa[xa++]=rn,pa[xa++]=us,us=e;var c=sn;e=rn;var f=32-ta(c)-1;c&=~(1<<f),i+=1;var h=32-ta(s)+f;if(30<h){var w=f-f%5;h=(c&(1<<w)-1).toString(32),c>>=w,f-=w,sn=1<<32-ta(s)+f|i<<f|c,rn=h+e}else sn=1<<h|i<<f|c,rn=e}function _d(e){e.return!==null&&(fs(e,1),Ch(e,1,0))}function Dd(e){for(;e===$i;)$i=sr[--rr],sr[rr]=null,qi=sr[--rr],sr[rr]=null;for(;e===us;)us=pa[--xa],pa[xa]=null,rn=pa[--xa],pa[xa]=null,sn=pa[--xa],pa[xa]=null}var Ht=null,dt=null,$e=!1,ms=null,za=!1,kd=Error(a(519));function hs(e){var s=Error(a(418,""));throw hl(ma(s,e)),kd}function _h(e){var s=e.stateNode,i=e.type,c=e.memoizedProps;switch(s[Ot]=e,s[$t]=c,i){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(i=0;i<zl.length;i++)Pe(zl[i],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),Fm(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Mi(s);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),Im(s,c.value,c.defaultValue,c.children),Mi(s)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||s.textContent===""+i||c.suppressHydrationWarning===!0||Ix(s.textContent,i)?(c.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),c.onScroll!=null&&Pe("scroll",s),c.onScrollEnd!=null&&Pe("scrollend",s),c.onClick!=null&&(s.onclick=_o),s=!0):s=!1,s||hs(e)}function Dh(e){for(Ht=e.return;Ht;)switch(Ht.tag){case 5:case 13:za=!1;return;case 27:case 3:za=!0;return;default:Ht=Ht.return}}function fl(e){if(e!==Ht)return!1;if(!$e)return Dh(e),$e=!0,!1;var s=e.tag,i;if((i=s!==3&&s!==27)&&((i=s===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||$u(e.type,e.memoizedProps)),i=!i),i&&dt&&hs(e),Dh(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(s===0){dt=Ea(e.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++;e=e.nextSibling}dt=null}}else s===27?(s=dt,qn(e.type)?(e=Gu,Gu=null,dt=e):dt=s):dt=Ht?Ea(e.stateNode.nextSibling):null;return!0}function ml(){dt=Ht=null,$e=!1}function kh(){var e=ms;return e!==null&&(Gt===null?Gt=e:Gt.push.apply(Gt,e),ms=null),e}function hl(e){ms===null?ms=[e]:ms.push(e)}var Ed=z(null),ps=null,ln=null;function Tn(e,s,i){P(Ed,s._currentValue),s._currentValue=i}function on(e){e._currentValue=Ed.current,W(Ed)}function Td(e,s,i){for(;e!==null;){var c=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),e===i)break;e=e.return}}function Md(e,s,i,c){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var w=f.child;h=h.firstContext;e:for(;h!==null;){var D=h;h=f;for(var L=0;L<s.length;L++)if(D.context===s[L]){h.lanes|=i,D=h.alternate,D!==null&&(D.lanes|=i),Td(h.return,i,e),c||(w=null);break e}h=D.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(a(341));w.lanes|=i,h=w.alternate,h!==null&&(h.lanes|=i),Td(w,i,e),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===e){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function pl(e,s,i,c){e=null;for(var f=s,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var D=f.type;aa(f.pendingProps.value,w.value)||(e!==null?e.push(D):e=[D])}}else if(f===pe.current){if(w=f.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push($l):e=[$l])}f=f.return}e!==null&&Md(s,e,i,c),s.flags|=262144}function Vi(e){for(e=e.firstContext;e!==null;){if(!aa(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xs(e){ps=e,ln=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Lt(e){return Eh(ps,e)}function Qi(e,s){return ps===null&&xs(e),Eh(e,s)}function Eh(e,s){var i=s._currentValue;if(s={context:s,memoizedValue:i,next:null},ln===null){if(e===null)throw Error(a(308));ln=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else ln=ln.next=s;return i}var Pv=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(i,c){e.push(c)}};this.abort=function(){s.aborted=!0,e.forEach(function(i){return i()})}},Uv=r.unstable_scheduleCallback,zv=r.unstable_NormalPriority,wt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ad(){return{controller:new Pv,data:new Map,refCount:0}}function xl(e){e.refCount--,e.refCount===0&&Uv(zv,function(){e.controller.abort()})}var gl=null,Rd=0,lr=0,ir=null;function Yv(e,s){if(gl===null){var i=gl=[];Rd=0,lr=Lu(),ir={status:"pending",value:void 0,then:function(c){i.push(c)}}}return Rd++,s.then(Th,Th),s}function Th(){if(--Rd===0&&gl!==null){ir!==null&&(ir.status="fulfilled");var e=gl;gl=null,lr=0,ir=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function Hv(e,s){var i=[],c={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<i.length;f++)(0,i[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),c}var Mh=S.S;S.S=function(e,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Yv(e,s),Mh!==null&&Mh(e,s)};var gs=z(null);function Od(){var e=gs.current;return e!==null?e:st.pooledCache}function Gi(e,s){s===null?P(gs,gs.current):P(gs,s.pool)}function Ah(){var e=Od();return e===null?null:{parent:wt._currentValue,pool:e}}var yl=Error(a(460)),Rh=Error(a(474)),Xi=Error(a(542)),Ld={then:function(){}};function Oh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ki(){}function Lh(e,s,i){switch(i=e[i],i===void 0?e.push(s):i!==s&&(s.then(Ki,Ki),s=i),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Uh(e),e;default:if(typeof s.status=="string")s.then(Ki,Ki);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=s,e.status="pending",e.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Uh(e),e}throw bl=s,yl}}var bl=null;function Ph(){if(bl===null)throw Error(a(459));var e=bl;return bl=null,e}function Uh(e){if(e===yl||e===Xi)throw Error(a(483))}var Mn=!1;function Pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ud(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function An(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rn(e,s,i){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=Bi(e),jh(e,null,i),s}return Fi(e,c,s,i),Bi(e)}function vl(e,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194048)!==0)){var c=s.lanes;c&=e.pendingLanes,i|=c,s.lanes=i,Tm(e,i)}}function zd(e,s){var i=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var w={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=w:h=h.next=w,i=i.next}while(i!==null);h===null?f=h=s:h=h.next=s}else f=h=s;i={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=s:e.next=s,i.lastBaseUpdate=s}var Yd=!1;function wl(){if(Yd){var e=ir;if(e!==null)throw e}}function Nl(e,s,i,c){Yd=!1;var f=e.updateQueue;Mn=!1;var h=f.firstBaseUpdate,w=f.lastBaseUpdate,D=f.shared.pending;if(D!==null){f.shared.pending=null;var L=D,Z=L.next;L.next=null,w===null?h=Z:w.next=Z,w=L;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,D=ie.lastBaseUpdate,D!==w&&(D===null?ie.firstBaseUpdate=Z:D.next=Z,ie.lastBaseUpdate=L))}if(h!==null){var ce=f.baseState;w=0,ie=Z=L=null,D=h;do{var ee=D.lane&-536870913,ae=ee!==D.lane;if(ae?(Ye&ee)===ee:(c&ee)===ee){ee!==0&&ee===lr&&(Yd=!0),ie!==null&&(ie=ie.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var ke=e,_e=D;ee=s;var at=i;switch(_e.tag){case 1:if(ke=_e.payload,typeof ke=="function"){ce=ke.call(at,ce,ee);break e}ce=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=_e.payload,ee=typeof ke=="function"?ke.call(at,ce,ee):ke,ee==null)break e;ce=x({},ce,ee);break e;case 2:Mn=!0}}ee=D.callback,ee!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=f.callbacks,ae===null?f.callbacks=[ee]:ae.push(ee))}else ae={lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ie===null?(Z=ie=ae,L=ce):ie=ie.next=ae,w|=ee;if(D=D.next,D===null){if(D=f.shared.pending,D===null)break;ae=D,D=ae.next,ae.next=null,f.lastBaseUpdate=ae,f.shared.pending=null}}while(!0);ie===null&&(L=ce),f.baseState=L,f.firstBaseUpdate=Z,f.lastBaseUpdate=ie,h===null&&(f.shared.lanes=0),Fn|=w,e.lanes=w,e.memoizedState=ce}}function zh(e,s){if(typeof e!="function")throw Error(a(191,e));e.call(s)}function Yh(e,s){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)zh(i[e],s)}var or=z(null),Wi=z(0);function Hh(e,s){e=pn,P(Wi,e),P(or,s),pn=e|s.baseLanes}function Hd(){P(Wi,pn),P(or,or.current)}function Fd(){pn=Wi.current,W(or),W(Wi)}var On=0,Ae=null,et=null,yt=null,Zi=!1,cr=!1,ys=!1,Ji=0,jl=0,dr=null,Fv=0;function mt(){throw Error(a(321))}function Bd(e,s){if(s===null)return!1;for(var i=0;i<s.length&&i<e.length;i++)if(!aa(e[i],s[i]))return!1;return!0}function Id(e,s,i,c,f,h){return On=h,Ae=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,S.H=e===null||e.memoizedState===null?jp:Sp,ys=!1,h=i(c,f),ys=!1,cr&&(h=Bh(s,i,c,f)),Fh(e),h}function Fh(e){S.H=ro;var s=et!==null&&et.next!==null;if(On=0,yt=et=Ae=null,Zi=!1,jl=0,dr=null,s)throw Error(a(300));e===null||Ct||(e=e.dependencies,e!==null&&Vi(e)&&(Ct=!0))}function Bh(e,s,i,c){Ae=e;var f=0;do{if(cr&&(dr=null),jl=0,cr=!1,25<=f)throw Error(a(301));if(f+=1,yt=et=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}S.H=Gv,h=s(i,c)}while(cr);return h}function Bv(){var e=S.H,s=e.useState()[0];return s=typeof s.then=="function"?Sl(s):s,e=e.useState()[0],(et!==null?et.memoizedState:null)!==e&&(Ae.flags|=1024),s}function $d(){var e=Ji!==0;return Ji=0,e}function qd(e,s,i){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~i}function Vd(e){if(Zi){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}Zi=!1}On=0,yt=et=Ae=null,cr=!1,jl=Ji=0,dr=null}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ae.memoizedState=yt=e:yt=yt.next=e,yt}function bt(){if(et===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var s=yt===null?Ae.memoizedState:yt.next;if(s!==null)yt=s,et=e;else{if(e===null)throw Ae.alternate===null?Error(a(467)):Error(a(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},yt===null?Ae.memoizedState=yt=e:yt=yt.next=e}return yt}function Qd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(e){var s=jl;return jl+=1,dr===null&&(dr=[]),e=Lh(dr,e,s),s=Ae,(yt===null?s.memoizedState:yt.next)===null&&(s=s.alternate,S.H=s===null||s.memoizedState===null?jp:Sp),e}function eo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Sl(e);if(e.$$typeof===R)return Lt(e)}throw Error(a(438,String(e)))}function Gd(e){var s=null,i=Ae.updateQueue;if(i!==null&&(s=i.memoCache),s==null){var c=Ae.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),i===null&&(i=Qd(),Ae.updateQueue=i),i.memoCache=s,i=s.data[s.index],i===void 0)for(i=s.data[s.index]=Array(e),c=0;c<e;c++)i[c]=de;return s.index++,i}function cn(e,s){return typeof s=="function"?s(e):s}function to(e){var s=bt();return Xd(s,et,e)}function Xd(e,s,i){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=i;var f=e.baseQueue,h=c.pending;if(h!==null){if(f!==null){var w=f.next;f.next=h.next,h.next=w}s.baseQueue=f=h,c.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{s=f.next;var D=w=null,L=null,Z=s,ie=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(Ye&ce)===ce:(On&ce)===ce){var ee=Z.revertLane;if(ee===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===lr&&(ie=!0);else if((On&ee)===ee){Z=Z.next,ee===lr&&(ie=!0);continue}else ce={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},L===null?(D=L=ce,w=h):L=L.next=ce,Ae.lanes|=ee,Fn|=ee;ce=Z.action,ys&&i(h,ce),h=Z.hasEagerState?Z.eagerState:i(h,ce)}else ee={lane:ce,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},L===null?(D=L=ee,w=h):L=L.next=ee,Ae.lanes|=ce,Fn|=ce;Z=Z.next}while(Z!==null&&Z!==s);if(L===null?w=h:L.next=D,!aa(h,e.memoizedState)&&(Ct=!0,ie&&(i=ir,i!==null)))throw i;e.memoizedState=h,e.baseState=w,e.baseQueue=L,c.lastRenderedState=h}return f===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Kd(e){var s=bt(),i=s.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var c=i.dispatch,f=i.pending,h=s.memoizedState;if(f!==null){i.pending=null;var w=f=f.next;do h=e(h,w.action),w=w.next;while(w!==f);aa(h,s.memoizedState)||(Ct=!0),s.memoizedState=h,s.baseQueue===null&&(s.baseState=h),i.lastRenderedState=h}return[h,c]}function Ih(e,s,i){var c=Ae,f=bt(),h=$e;if(h){if(i===void 0)throw Error(a(407));i=i()}else i=s();var w=!aa((et||f).memoizedState,i);w&&(f.memoizedState=i,Ct=!0),f=f.queue;var D=Vh.bind(null,c,f,e);if(Cl(2048,8,D,[e]),f.getSnapshot!==s||w||yt!==null&&yt.memoizedState.tag&1){if(c.flags|=2048,ur(9,ao(),qh.bind(null,c,f,i,s),null),st===null)throw Error(a(349));h||(On&124)!==0||$h(c,s,i)}return i}function $h(e,s,i){e.flags|=16384,e={getSnapshot:s,value:i},s=Ae.updateQueue,s===null?(s=Qd(),Ae.updateQueue=s,s.stores=[e]):(i=s.stores,i===null?s.stores=[e]:i.push(e))}function qh(e,s,i,c){s.value=i,s.getSnapshot=c,Qh(s)&&Gh(e)}function Vh(e,s,i){return i(function(){Qh(s)&&Gh(e)})}function Qh(e){var s=e.getSnapshot;e=e.value;try{var i=s();return!aa(e,i)}catch{return!0}}function Gh(e){var s=ar(e,2);s!==null&&oa(s,e,2)}function Wd(e){var s=Vt();if(typeof e=="function"){var i=e;if(e=i(),ys){Dn(!0);try{i()}finally{Dn(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:e},s}function Xh(e,s,i,c){return e.baseState=i,Xd(e,et,typeof c=="function"?c:cn)}function Iv(e,s,i,c,f){if(so(e))throw Error(a(485));if(e=s.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){h.listeners.push(w)}};S.T!==null?i(!0):h.isTransition=!1,c(h),i=s.pending,i===null?(h.next=s.pending=h,Kh(s,h)):(h.next=i.next,s.pending=i.next=h)}}function Kh(e,s){var i=s.action,c=s.payload,f=e.state;if(s.isTransition){var h=S.T,w={};S.T=w;try{var D=i(f,c),L=S.S;L!==null&&L(w,D),Wh(e,s,D)}catch(Z){Zd(e,s,Z)}finally{S.T=h}}else try{h=i(f,c),Wh(e,s,h)}catch(Z){Zd(e,s,Z)}}function Wh(e,s,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){Zh(e,s,c)},function(c){return Zd(e,s,c)}):Zh(e,s,i)}function Zh(e,s,i){s.status="fulfilled",s.value=i,Jh(s),e.state=i,s=e.pending,s!==null&&(i=s.next,i===s?e.pending=null:(i=i.next,s.next=i,Kh(e,i)))}function Zd(e,s,i){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=i,Jh(s),s=s.next;while(s!==c)}e.action=null}function Jh(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function ep(e,s){return s}function tp(e,s){if($e){var i=st.formState;if(i!==null){e:{var c=Ae;if($e){if(dt){t:{for(var f=dt,h=za;f.nodeType!==8;){if(!h){f=null;break t}if(f=Ea(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){dt=Ea(f.nextSibling),c=f.data==="F!";break e}}hs(c)}c=!1}c&&(s=i[0])}}return i=Vt(),i.memoizedState=i.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ep,lastRenderedState:s},i.queue=c,i=vp.bind(null,Ae,c),c.dispatch=i,c=Wd(!1),h=nu.bind(null,Ae,!1,c.queue),c=Vt(),f={state:s,dispatch:null,action:e,pending:null},c.queue=f,i=Iv.bind(null,Ae,f,h,i),f.dispatch=i,c.memoizedState=e,[s,i,!1]}function ap(e){var s=bt();return np(s,et,e)}function np(e,s,i){if(s=Xd(e,s,ep)[0],e=to(cn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Sl(s)}catch(w){throw w===yl?Xi:w}else c=s;s=bt();var f=s.queue,h=f.dispatch;return i!==s.memoizedState&&(Ae.flags|=2048,ur(9,ao(),$v.bind(null,f,i),null)),[c,h,e]}function $v(e,s){e.action=s}function sp(e){var s=bt(),i=et;if(i!==null)return np(s,i,e);bt(),s=s.memoizedState,i=bt();var c=i.queue.dispatch;return i.memoizedState=e,[s,c,!1]}function ur(e,s,i,c){return e={tag:e,create:i,deps:c,inst:s,next:null},s=Ae.updateQueue,s===null&&(s=Qd(),Ae.updateQueue=s),i=s.lastEffect,i===null?s.lastEffect=e.next=e:(c=i.next,i.next=e,e.next=c,s.lastEffect=e),e}function ao(){return{destroy:void 0,resource:void 0}}function rp(){return bt().memoizedState}function no(e,s,i,c){var f=Vt();c=c===void 0?null:c,Ae.flags|=e,f.memoizedState=ur(1|s,ao(),i,c)}function Cl(e,s,i,c){var f=bt();c=c===void 0?null:c;var h=f.memoizedState.inst;et!==null&&c!==null&&Bd(c,et.memoizedState.deps)?f.memoizedState=ur(s,h,i,c):(Ae.flags|=e,f.memoizedState=ur(1|s,h,i,c))}function lp(e,s){no(8390656,8,e,s)}function ip(e,s){Cl(2048,8,e,s)}function op(e,s){return Cl(4,2,e,s)}function cp(e,s){return Cl(4,4,e,s)}function dp(e,s){if(typeof s=="function"){e=e();var i=s(e);return function(){typeof i=="function"?i():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function up(e,s,i){i=i!=null?i.concat([e]):null,Cl(4,4,dp.bind(null,s,e),i)}function Jd(){}function fp(e,s){var i=bt();s=s===void 0?null:s;var c=i.memoizedState;return s!==null&&Bd(s,c[1])?c[0]:(i.memoizedState=[e,s],e)}function mp(e,s){var i=bt();s=s===void 0?null:s;var c=i.memoizedState;if(s!==null&&Bd(s,c[1]))return c[0];if(c=e(),ys){Dn(!0);try{e()}finally{Dn(!1)}}return i.memoizedState=[c,s],c}function eu(e,s,i){return i===void 0||(On&1073741824)!==0?e.memoizedState=s:(e.memoizedState=i,e=xx(),Ae.lanes|=e,Fn|=e,i)}function hp(e,s,i,c){return aa(i,s)?i:or.current!==null?(e=eu(e,i,c),aa(e,s)||(Ct=!0),e):(On&42)===0?(Ct=!0,e.memoizedState=i):(e=xx(),Ae.lanes|=e,Fn|=e,s)}function pp(e,s,i,c,f){var h=T.p;T.p=h!==0&&8>h?h:8;var w=S.T,D={};S.T=D,nu(e,!1,s,i);try{var L=f(),Z=S.S;if(Z!==null&&Z(D,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ie=Hv(L,c);_l(e,s,ie,ia(e))}else _l(e,s,c,ia(e))}catch(ce){_l(e,s,{then:function(){},status:"rejected",reason:ce},ia())}finally{T.p=h,S.T=w}}function qv(){}function tu(e,s,i,c){if(e.tag!==5)throw Error(a(476));var f=xp(e).queue;pp(e,f,s,U,i===null?qv:function(){return gp(e),i(c)})}function xp(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:U},next:null};var i={};return s.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:i},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function gp(e){var s=xp(e).next.queue;_l(e,s,{},ia())}function au(){return Lt($l)}function yp(){return bt().memoizedState}function bp(){return bt().memoizedState}function Vv(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var i=ia();e=An(i);var c=Rn(s,e,i);c!==null&&(oa(c,s,i),vl(c,s,i)),s={cache:Ad()},e.payload=s;return}s=s.return}}function Qv(e,s,i){var c=ia();i={lane:c,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},so(e)?wp(s,i):(i=Nd(e,s,i,c),i!==null&&(oa(i,e,c),Np(i,s,c)))}function vp(e,s,i){var c=ia();_l(e,s,i,c)}function _l(e,s,i,c){var f={lane:c,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(so(e))wp(s,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=s.lastRenderedReducer,h!==null))try{var w=s.lastRenderedState,D=h(w,i);if(f.hasEagerState=!0,f.eagerState=D,aa(D,w))return Fi(e,s,f,0),st===null&&Hi(),!1}catch{}finally{}if(i=Nd(e,s,f,c),i!==null)return oa(i,e,c),Np(i,s,c),!0}return!1}function nu(e,s,i,c){if(c={lane:2,revertLane:Lu(),action:c,hasEagerState:!1,eagerState:null,next:null},so(e)){if(s)throw Error(a(479))}else s=Nd(e,i,c,2),s!==null&&oa(s,e,2)}function so(e){var s=e.alternate;return e===Ae||s!==null&&s===Ae}function wp(e,s){cr=Zi=!0;var i=e.pending;i===null?s.next=s:(s.next=i.next,i.next=s),e.pending=s}function Np(e,s,i){if((i&4194048)!==0){var c=s.lanes;c&=e.pendingLanes,i|=c,s.lanes=i,Tm(e,i)}}var ro={readContext:Lt,use:eo,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},jp={readContext:Lt,use:eo,useCallback:function(e,s){return Vt().memoizedState=[e,s===void 0?null:s],e},useContext:Lt,useEffect:lp,useImperativeHandle:function(e,s,i){i=i!=null?i.concat([e]):null,no(4194308,4,dp.bind(null,s,e),i)},useLayoutEffect:function(e,s){return no(4194308,4,e,s)},useInsertionEffect:function(e,s){no(4,2,e,s)},useMemo:function(e,s){var i=Vt();s=s===void 0?null:s;var c=e();if(ys){Dn(!0);try{e()}finally{Dn(!1)}}return i.memoizedState=[c,s],c},useReducer:function(e,s,i){var c=Vt();if(i!==void 0){var f=i(s);if(ys){Dn(!0);try{i(s)}finally{Dn(!1)}}}else f=s;return c.memoizedState=c.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},c.queue=e,e=e.dispatch=Qv.bind(null,Ae,e),[c.memoizedState,e]},useRef:function(e){var s=Vt();return e={current:e},s.memoizedState=e},useState:function(e){e=Wd(e);var s=e.queue,i=vp.bind(null,Ae,s);return s.dispatch=i,[e.memoizedState,i]},useDebugValue:Jd,useDeferredValue:function(e,s){var i=Vt();return eu(i,e,s)},useTransition:function(){var e=Wd(!1);return e=pp.bind(null,Ae,e.queue,!0,!1),Vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,i){var c=Ae,f=Vt();if($e){if(i===void 0)throw Error(a(407));i=i()}else{if(i=s(),st===null)throw Error(a(349));(Ye&124)!==0||$h(c,s,i)}f.memoizedState=i;var h={value:i,getSnapshot:s};return f.queue=h,lp(Vh.bind(null,c,h,e),[e]),c.flags|=2048,ur(9,ao(),qh.bind(null,c,h,i,s),null),i},useId:function(){var e=Vt(),s=st.identifierPrefix;if($e){var i=rn,c=sn;i=(c&~(1<<32-ta(c)-1)).toString(32)+i,s="«"+s+"R"+i,i=Ji++,0<i&&(s+="H"+i.toString(32)),s+="»"}else i=Fv++,s="«"+s+"r"+i.toString(32)+"»";return e.memoizedState=s},useHostTransitionStatus:au,useFormState:tp,useActionState:tp,useOptimistic:function(e){var s=Vt();s.memoizedState=s.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=i,s=nu.bind(null,Ae,!0,i),i.dispatch=s,[e,s]},useMemoCache:Gd,useCacheRefresh:function(){return Vt().memoizedState=Vv.bind(null,Ae)}},Sp={readContext:Lt,use:eo,useCallback:fp,useContext:Lt,useEffect:ip,useImperativeHandle:up,useInsertionEffect:op,useLayoutEffect:cp,useMemo:mp,useReducer:to,useRef:rp,useState:function(){return to(cn)},useDebugValue:Jd,useDeferredValue:function(e,s){var i=bt();return hp(i,et.memoizedState,e,s)},useTransition:function(){var e=to(cn)[0],s=bt().memoizedState;return[typeof e=="boolean"?e:Sl(e),s]},useSyncExternalStore:Ih,useId:yp,useHostTransitionStatus:au,useFormState:ap,useActionState:ap,useOptimistic:function(e,s){var i=bt();return Xh(i,et,e,s)},useMemoCache:Gd,useCacheRefresh:bp},Gv={readContext:Lt,use:eo,useCallback:fp,useContext:Lt,useEffect:ip,useImperativeHandle:up,useInsertionEffect:op,useLayoutEffect:cp,useMemo:mp,useReducer:Kd,useRef:rp,useState:function(){return Kd(cn)},useDebugValue:Jd,useDeferredValue:function(e,s){var i=bt();return et===null?eu(i,e,s):hp(i,et.memoizedState,e,s)},useTransition:function(){var e=Kd(cn)[0],s=bt().memoizedState;return[typeof e=="boolean"?e:Sl(e),s]},useSyncExternalStore:Ih,useId:yp,useHostTransitionStatus:au,useFormState:sp,useActionState:sp,useOptimistic:function(e,s){var i=bt();return et!==null?Xh(i,et,e,s):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Gd,useCacheRefresh:bp},fr=null,Dl=0;function lo(e){var s=Dl;return Dl+=1,fr===null&&(fr=[]),Lh(fr,e,s)}function kl(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function io(e,s){throw s.$$typeof===v?Error(a(525)):(e=Object.prototype.toString.call(s),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function Cp(e){var s=e._init;return s(e._payload)}function _p(e){function s(Q,B){if(e){var K=Q.deletions;K===null?(Q.deletions=[B],Q.flags|=16):K.push(B)}}function i(Q,B){if(!e)return null;for(;B!==null;)s(Q,B),B=B.sibling;return null}function c(Q){for(var B=new Map;Q!==null;)Q.key!==null?B.set(Q.key,Q):B.set(Q.index,Q),Q=Q.sibling;return B}function f(Q,B){return Q=nn(Q,B),Q.index=0,Q.sibling=null,Q}function h(Q,B,K){return Q.index=K,e?(K=Q.alternate,K!==null?(K=K.index,K<B?(Q.flags|=67108866,B):K):(Q.flags|=67108866,B)):(Q.flags|=1048576,B)}function w(Q){return e&&Q.alternate===null&&(Q.flags|=67108866),Q}function D(Q,B,K,oe){return B===null||B.tag!==6?(B=Sd(K,Q.mode,oe),B.return=Q,B):(B=f(B,K),B.return=Q,B)}function L(Q,B,K,oe){var be=K.type;return be===N?ie(Q,B,K.props.children,oe,K.key):B!==null&&(B.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Y&&Cp(be)===B.type)?(B=f(B,K.props),kl(B,K),B.return=Q,B):(B=Ii(K.type,K.key,K.props,null,Q.mode,oe),kl(B,K),B.return=Q,B)}function Z(Q,B,K,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Cd(K,Q.mode,oe),B.return=Q,B):(B=f(B,K.children||[]),B.return=Q,B)}function ie(Q,B,K,oe,be){return B===null||B.tag!==7?(B=ds(K,Q.mode,oe,be),B.return=Q,B):(B=f(B,K),B.return=Q,B)}function ce(Q,B,K){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Sd(""+B,Q.mode,K),B.return=Q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return K=Ii(B.type,B.key,B.props,null,Q.mode,K),kl(K,B),K.return=Q,K;case C:return B=Cd(B,Q.mode,K),B.return=Q,B;case Y:var oe=B._init;return B=oe(B._payload),ce(Q,B,K)}if(F(B)||V(B))return B=ds(B,Q.mode,K,null),B.return=Q,B;if(typeof B.then=="function")return ce(Q,lo(B),K);if(B.$$typeof===R)return ce(Q,Qi(Q,B),K);io(Q,B)}return null}function ee(Q,B,K,oe){var be=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return be!==null?null:D(Q,B,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return K.key===be?L(Q,B,K,oe):null;case C:return K.key===be?Z(Q,B,K,oe):null;case Y:return be=K._init,K=be(K._payload),ee(Q,B,K,oe)}if(F(K)||V(K))return be!==null?null:ie(Q,B,K,oe,null);if(typeof K.then=="function")return ee(Q,B,lo(K),oe);if(K.$$typeof===R)return ee(Q,B,Qi(Q,K),oe);io(Q,K)}return null}function ae(Q,B,K,oe,be){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Q=Q.get(K)||null,D(B,Q,""+oe,be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return Q=Q.get(oe.key===null?K:oe.key)||null,L(B,Q,oe,be);case C:return Q=Q.get(oe.key===null?K:oe.key)||null,Z(B,Q,oe,be);case Y:var Oe=oe._init;return oe=Oe(oe._payload),ae(Q,B,K,oe,be)}if(F(oe)||V(oe))return Q=Q.get(K)||null,ie(B,Q,oe,be,null);if(typeof oe.then=="function")return ae(Q,B,K,lo(oe),be);if(oe.$$typeof===R)return ae(Q,B,K,Qi(B,oe),be);io(B,oe)}return null}function ke(Q,B,K,oe){for(var be=null,Oe=null,je=B,De=B=0,Dt=null;je!==null&&De<K.length;De++){je.index>De?(Dt=je,je=null):Dt=je.sibling;var Ie=ee(Q,je,K[De],oe);if(Ie===null){je===null&&(je=Dt);break}e&&je&&Ie.alternate===null&&s(Q,je),B=h(Ie,B,De),Oe===null?be=Ie:Oe.sibling=Ie,Oe=Ie,je=Dt}if(De===K.length)return i(Q,je),$e&&fs(Q,De),be;if(je===null){for(;De<K.length;De++)je=ce(Q,K[De],oe),je!==null&&(B=h(je,B,De),Oe===null?be=je:Oe.sibling=je,Oe=je);return $e&&fs(Q,De),be}for(je=c(je);De<K.length;De++)Dt=ae(je,Q,De,K[De],oe),Dt!==null&&(e&&Dt.alternate!==null&&je.delete(Dt.key===null?De:Dt.key),B=h(Dt,B,De),Oe===null?be=Dt:Oe.sibling=Dt,Oe=Dt);return e&&je.forEach(function(Kn){return s(Q,Kn)}),$e&&fs(Q,De),be}function _e(Q,B,K,oe){if(K==null)throw Error(a(151));for(var be=null,Oe=null,je=B,De=B=0,Dt=null,Ie=K.next();je!==null&&!Ie.done;De++,Ie=K.next()){je.index>De?(Dt=je,je=null):Dt=je.sibling;var Kn=ee(Q,je,Ie.value,oe);if(Kn===null){je===null&&(je=Dt);break}e&&je&&Kn.alternate===null&&s(Q,je),B=h(Kn,B,De),Oe===null?be=Kn:Oe.sibling=Kn,Oe=Kn,je=Dt}if(Ie.done)return i(Q,je),$e&&fs(Q,De),be;if(je===null){for(;!Ie.done;De++,Ie=K.next())Ie=ce(Q,Ie.value,oe),Ie!==null&&(B=h(Ie,B,De),Oe===null?be=Ie:Oe.sibling=Ie,Oe=Ie);return $e&&fs(Q,De),be}for(je=c(je);!Ie.done;De++,Ie=K.next())Ie=ae(je,Q,De,Ie.value,oe),Ie!==null&&(e&&Ie.alternate!==null&&je.delete(Ie.key===null?De:Ie.key),B=h(Ie,B,De),Oe===null?be=Ie:Oe.sibling=Ie,Oe=Ie);return e&&je.forEach(function(Xw){return s(Q,Xw)}),$e&&fs(Q,De),be}function at(Q,B,K,oe){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case b:e:{for(var be=K.key;B!==null;){if(B.key===be){if(be=K.type,be===N){if(B.tag===7){i(Q,B.sibling),oe=f(B,K.props.children),oe.return=Q,Q=oe;break e}}else if(B.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Y&&Cp(be)===B.type){i(Q,B.sibling),oe=f(B,K.props),kl(oe,K),oe.return=Q,Q=oe;break e}i(Q,B);break}else s(Q,B);B=B.sibling}K.type===N?(oe=ds(K.props.children,Q.mode,oe,K.key),oe.return=Q,Q=oe):(oe=Ii(K.type,K.key,K.props,null,Q.mode,oe),kl(oe,K),oe.return=Q,Q=oe)}return w(Q);case C:e:{for(be=K.key;B!==null;){if(B.key===be)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){i(Q,B.sibling),oe=f(B,K.children||[]),oe.return=Q,Q=oe;break e}else{i(Q,B);break}else s(Q,B);B=B.sibling}oe=Cd(K,Q.mode,oe),oe.return=Q,Q=oe}return w(Q);case Y:return be=K._init,K=be(K._payload),at(Q,B,K,oe)}if(F(K))return ke(Q,B,K,oe);if(V(K)){if(be=V(K),typeof be!="function")throw Error(a(150));return K=be.call(K),_e(Q,B,K,oe)}if(typeof K.then=="function")return at(Q,B,lo(K),oe);if(K.$$typeof===R)return at(Q,B,Qi(Q,K),oe);io(Q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,B!==null&&B.tag===6?(i(Q,B.sibling),oe=f(B,K),oe.return=Q,Q=oe):(i(Q,B),oe=Sd(K,Q.mode,oe),oe.return=Q,Q=oe),w(Q)):i(Q,B)}return function(Q,B,K,oe){try{Dl=0;var be=at(Q,B,K,oe);return fr=null,be}catch(je){if(je===yl||je===Xi)throw je;var Oe=na(29,je,null,Q.mode);return Oe.lanes=oe,Oe.return=Q,Oe}finally{}}}var mr=_p(!0),Dp=_p(!1),ga=z(null),Ya=null;function Ln(e){var s=e.alternate;P(Nt,Nt.current&1),P(ga,e),Ya===null&&(s===null||or.current!==null||s.memoizedState!==null)&&(Ya=e)}function kp(e){if(e.tag===22){if(P(Nt,Nt.current),P(ga,e),Ya===null){var s=e.alternate;s!==null&&s.memoizedState!==null&&(Ya=e)}}else Pn()}function Pn(){P(Nt,Nt.current),P(ga,ga.current)}function dn(e){W(ga),Ya===e&&(Ya=null),W(Nt)}var Nt=z(0);function oo(e){for(var s=e;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Qu(i)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function su(e,s,i,c){s=e.memoizedState,i=i(c,s),i=i==null?s:x({},s,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ru={enqueueSetState:function(e,s,i){e=e._reactInternals;var c=ia(),f=An(c);f.payload=s,i!=null&&(f.callback=i),s=Rn(e,f,c),s!==null&&(oa(s,e,c),vl(s,e,c))},enqueueReplaceState:function(e,s,i){e=e._reactInternals;var c=ia(),f=An(c);f.tag=1,f.payload=s,i!=null&&(f.callback=i),s=Rn(e,f,c),s!==null&&(oa(s,e,c),vl(s,e,c))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var i=ia(),c=An(i);c.tag=2,s!=null&&(c.callback=s),s=Rn(e,c,i),s!==null&&(oa(s,e,i),vl(s,e,i))}};function Ep(e,s,i,c,f,h,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,h,w):s.prototype&&s.prototype.isPureReactComponent?!dl(i,c)||!dl(f,h):!0}function Tp(e,s,i,c){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,c),s.state!==e&&ru.enqueueReplaceState(s,s.state,null)}function bs(e,s){var i=s;if("ref"in s){i={};for(var c in s)c!=="ref"&&(i[c]=s[c])}if(e=e.defaultProps){i===s&&(i=x({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}var co=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Mp(e){co(e)}function Ap(e){console.error(e)}function Rp(e){co(e)}function uo(e,s){try{var i=e.onUncaughtError;i(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Op(e,s,i){try{var c=e.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function lu(e,s,i){return i=An(i),i.tag=3,i.payload={element:null},i.callback=function(){uo(e,s)},i}function Lp(e){return e=An(e),e.tag=3,e}function Pp(e,s,i,c){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=c.value;e.payload=function(){return f(h)},e.callback=function(){Op(s,i,c)}}var w=i.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){Op(s,i,c),typeof f!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function Xv(e,s,i,c,f){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=i.alternate,s!==null&&pl(s,i,f,!0),i=ga.current,i!==null){switch(i.tag){case 13:return Ya===null?Tu():i.alternate===null&&ut===0&&(ut=3),i.flags&=-257,i.flags|=65536,i.lanes=f,c===Ld?i.flags|=16384:(s=i.updateQueue,s===null?i.updateQueue=new Set([c]):s.add(c),Au(e,c,f)),!1;case 22:return i.flags|=65536,c===Ld?i.flags|=16384:(s=i.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=s):(i=s.retryQueue,i===null?s.retryQueue=new Set([c]):i.add(c)),Au(e,c,f)),!1}throw Error(a(435,i.tag))}return Au(e,c,f),Tu(),!1}if($e)return s=ga.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==kd&&(e=Error(a(422),{cause:c}),hl(ma(e,i)))):(c!==kd&&(s=Error(a(423),{cause:c}),hl(ma(s,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,c=ma(c,i),f=lu(e.stateNode,c,f),zd(e,f),ut!==4&&(ut=2)),!1;var h=Error(a(520),{cause:c});if(h=ma(h,i),Ll===null?Ll=[h]:Ll.push(h),ut!==4&&(ut=2),s===null)return!0;c=ma(c,i),i=s;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=lu(i.stateNode,c,e),zd(i,e),!1;case 1:if(s=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Bn===null||!Bn.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Lp(f),Pp(f,e,i,c),zd(i,f),!1}i=i.return}while(i!==null);return!1}var Up=Error(a(461)),Ct=!1;function Et(e,s,i,c){s.child=e===null?Dp(s,null,i,c):mr(s,e.child,i,c)}function zp(e,s,i,c,f){i=i.render;var h=s.ref;if("ref"in c){var w={};for(var D in c)D!=="ref"&&(w[D]=c[D])}else w=c;return xs(s),c=Id(e,s,i,w,h,f),D=$d(),e!==null&&!Ct?(qd(e,s,f),un(e,s,f)):($e&&D&&_d(s),s.flags|=1,Et(e,s,c,f),s.child)}function Yp(e,s,i,c,f){if(e===null){var h=i.type;return typeof h=="function"&&!jd(h)&&h.defaultProps===void 0&&i.compare===null?(s.tag=15,s.type=h,Hp(e,s,h,c,f)):(e=Ii(i.type,null,c,s,s.mode,f),e.ref=s.ref,e.return=s,s.child=e)}if(h=e.child,!hu(e,f)){var w=h.memoizedProps;if(i=i.compare,i=i!==null?i:dl,i(w,c)&&e.ref===s.ref)return un(e,s,f)}return s.flags|=1,e=nn(h,c),e.ref=s.ref,e.return=s,s.child=e}function Hp(e,s,i,c,f){if(e!==null){var h=e.memoizedProps;if(dl(h,c)&&e.ref===s.ref)if(Ct=!1,s.pendingProps=c=h,hu(e,f))(e.flags&131072)!==0&&(Ct=!0);else return s.lanes=e.lanes,un(e,s,f)}return iu(e,s,i,c,f)}function Fp(e,s,i){var c=s.pendingProps,f=c.children,h=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=h!==null?h.baseLanes|i:i,e!==null){for(f=s.child=e.child,h=0;f!==null;)h=h|f.lanes|f.childLanes,f=f.sibling;s.childLanes=h&~c}else s.childLanes=0,s.child=null;return Bp(e,s,c,i)}if((i&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gi(s,h!==null?h.cachePool:null),h!==null?Hh(s,h):Hd(),kp(s);else return s.lanes=s.childLanes=536870912,Bp(e,s,h!==null?h.baseLanes|i:i,i)}else h!==null?(Gi(s,h.cachePool),Hh(s,h),Pn(),s.memoizedState=null):(e!==null&&Gi(s,null),Hd(),Pn());return Et(e,s,f,i),s.child}function Bp(e,s,i,c){var f=Od();return f=f===null?null:{parent:wt._currentValue,pool:f},s.memoizedState={baseLanes:i,cachePool:f},e!==null&&Gi(s,null),Hd(),kp(s),e!==null&&pl(e,s,c,!0),null}function fo(e,s){var i=s.ref;if(i===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(s.flags|=4194816)}}function iu(e,s,i,c,f){return xs(s),i=Id(e,s,i,c,void 0,f),c=$d(),e!==null&&!Ct?(qd(e,s,f),un(e,s,f)):($e&&c&&_d(s),s.flags|=1,Et(e,s,i,f),s.child)}function Ip(e,s,i,c,f,h){return xs(s),s.updateQueue=null,i=Bh(s,c,i,f),Fh(e),c=$d(),e!==null&&!Ct?(qd(e,s,h),un(e,s,h)):($e&&c&&_d(s),s.flags|=1,Et(e,s,i,h),s.child)}function $p(e,s,i,c,f){if(xs(s),s.stateNode===null){var h=nr,w=i.contextType;typeof w=="object"&&w!==null&&(h=Lt(w)),h=new i(c,h),s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ru,s.stateNode=h,h._reactInternals=s,h=s.stateNode,h.props=c,h.state=s.memoizedState,h.refs={},Pd(s),w=i.contextType,h.context=typeof w=="object"&&w!==null?Lt(w):nr,h.state=s.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(su(s,i,w,c),h.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(w=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),w!==h.state&&ru.enqueueReplaceState(h,h.state,null),Nl(s,c,h,f),wl(),h.state=s.memoizedState),typeof h.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(e===null){h=s.stateNode;var D=s.memoizedProps,L=bs(i,D);h.props=L;var Z=h.context,ie=i.contextType;w=nr,typeof ie=="object"&&ie!==null&&(w=Lt(ie));var ce=i.getDerivedStateFromProps;ie=typeof ce=="function"||typeof h.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,ie||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(D||Z!==w)&&Tp(s,h,c,w),Mn=!1;var ee=s.memoizedState;h.state=ee,Nl(s,c,h,f),wl(),Z=s.memoizedState,D||ee!==Z||Mn?(typeof ce=="function"&&(su(s,i,ce,c),Z=s.memoizedState),(L=Mn||Ep(s,i,L,c,ee,Z,w))?(ie||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(s.flags|=4194308)):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Z),h.props=c,h.state=Z,h.context=w,c=L):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{h=s.stateNode,Ud(e,s),w=s.memoizedProps,ie=bs(i,w),h.props=ie,ce=s.pendingProps,ee=h.context,Z=i.contextType,L=nr,typeof Z=="object"&&Z!==null&&(L=Lt(Z)),D=i.getDerivedStateFromProps,(Z=typeof D=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w!==ce||ee!==L)&&Tp(s,h,c,L),Mn=!1,ee=s.memoizedState,h.state=ee,Nl(s,c,h,f),wl();var ae=s.memoizedState;w!==ce||ee!==ae||Mn||e!==null&&e.dependencies!==null&&Vi(e.dependencies)?(typeof D=="function"&&(su(s,i,D,c),ae=s.memoizedState),(ie=Mn||Ep(s,i,ie,c,ee,ae,L)||e!==null&&e.dependencies!==null&&Vi(e.dependencies))?(Z||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,ae,L),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,ae,L)),typeof h.componentDidUpdate=="function"&&(s.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof h.componentDidUpdate!="function"||w===e.memoizedProps&&ee===e.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&ee===e.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ae),h.props=c,h.state=ae,h.context=L,c=ie):(typeof h.componentDidUpdate!="function"||w===e.memoizedProps&&ee===e.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&ee===e.memoizedState||(s.flags|=1024),c=!1)}return h=c,fo(e,s),c=(s.flags&128)!==0,h||c?(h=s.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:h.render(),s.flags|=1,e!==null&&c?(s.child=mr(s,e.child,null,f),s.child=mr(s,null,i,f)):Et(e,s,i,f),s.memoizedState=h.state,e=s.child):e=un(e,s,f),e}function qp(e,s,i,c){return ml(),s.flags|=256,Et(e,s,i,c),s.child}var ou={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cu(e){return{baseLanes:e,cachePool:Ah()}}function du(e,s,i){return e=e!==null?e.childLanes&~i:0,s&&(e|=ya),e}function Vp(e,s,i){var c=s.pendingProps,f=!1,h=(s.flags&128)!==0,w;if((w=h)||(w=e!==null&&e.memoizedState===null?!1:(Nt.current&2)!==0),w&&(f=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,e===null){if($e){if(f?Ln(s):Pn(),$e){var D=dt,L;if(L=D){e:{for(L=D,D=za;L.nodeType!==8;){if(!D){D=null;break e}if(L=Ea(L.nextSibling),L===null){D=null;break e}}D=L}D!==null?(s.memoizedState={dehydrated:D,treeContext:us!==null?{id:sn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},L=na(18,null,null,0),L.stateNode=D,L.return=s,s.child=L,Ht=s,dt=null,L=!0):L=!1}L||hs(s)}if(D=s.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Qu(D)?s.lanes=32:s.lanes=536870912,null;dn(s)}return D=c.children,c=c.fallback,f?(Pn(),f=s.mode,D=mo({mode:"hidden",children:D},f),c=ds(c,f,i,null),D.return=s,c.return=s,D.sibling=c,s.child=D,f=s.child,f.memoizedState=cu(i),f.childLanes=du(e,w,i),s.memoizedState=ou,c):(Ln(s),uu(s,D))}if(L=e.memoizedState,L!==null&&(D=L.dehydrated,D!==null)){if(h)s.flags&256?(Ln(s),s.flags&=-257,s=fu(e,s,i)):s.memoizedState!==null?(Pn(),s.child=e.child,s.flags|=128,s=null):(Pn(),f=c.fallback,D=s.mode,c=mo({mode:"visible",children:c.children},D),f=ds(f,D,i,null),f.flags|=2,c.return=s,f.return=s,c.sibling=f,s.child=c,mr(s,e.child,null,i),c=s.child,c.memoizedState=cu(i),c.childLanes=du(e,w,i),s.memoizedState=ou,s=f);else if(Ln(s),Qu(D)){if(w=D.nextSibling&&D.nextSibling.dataset,w)var Z=w.dgst;w=Z,c=Error(a(419)),c.stack="",c.digest=w,hl({value:c,source:null,stack:null}),s=fu(e,s,i)}else if(Ct||pl(e,s,i,!1),w=(i&e.childLanes)!==0,Ct||w){if(w=st,w!==null&&(c=i&-i,c=(c&42)!==0?1:Gc(c),c=(c&(w.suspendedLanes|i))!==0?0:c,c!==0&&c!==L.retryLane))throw L.retryLane=c,ar(e,c),oa(w,e,c),Up;D.data==="$?"||Tu(),s=fu(e,s,i)}else D.data==="$?"?(s.flags|=192,s.child=e.child,s=null):(e=L.treeContext,dt=Ea(D.nextSibling),Ht=s,$e=!0,ms=null,za=!1,e!==null&&(pa[xa++]=sn,pa[xa++]=rn,pa[xa++]=us,sn=e.id,rn=e.overflow,us=s),s=uu(s,c.children),s.flags|=4096);return s}return f?(Pn(),f=c.fallback,D=s.mode,L=e.child,Z=L.sibling,c=nn(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,Z!==null?f=nn(Z,f):(f=ds(f,D,i,null),f.flags|=2),f.return=s,c.return=s,c.sibling=f,s.child=c,c=f,f=s.child,D=e.child.memoizedState,D===null?D=cu(i):(L=D.cachePool,L!==null?(Z=wt._currentValue,L=L.parent!==Z?{parent:Z,pool:Z}:L):L=Ah(),D={baseLanes:D.baseLanes|i,cachePool:L}),f.memoizedState=D,f.childLanes=du(e,w,i),s.memoizedState=ou,c):(Ln(s),i=e.child,e=i.sibling,i=nn(i,{mode:"visible",children:c.children}),i.return=s,i.sibling=null,e!==null&&(w=s.deletions,w===null?(s.deletions=[e],s.flags|=16):w.push(e)),s.child=i,s.memoizedState=null,i)}function uu(e,s){return s=mo({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function mo(e,s){return e=na(22,e,null,s),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function fu(e,s,i){return mr(s,e.child,null,i),e=uu(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function Qp(e,s,i){e.lanes|=s;var c=e.alternate;c!==null&&(c.lanes|=s),Td(e.return,s,i)}function mu(e,s,i,c,f){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:f}:(h.isBackwards=s,h.rendering=null,h.renderingStartTime=0,h.last=c,h.tail=i,h.tailMode=f)}function Gp(e,s,i){var c=s.pendingProps,f=c.revealOrder,h=c.tail;if(Et(e,s,c.children,i),c=Nt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qp(e,i,s);else if(e.tag===19)Qp(e,i,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(P(Nt,c),f){case"forwards":for(i=s.child,f=null;i!==null;)e=i.alternate,e!==null&&oo(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=s.child,s.child=null):(f=i.sibling,i.sibling=null),mu(s,!1,f,i,h);break;case"backwards":for(i=null,f=s.child,s.child=null;f!==null;){if(e=f.alternate,e!==null&&oo(e)===null){s.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}mu(s,!0,i,null,h);break;case"together":mu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function un(e,s,i){if(e!==null&&(s.dependencies=e.dependencies),Fn|=s.lanes,(i&s.childLanes)===0)if(e!==null){if(pl(e,s,i,!1),(i&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(a(153));if(s.child!==null){for(e=s.child,i=nn(e,e.pendingProps),s.child=i,i.return=s;e.sibling!==null;)e=e.sibling,i=i.sibling=nn(e,e.pendingProps),i.return=s;i.sibling=null}return s.child}function hu(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&Vi(e)))}function Kv(e,s,i){switch(s.tag){case 3:Ne(s,s.stateNode.containerInfo),Tn(s,wt,e.memoizedState.cache),ml();break;case 27:case 5:fe(s);break;case 4:Ne(s,s.stateNode.containerInfo);break;case 10:Tn(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ln(s),s.flags|=128,null):(i&s.child.childLanes)!==0?Vp(e,s,i):(Ln(s),e=un(e,s,i),e!==null?e.sibling:null);Ln(s);break;case 19:var f=(e.flags&128)!==0;if(c=(i&s.childLanes)!==0,c||(pl(e,s,i,!1),c=(i&s.childLanes)!==0),f){if(c)return Gp(e,s,i);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),P(Nt,Nt.current),c)break;return null;case 22:case 23:return s.lanes=0,Fp(e,s,i);case 24:Tn(s,wt,e.memoizedState.cache)}return un(e,s,i)}function Xp(e,s,i){if(e!==null)if(e.memoizedProps!==s.pendingProps)Ct=!0;else{if(!hu(e,i)&&(s.flags&128)===0)return Ct=!1,Kv(e,s,i);Ct=(e.flags&131072)!==0}else Ct=!1,$e&&(s.flags&1048576)!==0&&Ch(s,qi,s.index);switch(s.lanes=0,s.tag){case 16:e:{e=s.pendingProps;var c=s.elementType,f=c._init;if(c=f(c._payload),s.type=c,typeof c=="function")jd(c)?(e=bs(c,e),s.tag=1,s=$p(null,s,c,e,i)):(s.tag=0,s=iu(null,s,c,e,i));else{if(c!=null){if(f=c.$$typeof,f===H){s.tag=11,s=zp(null,s,c,e,i);break e}else if(f===I){s.tag=14,s=Yp(null,s,c,e,i);break e}}throw s=se(c)||c,Error(a(306,s,""))}}return s;case 0:return iu(e,s,s.type,s.pendingProps,i);case 1:return c=s.type,f=bs(c,s.pendingProps),$p(e,s,c,f,i);case 3:e:{if(Ne(s,s.stateNode.containerInfo),e===null)throw Error(a(387));c=s.pendingProps;var h=s.memoizedState;f=h.element,Ud(e,s),Nl(s,c,null,i);var w=s.memoizedState;if(c=w.cache,Tn(s,wt,c),c!==h.cache&&Md(s,[wt],i,!0),wl(),c=w.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=qp(e,s,c,i);break e}else if(c!==f){f=ma(Error(a(424)),s),hl(f),s=qp(e,s,c,i);break e}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(dt=Ea(e.firstChild),Ht=s,$e=!0,ms=null,za=!0,i=Dp(s,null,c,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(ml(),c===f){s=un(e,s,i);break e}Et(e,s,c,i)}s=s.child}return s;case 26:return fo(e,s),e===null?(i=Jx(s.type,null,s.pendingProps,null))?s.memoizedState=i:$e||(i=s.type,e=s.pendingProps,c=Do(X.current).createElement(i),c[Ot]=s,c[$t]=e,Mt(c,i,e),St(c),s.stateNode=c):s.memoizedState=Jx(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return fe(s),e===null&&$e&&(c=s.stateNode=Kx(s.type,s.pendingProps,X.current),Ht=s,za=!0,f=dt,qn(s.type)?(Gu=f,dt=Ea(c.firstChild)):dt=f),Et(e,s,s.pendingProps.children,i),fo(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&$e&&((f=c=dt)&&(c=Sw(c,s.type,s.pendingProps,za),c!==null?(s.stateNode=c,Ht=s,dt=Ea(c.firstChild),za=!1,f=!0):f=!1),f||hs(s)),fe(s),f=s.type,h=s.pendingProps,w=e!==null?e.memoizedProps:null,c=h.children,$u(f,h)?c=null:w!==null&&$u(f,w)&&(s.flags|=32),s.memoizedState!==null&&(f=Id(e,s,Bv,null,null,i),$l._currentValue=f),fo(e,s),Et(e,s,c,i),s.child;case 6:return e===null&&$e&&((e=i=dt)&&(i=Cw(i,s.pendingProps,za),i!==null?(s.stateNode=i,Ht=s,dt=null,e=!0):e=!1),e||hs(s)),null;case 13:return Vp(e,s,i);case 4:return Ne(s,s.stateNode.containerInfo),c=s.pendingProps,e===null?s.child=mr(s,null,c,i):Et(e,s,c,i),s.child;case 11:return zp(e,s,s.type,s.pendingProps,i);case 7:return Et(e,s,s.pendingProps,i),s.child;case 8:return Et(e,s,s.pendingProps.children,i),s.child;case 12:return Et(e,s,s.pendingProps.children,i),s.child;case 10:return c=s.pendingProps,Tn(s,s.type,c.value),Et(e,s,c.children,i),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,xs(s),f=Lt(f),c=c(f),s.flags|=1,Et(e,s,c,i),s.child;case 14:return Yp(e,s,s.type,s.pendingProps,i);case 15:return Hp(e,s,s.type,s.pendingProps,i);case 19:return Gp(e,s,i);case 31:return c=s.pendingProps,i=s.mode,c={mode:c.mode,children:c.children},e===null?(i=mo(c,i),i.ref=s.ref,s.child=i,i.return=s,s=i):(i=nn(e.child,c),i.ref=s.ref,s.child=i,i.return=s,s=i),s;case 22:return Fp(e,s,i);case 24:return xs(s),c=Lt(wt),e===null?(f=Od(),f===null&&(f=st,h=Ad(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),s.memoizedState={parent:c,cache:f},Pd(s),Tn(s,wt,f)):((e.lanes&i)!==0&&(Ud(e,s),Nl(s,null,null,i),wl()),f=e.memoizedState,h=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Tn(s,wt,c)):(c=h.cache,Tn(s,wt,c),c!==f.cache&&Md(s,[wt],i,!0))),Et(e,s,s.pendingProps.children,i),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function fn(e){e.flags|=4}function Kp(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!s0(s)){if(s=ga.current,s!==null&&((Ye&4194048)===Ye?Ya!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||s!==Ya))throw bl=Ld,Rh;e.flags|=8192}}function ho(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?km():536870912,e.lanes|=s,gr|=s)}function El(e,s){if(!$e)switch(e.tailMode){case"hidden":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function ot(e){var s=e.alternate!==null&&e.alternate.child===e.child,i=0,c=0;if(s)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=i,s}function Wv(e,s,i){var c=s.pendingProps;switch(Dd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ot(s),null;case 3:return i=s.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),on(wt),We(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(fl(s)?fn(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,kh())),ot(s),null;case 26:return i=s.memoizedState,e===null?(fn(s),i!==null?(ot(s),Kp(s,i)):(ot(s),s.flags&=-16777217)):i?i!==e.memoizedState?(fn(s),ot(s),Kp(s,i)):(ot(s),s.flags&=-16777217):(e.memoizedProps!==c&&fn(s),ot(s),s.flags&=-16777217),null;case 27:te(s),i=X.current;var f=s.type;if(e!==null&&s.stateNode!=null)e.memoizedProps!==c&&fn(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return ot(s),null}e=q.current,fl(s)?_h(s):(e=Kx(f,c,i),s.stateNode=e,fn(s))}return ot(s),null;case 5:if(te(s),i=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==c&&fn(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return ot(s),null}if(e=q.current,fl(s))_h(s);else{switch(f=Do(X.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?f.createElement(i,{is:c.is}):f.createElement(i)}}e[Ot]=s,e[$t]=c;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=e;e:switch(Mt(e,i,c),i){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&fn(s)}}return ot(s),s.flags&=-16777217,null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==c&&fn(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(a(166));if(e=X.current,fl(s)){if(e=s.stateNode,i=s.memoizedProps,c=null,f=Ht,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}e[Ot]=s,e=!!(e.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||Ix(e.nodeValue,i)),e||hs(s)}else e=Do(e).createTextNode(c),e[Ot]=s,s.stateNode=e}return ot(s),null;case 13:if(c=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=fl(s),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ot]=s}else ml(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),f=!1}else f=kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(dn(s),s):(dn(s),null)}if(dn(s),(s.flags&128)!==0)return s.lanes=i,s;if(i=c!==null,e=e!==null&&e.memoizedState!==null,i){c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var h=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==f&&(c.flags|=2048)}return i!==e&&i&&(s.child.flags|=8192),ho(s,s.updateQueue),ot(s),null;case 4:return We(),e===null&&Yu(s.stateNode.containerInfo),ot(s),null;case 10:return on(s.type),ot(s),null;case 19:if(W(Nt),f=s.memoizedState,f===null)return ot(s),null;if(c=(s.flags&128)!==0,h=f.rendering,h===null)if(c)El(f,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(h=oo(e),h!==null){for(s.flags|=128,El(f,!1),e=h.updateQueue,s.updateQueue=e,ho(s,e),s.subtreeFlags=0,e=i,i=s.child;i!==null;)Sh(i,e),i=i.sibling;return P(Nt,Nt.current&1|2),s.child}e=e.sibling}f.tail!==null&&Je()>go&&(s.flags|=128,c=!0,El(f,!1),s.lanes=4194304)}else{if(!c)if(e=oo(h),e!==null){if(s.flags|=128,c=!0,e=e.updateQueue,s.updateQueue=e,ho(s,e),El(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!$e)return ot(s),null}else 2*Je()-f.renderingStartTime>go&&i!==536870912&&(s.flags|=128,c=!0,El(f,!1),s.lanes=4194304);f.isBackwards?(h.sibling=s.child,s.child=h):(e=f.last,e!==null?e.sibling=h:s.child=h,f.last=h)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Je(),s.sibling=null,e=Nt.current,P(Nt,c?e&1|2:e&1),s):(ot(s),null);case 22:case 23:return dn(s),Fd(),c=s.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(i&536870912)!==0&&(s.flags&128)===0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),i=s.updateQueue,i!==null&&ho(s,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==i&&(s.flags|=2048),e!==null&&W(gs),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),on(wt),ot(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function Zv(e,s){switch(Dd(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return on(wt),We(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return te(s),null;case 13:if(dn(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(a(340));ml()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return W(Nt),null;case 4:return We(),null;case 10:return on(s.type),null;case 22:case 23:return dn(s),Fd(),e!==null&&W(gs),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return on(wt),null;case 25:return null;default:return null}}function Wp(e,s){switch(Dd(s),s.tag){case 3:on(wt),We();break;case 26:case 27:case 5:te(s);break;case 4:We();break;case 13:dn(s);break;case 19:W(Nt);break;case 10:on(s.type);break;case 22:case 23:dn(s),Fd(),e!==null&&W(gs);break;case 24:on(wt)}}function Tl(e,s){try{var i=s.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var f=c.next;i=f;do{if((i.tag&e)===e){c=void 0;var h=i.create,w=i.inst;c=h(),w.destroy=c}i=i.next}while(i!==f)}}catch(D){nt(s,s.return,D)}}function Un(e,s,i){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var h=f.next;c=h;do{if((c.tag&e)===e){var w=c.inst,D=w.destroy;if(D!==void 0){w.destroy=void 0,f=s;var L=i,Z=D;try{Z()}catch(ie){nt(f,L,ie)}}}c=c.next}while(c!==h)}}catch(ie){nt(s,s.return,ie)}}function Zp(e){var s=e.updateQueue;if(s!==null){var i=e.stateNode;try{Yh(s,i)}catch(c){nt(e,e.return,c)}}}function Jp(e,s,i){i.props=bs(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(c){nt(e,s,c)}}function Ml(e,s){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof i=="function"?e.refCleanup=i(c):i.current=c}}catch(f){nt(e,s,f)}}function Ha(e,s){var i=e.ref,c=e.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(f){nt(e,s,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){nt(e,s,f)}else i.current=null}function ex(e){var s=e.type,i=e.memoizedProps,c=e.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(f){nt(e,e.return,f)}}function pu(e,s,i){try{var c=e.stateNode;bw(c,e.type,i,s),c[$t]=s}catch(f){nt(e,e.return,f)}}function tx(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qn(e.type)||e.tag===4}function xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gu(e,s,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,s?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,s):(s=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.appendChild(e),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=_o));else if(c!==4&&(c===27&&qn(e.type)&&(i=e.stateNode,s=null),e=e.child,e!==null))for(gu(e,s,i),e=e.sibling;e!==null;)gu(e,s,i),e=e.sibling}function po(e,s,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,s?i.insertBefore(e,s):i.appendChild(e);else if(c!==4&&(c===27&&qn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(po(e,s,i),e=e.sibling;e!==null;)po(e,s,i),e=e.sibling}function ax(e){var s=e.stateNode,i=e.memoizedProps;try{for(var c=e.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Mt(s,c,i),s[Ot]=e,s[$t]=i}catch(h){nt(e,e.return,h)}}var mn=!1,ht=!1,yu=!1,nx=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Jv(e,s){if(e=e.containerInfo,Bu=Ro,e=hh(e),xd(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var f=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var w=0,D=-1,L=-1,Z=0,ie=0,ce=e,ee=null;t:for(;;){for(var ae;ce!==i||f!==0&&ce.nodeType!==3||(D=w+f),ce!==h||c!==0&&ce.nodeType!==3||(L=w+c),ce.nodeType===3&&(w+=ce.nodeValue.length),(ae=ce.firstChild)!==null;)ee=ce,ce=ae;for(;;){if(ce===e)break t;if(ee===i&&++Z===f&&(D=w),ee===h&&++ie===c&&(L=w),(ae=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=ae}i=D===-1||L===-1?null:{start:D,end:L}}else i=null}i=i||{start:0,end:0}}else i=null;for(Iu={focusedElem:e,selectionRange:i},Ro=!1,_t=s;_t!==null;)if(s=_t,e=s.child,(s.subtreeFlags&1024)!==0&&e!==null)e.return=s,_t=e;else for(;_t!==null;){switch(s=_t,h=s.alternate,e=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=s,f=h.memoizedProps,h=h.memoizedState,c=i.stateNode;try{var ke=bs(i.type,f,i.elementType===i.type);e=c.getSnapshotBeforeUpdate(ke,h),c.__reactInternalSnapshotBeforeUpdate=e}catch(_e){nt(i,i.return,_e)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,i=e.nodeType,i===9)Vu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=s.sibling,e!==null){e.return=s.return,_t=e;break}_t=s.return}}function sx(e,s,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:zn(e,i),c&4&&Tl(5,i);break;case 1:if(zn(e,i),c&4)if(e=i.stateNode,s===null)try{e.componentDidMount()}catch(w){nt(i,i.return,w)}else{var f=bs(i.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(f,s,e.__reactInternalSnapshotBeforeUpdate)}catch(w){nt(i,i.return,w)}}c&64&&Zp(i),c&512&&Ml(i,i.return);break;case 3:if(zn(e,i),c&64&&(e=i.updateQueue,e!==null)){if(s=null,i.child!==null)switch(i.child.tag){case 27:case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}try{Yh(e,s)}catch(w){nt(i,i.return,w)}}break;case 27:s===null&&c&4&&ax(i);case 26:case 5:zn(e,i),s===null&&c&4&&ex(i),c&512&&Ml(i,i.return);break;case 12:zn(e,i);break;case 13:zn(e,i),c&4&&ix(e,i),c&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=ow.bind(null,i),_w(e,i))));break;case 22:if(c=i.memoizedState!==null||mn,!c){s=s!==null&&s.memoizedState!==null||ht,f=mn;var h=ht;mn=c,(ht=s)&&!h?Yn(e,i,(i.subtreeFlags&8772)!==0):zn(e,i),mn=f,ht=h}break;case 30:break;default:zn(e,i)}}function rx(e){var s=e.alternate;s!==null&&(e.alternate=null,rx(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&Wc(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,Qt=!1;function hn(e,s,i){for(i=i.child;i!==null;)lx(e,s,i),i=i.sibling}function lx(e,s,i){if(ea&&typeof ea.onCommitFiberUnmount=="function")try{ea.onCommitFiberUnmount(Zr,i)}catch{}switch(i.tag){case 26:ht||Ha(i,s),hn(e,s,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ht||Ha(i,s);var c=rt,f=Qt;qn(i.type)&&(rt=i.stateNode,Qt=!1),hn(e,s,i),Hl(i.stateNode),rt=c,Qt=f;break;case 5:ht||Ha(i,s);case 6:if(c=rt,f=Qt,rt=null,hn(e,s,i),rt=c,Qt=f,rt!==null)if(Qt)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(i.stateNode)}catch(h){nt(i,s,h)}else try{rt.removeChild(i.stateNode)}catch(h){nt(i,s,h)}break;case 18:rt!==null&&(Qt?(e=rt,Gx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Gl(e)):Gx(rt,i.stateNode));break;case 4:c=rt,f=Qt,rt=i.stateNode.containerInfo,Qt=!0,hn(e,s,i),rt=c,Qt=f;break;case 0:case 11:case 14:case 15:ht||Un(2,i,s),ht||Un(4,i,s),hn(e,s,i);break;case 1:ht||(Ha(i,s),c=i.stateNode,typeof c.componentWillUnmount=="function"&&Jp(i,s,c)),hn(e,s,i);break;case 21:hn(e,s,i);break;case 22:ht=(c=ht)||i.memoizedState!==null,hn(e,s,i),ht=c;break;default:hn(e,s,i)}}function ix(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gl(e)}catch(i){nt(s,s.return,i)}}function ew(e){switch(e.tag){case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new nx),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new nx),s;default:throw Error(a(435,e.tag))}}function bu(e,s){var i=ew(e);s.forEach(function(c){var f=cw.bind(null,e,c);i.has(c)||(i.add(c),c.then(f,f))})}function sa(e,s){var i=s.deletions;if(i!==null)for(var c=0;c<i.length;c++){var f=i[c],h=e,w=s,D=w;e:for(;D!==null;){switch(D.tag){case 27:if(qn(D.type)){rt=D.stateNode,Qt=!1;break e}break;case 5:rt=D.stateNode,Qt=!1;break e;case 3:case 4:rt=D.stateNode.containerInfo,Qt=!0;break e}D=D.return}if(rt===null)throw Error(a(160));lx(h,w,f),rt=null,Qt=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)ox(s,e),s=s.sibling}var ka=null;function ox(e,s){var i=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sa(s,e),ra(e),c&4&&(Un(3,e,e.return),Tl(3,e),Un(5,e,e.return));break;case 1:sa(s,e),ra(e),c&512&&(ht||i===null||Ha(i,i.return)),c&64&&mn&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var f=ka;if(sa(s,e),ra(e),c&512&&(ht||i===null||Ha(i,i.return)),c&4){var h=i!==null?i.memoizedState:null;if(c=e.memoizedState,i===null)if(c===null)if(e.stateNode===null){e:{c=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":h=f.getElementsByTagName("title")[0],(!h||h[tl]||h[Ot]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(c),f.head.insertBefore(h,f.querySelector("head > title"))),Mt(h,c,i),h[Ot]=e,St(h),c=h;break e;case"link":var w=a0("link","href",f).get(c+(i.href||""));if(w){for(var D=0;D<w.length;D++)if(h=w[D],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){w.splice(D,1);break t}}h=f.createElement(c),Mt(h,c,i),f.head.appendChild(h);break;case"meta":if(w=a0("meta","content",f).get(c+(i.content||""))){for(D=0;D<w.length;D++)if(h=w[D],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){w.splice(D,1);break t}}h=f.createElement(c),Mt(h,c,i),f.head.appendChild(h);break;default:throw Error(a(468,c))}h[Ot]=e,St(h),c=h}e.stateNode=c}else n0(f,e.type,e.stateNode);else e.stateNode=t0(f,c,e.memoizedProps);else h!==c?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,c===null?n0(f,e.type,e.stateNode):t0(f,c,e.memoizedProps)):c===null&&e.stateNode!==null&&pu(e,e.memoizedProps,i.memoizedProps)}break;case 27:sa(s,e),ra(e),c&512&&(ht||i===null||Ha(i,i.return)),i!==null&&c&4&&pu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(sa(s,e),ra(e),c&512&&(ht||i===null||Ha(i,i.return)),e.flags&32){f=e.stateNode;try{Xs(f,"")}catch(ae){nt(e,e.return,ae)}}c&4&&e.stateNode!=null&&(f=e.memoizedProps,pu(e,f,i!==null?i.memoizedProps:f)),c&1024&&(yu=!0);break;case 6:if(sa(s,e),ra(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,i=e.stateNode;try{i.nodeValue=c}catch(ae){nt(e,e.return,ae)}}break;case 3:if(To=null,f=ka,ka=ko(s.containerInfo),sa(s,e),ka=f,ra(e),c&4&&i!==null&&i.memoizedState.isDehydrated)try{Gl(s.containerInfo)}catch(ae){nt(e,e.return,ae)}yu&&(yu=!1,cx(e));break;case 4:c=ka,ka=ko(e.stateNode.containerInfo),sa(s,e),ra(e),ka=c;break;case 12:sa(s,e),ra(e);break;case 13:sa(s,e),ra(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Cu=Je()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,bu(e,c)));break;case 22:f=e.memoizedState!==null;var L=i!==null&&i.memoizedState!==null,Z=mn,ie=ht;if(mn=Z||f,ht=ie||L,sa(s,e),ht=ie,mn=Z,ra(e),c&8192)e:for(s=e.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(i===null||L||mn||ht||vs(e)),i=null,s=e;;){if(s.tag===5||s.tag===26){if(i===null){L=i=s;try{if(h=L.stateNode,f)w=h.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{D=L.stateNode;var ce=L.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;D.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(ae){nt(L,L.return,ae)}}}else if(s.tag===6){if(i===null){L=s;try{L.stateNode.nodeValue=f?"":L.memoizedProps}catch(ae){nt(L,L.return,ae)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;i===s&&(i=null),s=s.return}i===s&&(i=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=e.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,bu(e,i))));break;case 19:sa(s,e),ra(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,bu(e,c)));break;case 30:break;case 21:break;default:sa(s,e),ra(e)}}function ra(e){var s=e.flags;if(s&2){try{for(var i,c=e.return;c!==null;){if(tx(c)){i=c;break}c=c.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var f=i.stateNode,h=xu(e);po(e,h,f);break;case 5:var w=i.stateNode;i.flags&32&&(Xs(w,""),i.flags&=-33);var D=xu(e);po(e,D,w);break;case 3:case 4:var L=i.stateNode.containerInfo,Z=xu(e);gu(e,Z,L);break;default:throw Error(a(161))}}catch(ie){nt(e,e.return,ie)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function cx(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;cx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function zn(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)sx(e,s.alternate,s),s=s.sibling}function vs(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:Un(4,s,s.return),vs(s);break;case 1:Ha(s,s.return);var i=s.stateNode;typeof i.componentWillUnmount=="function"&&Jp(s,s.return,i),vs(s);break;case 27:Hl(s.stateNode);case 26:case 5:Ha(s,s.return),vs(s);break;case 22:s.memoizedState===null&&vs(s);break;case 30:vs(s);break;default:vs(s)}e=e.sibling}}function Yn(e,s,i){for(i=i&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=e,h=s,w=h.flags;switch(h.tag){case 0:case 11:case 15:Yn(f,h,i),Tl(4,h);break;case 1:if(Yn(f,h,i),c=h,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Z){nt(c,c.return,Z)}if(c=h,f=c.updateQueue,f!==null){var D=c.stateNode;try{var L=f.shared.hiddenCallbacks;if(L!==null)for(f.shared.hiddenCallbacks=null,f=0;f<L.length;f++)zh(L[f],D)}catch(Z){nt(c,c.return,Z)}}i&&w&64&&Zp(h),Ml(h,h.return);break;case 27:ax(h);case 26:case 5:Yn(f,h,i),i&&c===null&&w&4&&ex(h),Ml(h,h.return);break;case 12:Yn(f,h,i);break;case 13:Yn(f,h,i),i&&w&4&&ix(f,h);break;case 22:h.memoizedState===null&&Yn(f,h,i),Ml(h,h.return);break;case 30:break;default:Yn(f,h,i)}s=s.sibling}}function vu(e,s){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&xl(i))}function wu(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&xl(e))}function Fa(e,s,i,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)dx(e,s,i,c),s=s.sibling}function dx(e,s,i,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Fa(e,s,i,c),f&2048&&Tl(9,s);break;case 1:Fa(e,s,i,c);break;case 3:Fa(e,s,i,c),f&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&xl(e)));break;case 12:if(f&2048){Fa(e,s,i,c),e=s.stateNode;try{var h=s.memoizedProps,w=h.id,D=h.onPostCommit;typeof D=="function"&&D(w,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(L){nt(s,s.return,L)}}else Fa(e,s,i,c);break;case 13:Fa(e,s,i,c);break;case 23:break;case 22:h=s.stateNode,w=s.alternate,s.memoizedState!==null?h._visibility&2?Fa(e,s,i,c):Al(e,s):h._visibility&2?Fa(e,s,i,c):(h._visibility|=2,hr(e,s,i,c,(s.subtreeFlags&10256)!==0)),f&2048&&vu(w,s);break;case 24:Fa(e,s,i,c),f&2048&&wu(s.alternate,s);break;default:Fa(e,s,i,c)}}function hr(e,s,i,c,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var h=e,w=s,D=i,L=c,Z=w.flags;switch(w.tag){case 0:case 11:case 15:hr(h,w,D,L,f),Tl(8,w);break;case 23:break;case 22:var ie=w.stateNode;w.memoizedState!==null?ie._visibility&2?hr(h,w,D,L,f):Al(h,w):(ie._visibility|=2,hr(h,w,D,L,f)),f&&Z&2048&&vu(w.alternate,w);break;case 24:hr(h,w,D,L,f),f&&Z&2048&&wu(w.alternate,w);break;default:hr(h,w,D,L,f)}s=s.sibling}}function Al(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var i=e,c=s,f=c.flags;switch(c.tag){case 22:Al(i,c),f&2048&&vu(c.alternate,c);break;case 24:Al(i,c),f&2048&&wu(c.alternate,c);break;default:Al(i,c)}s=s.sibling}}var Rl=8192;function pr(e){if(e.subtreeFlags&Rl)for(e=e.child;e!==null;)ux(e),e=e.sibling}function ux(e){switch(e.tag){case 26:pr(e),e.flags&Rl&&e.memoizedState!==null&&Yw(ka,e.memoizedState,e.memoizedProps);break;case 5:pr(e);break;case 3:case 4:var s=ka;ka=ko(e.stateNode.containerInfo),pr(e),ka=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Rl,Rl=16777216,pr(e),Rl=s):pr(e));break;default:pr(e)}}function fx(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function Ol(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var c=s[i];_t=c,hx(c,e)}fx(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mx(e),e=e.sibling}function mx(e){switch(e.tag){case 0:case 11:case 15:Ol(e),e.flags&2048&&Un(9,e,e.return);break;case 3:Ol(e);break;case 12:Ol(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,xo(e)):Ol(e);break;default:Ol(e)}}function xo(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var c=s[i];_t=c,hx(c,e)}fx(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:Un(8,s,s.return),xo(s);break;case 22:i=s.stateNode,i._visibility&2&&(i._visibility&=-3,xo(s));break;default:xo(s)}e=e.sibling}}function hx(e,s){for(;_t!==null;){var i=_t;switch(i.tag){case 0:case 11:case 15:Un(8,i,s);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:xl(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,_t=c;else e:for(i=e;_t!==null;){c=_t;var f=c.sibling,h=c.return;if(rx(c),c===i){_t=null;break e}if(f!==null){f.return=h,_t=f;break e}_t=h}}}var tw={getCacheForType:function(e){var s=Lt(wt),i=s.data.get(e);return i===void 0&&(i=e(),s.data.set(e,i)),i}},aw=typeof WeakMap=="function"?WeakMap:Map,Qe=0,st=null,Le=null,Ye=0,Ge=0,la=null,Hn=!1,xr=!1,Nu=!1,pn=0,ut=0,Fn=0,ws=0,ju=0,ya=0,gr=0,Ll=null,Gt=null,Su=!1,Cu=0,go=1/0,yo=null,Bn=null,Tt=0,In=null,yr=null,br=0,_u=0,Du=null,px=null,Pl=0,ku=null;function ia(){if((Qe&2)!==0&&Ye!==0)return Ye&-Ye;if(S.T!==null){var e=lr;return e!==0?e:Lu()}return Mm()}function xx(){ya===0&&(ya=(Ye&536870912)===0||$e?Dm():536870912);var e=ga.current;return e!==null&&(e.flags|=32),ya}function oa(e,s,i){(e===st&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)&&(vr(e,0),$n(e,Ye,ya,!1)),el(e,i),((Qe&2)===0||e!==st)&&(e===st&&((Qe&2)===0&&(ws|=i),ut===4&&$n(e,Ye,ya,!1)),Ba(e))}function gx(e,s,i){if((Qe&6)!==0)throw Error(a(327));var c=!i&&(s&124)===0&&(s&e.expiredLanes)===0||Jr(e,s),f=c?rw(e,s):Mu(e,s,!0),h=c;do{if(f===0){xr&&!c&&$n(e,s,0,!1);break}else{if(i=e.current.alternate,h&&!nw(i)){f=Mu(e,s,!1),h=!1;continue}if(f===2){if(h=s,e.errorRecoveryDisabledLanes&h)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var D=e;f=Ll;var L=D.current.memoizedState.isDehydrated;if(L&&(vr(D,w).flags|=256),w=Mu(D,w,!1),w!==2){if(Nu&&!L){D.errorRecoveryDisabledLanes|=h,ws|=h,f=4;break e}h=Gt,Gt=f,h!==null&&(Gt===null?Gt=h:Gt.push.apply(Gt,h))}f=w}if(h=!1,f!==2)continue}}if(f===1){vr(e,0),$n(e,s,0,!0);break}e:{switch(c=e,h=f,h){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:$n(c,s,ya,!Hn);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(f=Cu+300-Je(),10<f)){if($n(c,s,ya,!Hn),ki(c,0,!0)!==0)break e;c.timeoutHandle=Vx(yx.bind(null,c,i,Gt,yo,Su,s,ya,ws,gr,Hn,h,2,-0,0),f);break e}yx(c,i,Gt,yo,Su,s,ya,ws,gr,Hn,h,0,-0,0)}}break}while(!0);Ba(e)}function yx(e,s,i,c,f,h,w,D,L,Z,ie,ce,ee,ae){if(e.timeoutHandle=-1,ce=s.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:zw},ux(s),ce=Hw(),ce!==null)){e.cancelPendingCommit=ce(Cx.bind(null,e,s,h,i,c,f,w,D,L,ie,1,ee,ae)),$n(e,h,w,!Z);return}Cx(e,s,h,i,c,f,w,D,L)}function nw(e){for(var s=e;;){var i=s.tag;if((i===0||i===11||i===15)&&s.flags&16384&&(i=s.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var f=i[c],h=f.getSnapshot;f=f.value;try{if(!aa(h(),f))return!1}catch{return!1}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $n(e,s,i,c){s&=~ju,s&=~ws,e.suspendedLanes|=s,e.pingedLanes&=~s,c&&(e.warmLanes|=s),c=e.expirationTimes;for(var f=s;0<f;){var h=31-ta(f),w=1<<h;c[h]=-1,f&=~w}i!==0&&Em(e,i,s)}function bo(){return(Qe&6)===0?(Ul(0),!1):!0}function Eu(){if(Le!==null){if(Ge===0)var e=Le.return;else e=Le,ln=ps=null,Vd(e),fr=null,Dl=0,e=Le;for(;e!==null;)Wp(e.alternate,e),e=e.return;Le=null}}function vr(e,s){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,ww(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Eu(),st=e,Le=i=nn(e.current,null),Ye=s,Ge=0,la=null,Hn=!1,xr=Jr(e,s),Nu=!1,gr=ya=ju=ws=Fn=ut=0,Gt=Ll=null,Su=!1,(s&8)!==0&&(s|=s&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=s;0<c;){var f=31-ta(c),h=1<<f;s|=e[f],c&=~h}return pn=s,Hi(),i}function bx(e,s){Ae=null,S.H=ro,s===yl||s===Xi?(s=Ph(),Ge=3):s===Rh?(s=Ph(),Ge=4):Ge=s===Up?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,la=s,Le===null&&(ut=1,uo(e,ma(s,e.current)))}function vx(){var e=S.H;return S.H=ro,e===null?ro:e}function wx(){var e=S.A;return S.A=tw,e}function Tu(){ut=4,Hn||(Ye&4194048)!==Ye&&ga.current!==null||(xr=!0),(Fn&134217727)===0&&(ws&134217727)===0||st===null||$n(st,Ye,ya,!1)}function Mu(e,s,i){var c=Qe;Qe|=2;var f=vx(),h=wx();(st!==e||Ye!==s)&&(yo=null,vr(e,s)),s=!1;var w=ut;e:do try{if(Ge!==0&&Le!==null){var D=Le,L=la;switch(Ge){case 8:Eu(),w=6;break e;case 3:case 2:case 9:case 6:ga.current===null&&(s=!0);var Z=Ge;if(Ge=0,la=null,wr(e,D,L,Z),i&&xr){w=0;break e}break;default:Z=Ge,Ge=0,la=null,wr(e,D,L,Z)}}sw(),w=ut;break}catch(ie){bx(e,ie)}while(!0);return s&&e.shellSuspendCounter++,ln=ps=null,Qe=c,S.H=f,S.A=h,Le===null&&(st=null,Ye=0,Hi()),w}function sw(){for(;Le!==null;)Nx(Le)}function rw(e,s){var i=Qe;Qe|=2;var c=vx(),f=wx();st!==e||Ye!==s?(yo=null,go=Je()+500,vr(e,s)):xr=Jr(e,s);e:do try{if(Ge!==0&&Le!==null){s=Le;var h=la;t:switch(Ge){case 1:Ge=0,la=null,wr(e,s,h,1);break;case 2:case 9:if(Oh(h)){Ge=0,la=null,jx(s);break}s=function(){Ge!==2&&Ge!==9||st!==e||(Ge=7),Ba(e)},h.then(s,s);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Oh(h)?(Ge=0,la=null,jx(s)):(Ge=0,la=null,wr(e,s,h,7));break;case 5:var w=null;switch(Le.tag){case 26:w=Le.memoizedState;case 5:case 27:var D=Le;if(!w||s0(w)){Ge=0,la=null;var L=D.sibling;if(L!==null)Le=L;else{var Z=D.return;Z!==null?(Le=Z,vo(Z)):Le=null}break t}}Ge=0,la=null,wr(e,s,h,5);break;case 6:Ge=0,la=null,wr(e,s,h,6);break;case 8:Eu(),ut=6;break e;default:throw Error(a(462))}}lw();break}catch(ie){bx(e,ie)}while(!0);return ln=ps=null,S.H=c,S.A=f,Qe=i,Le!==null?0:(st=null,Ye=0,Hi(),ut)}function lw(){for(;Le!==null&&!ze();)Nx(Le)}function Nx(e){var s=Xp(e.alternate,e,pn);e.memoizedProps=e.pendingProps,s===null?vo(e):Le=s}function jx(e){var s=e,i=s.alternate;switch(s.tag){case 15:case 0:s=Ip(i,s,s.pendingProps,s.type,void 0,Ye);break;case 11:s=Ip(i,s,s.pendingProps,s.type.render,s.ref,Ye);break;case 5:Vd(s);default:Wp(i,s),s=Le=Sh(s,pn),s=Xp(i,s,pn)}e.memoizedProps=e.pendingProps,s===null?vo(e):Le=s}function wr(e,s,i,c){ln=ps=null,Vd(s),fr=null,Dl=0;var f=s.return;try{if(Xv(e,f,s,i,Ye)){ut=1,uo(e,ma(i,e.current)),Le=null;return}}catch(h){if(f!==null)throw Le=f,h;ut=1,uo(e,ma(i,e.current)),Le=null;return}s.flags&32768?($e||c===1?e=!0:xr||(Ye&536870912)!==0?e=!1:(Hn=e=!0,(c===2||c===9||c===3||c===6)&&(c=ga.current,c!==null&&c.tag===13&&(c.flags|=16384))),Sx(s,e)):vo(s)}function vo(e){var s=e;do{if((s.flags&32768)!==0){Sx(s,Hn);return}e=s.return;var i=Wv(s.alternate,s,pn);if(i!==null){Le=i;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=e}while(s!==null);ut===0&&(ut=5)}function Sx(e,s){do{var i=Zv(e.alternate,e);if(i!==null){i.flags&=32767,Le=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!s&&(e=e.sibling,e!==null)){Le=e;return}Le=e=i}while(e!==null);ut=6,Le=null}function Cx(e,s,i,c,f,h,w,D,L){e.cancelPendingCommit=null;do wo();while(Tt!==0);if((Qe&6)!==0)throw Error(a(327));if(s!==null){if(s===e.current)throw Error(a(177));if(h=s.lanes|s.childLanes,h|=wd,zb(e,i,h,w,D,L),e===st&&(Le=st=null,Ye=0),yr=s,In=e,br=i,_u=h,Du=f,px=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,dw(Ci,function(){return Tx(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=S.T,S.T=null,f=T.p,T.p=2,w=Qe,Qe|=4;try{Jv(e,s,i)}finally{Qe=w,T.p=f,S.T=c}}Tt=1,_x(),Dx(),kx()}}function _x(){if(Tt===1){Tt=0;var e=In,s=yr,i=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||i){i=S.T,S.T=null;var c=T.p;T.p=2;var f=Qe;Qe|=4;try{ox(s,e);var h=Iu,w=hh(e.containerInfo),D=h.focusedElem,L=h.selectionRange;if(w!==D&&D&&D.ownerDocument&&mh(D.ownerDocument.documentElement,D)){if(L!==null&&xd(D)){var Z=L.start,ie=L.end;if(ie===void 0&&(ie=Z),"selectionStart"in D)D.selectionStart=Z,D.selectionEnd=Math.min(ie,D.value.length);else{var ce=D.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var ae=ee.getSelection(),ke=D.textContent.length,_e=Math.min(L.start,ke),at=L.end===void 0?_e:Math.min(L.end,ke);!ae.extend&&_e>at&&(w=at,at=_e,_e=w);var Q=fh(D,_e),B=fh(D,at);if(Q&&B&&(ae.rangeCount!==1||ae.anchorNode!==Q.node||ae.anchorOffset!==Q.offset||ae.focusNode!==B.node||ae.focusOffset!==B.offset)){var K=ce.createRange();K.setStart(Q.node,Q.offset),ae.removeAllRanges(),_e>at?(ae.addRange(K),ae.extend(B.node,B.offset)):(K.setEnd(B.node,B.offset),ae.addRange(K))}}}}for(ce=[],ae=D;ae=ae.parentNode;)ae.nodeType===1&&ce.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ce.length;D++){var oe=ce[D];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Ro=!!Bu,Iu=Bu=null}finally{Qe=f,T.p=c,S.T=i}}e.current=s,Tt=2}}function Dx(){if(Tt===2){Tt=0;var e=In,s=yr,i=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||i){i=S.T,S.T=null;var c=T.p;T.p=2;var f=Qe;Qe|=4;try{sx(e,s.alternate,s)}finally{Qe=f,T.p=c,S.T=i}}Tt=3}}function kx(){if(Tt===4||Tt===3){Tt=0,Ze();var e=In,s=yr,i=br,c=px;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Tt=5:(Tt=0,yr=In=null,Ex(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Bn=null),Xc(i),s=s.stateNode,ea&&typeof ea.onCommitFiberRoot=="function")try{ea.onCommitFiberRoot(Zr,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=S.T,f=T.p,T.p=2,S.T=null;try{for(var h=e.onRecoverableError,w=0;w<c.length;w++){var D=c[w];h(D.value,{componentStack:D.stack})}}finally{S.T=s,T.p=f}}(br&3)!==0&&wo(),Ba(e),f=e.pendingLanes,(i&4194090)!==0&&(f&42)!==0?e===ku?Pl++:(Pl=0,ku=e):Pl=0,Ul(0)}}function Ex(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,xl(s)))}function wo(e){return _x(),Dx(),kx(),Tx()}function Tx(){if(Tt!==5)return!1;var e=In,s=_u;_u=0;var i=Xc(br),c=S.T,f=T.p;try{T.p=32>i?32:i,S.T=null,i=Du,Du=null;var h=In,w=br;if(Tt=0,yr=In=null,br=0,(Qe&6)!==0)throw Error(a(331));var D=Qe;if(Qe|=4,mx(h.current),dx(h,h.current,w,i),Qe=D,Ul(0,!1),ea&&typeof ea.onPostCommitFiberRoot=="function")try{ea.onPostCommitFiberRoot(Zr,h)}catch{}return!0}finally{T.p=f,S.T=c,Ex(e,s)}}function Mx(e,s,i){s=ma(i,s),s=lu(e.stateNode,s,2),e=Rn(e,s,2),e!==null&&(el(e,2),Ba(e))}function nt(e,s,i){if(e.tag===3)Mx(e,e,i);else for(;s!==null;){if(s.tag===3){Mx(s,e,i);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Bn===null||!Bn.has(c))){e=ma(i,e),i=Lp(2),c=Rn(s,i,2),c!==null&&(Pp(i,c,s,e),el(c,2),Ba(c));break}}s=s.return}}function Au(e,s,i){var c=e.pingCache;if(c===null){c=e.pingCache=new aw;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(i)||(Nu=!0,f.add(i),e=iw.bind(null,e,s,i),s.then(e,e))}function iw(e,s,i){var c=e.pingCache;c!==null&&c.delete(s),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,st===e&&(Ye&i)===i&&(ut===4||ut===3&&(Ye&62914560)===Ye&&300>Je()-Cu?(Qe&2)===0&&vr(e,0):ju|=i,gr===Ye&&(gr=0)),Ba(e)}function Ax(e,s){s===0&&(s=km()),e=ar(e,s),e!==null&&(el(e,s),Ba(e))}function ow(e){var s=e.memoizedState,i=0;s!==null&&(i=s.retryLane),Ax(e,i)}function cw(e,s){var i=0;switch(e.tag){case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(s),Ax(e,i)}function dw(e,s){return xe(e,s)}var No=null,Nr=null,Ru=!1,jo=!1,Ou=!1,Ns=0;function Ba(e){e!==Nr&&e.next===null&&(Nr===null?No=Nr=e:Nr=Nr.next=e),jo=!0,Ru||(Ru=!0,fw())}function Ul(e,s){if(!Ou&&jo){Ou=!0;do for(var i=!1,c=No;c!==null;){if(e!==0){var f=c.pendingLanes;if(f===0)var h=0;else{var w=c.suspendedLanes,D=c.pingedLanes;h=(1<<31-ta(42|e)+1)-1,h&=f&~(w&~D),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,Px(c,h))}else h=Ye,h=ki(c,c===st?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||Jr(c,h)||(i=!0,Px(c,h));c=c.next}while(i);Ou=!1}}function uw(){Rx()}function Rx(){jo=Ru=!1;var e=0;Ns!==0&&(vw()&&(e=Ns),Ns=0);for(var s=Je(),i=null,c=No;c!==null;){var f=c.next,h=Ox(c,s);h===0?(c.next=null,i===null?No=f:i.next=f,f===null&&(Nr=i)):(i=c,(e!==0||(h&3)!==0)&&(jo=!0)),c=f}Ul(e)}function Ox(e,s){for(var i=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var w=31-ta(h),D=1<<w,L=f[w];L===-1?((D&i)===0||(D&c)!==0)&&(f[w]=Ub(D,s)):L<=s&&(e.expiredLanes|=D),h&=~D}if(s=st,i=Ye,i=ki(e,e===s?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,i===0||e===s&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Se(c),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Jr(e,i)){if(s=i&-i,s===e.callbackPriority)return s;switch(c!==null&&Se(c),Xc(i)){case 2:case 8:i=Cm;break;case 32:i=Ci;break;case 268435456:i=_m;break;default:i=Ci}return c=Lx.bind(null,e),i=xe(i,c),e.callbackPriority=s,e.callbackNode=i,s}return c!==null&&c!==null&&Se(c),e.callbackPriority=2,e.callbackNode=null,2}function Lx(e,s){if(Tt!==0&&Tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(wo()&&e.callbackNode!==i)return null;var c=Ye;return c=ki(e,e===st?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(gx(e,c,s),Ox(e,Je()),e.callbackNode!=null&&e.callbackNode===i?Lx.bind(null,e):null)}function Px(e,s){if(wo())return null;gx(e,s,!0)}function fw(){Nw(function(){(Qe&6)!==0?xe(Ua,uw):Rx()})}function Lu(){return Ns===0&&(Ns=Dm()),Ns}function Ux(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ri(""+e)}function zx(e,s){var i=s.ownerDocument.createElement("input");return i.name=s.name,i.value=s.value,e.id&&i.setAttribute("form",e.id),s.parentNode.insertBefore(i,s),e=new FormData(e),i.parentNode.removeChild(i),e}function mw(e,s,i,c,f){if(s==="submit"&&i&&i.stateNode===f){var h=Ux((f[$t]||null).action),w=c.submitter;w&&(s=(s=w[$t]||null)?Ux(s.formAction):w.getAttribute("formAction"),s!==null&&(h=s,w=null));var D=new Ui("action","action",null,c,f);e.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ns!==0){var L=w?zx(f,w):new FormData(f);tu(i,{pending:!0,data:L,method:f.method,action:h},null,L)}}else typeof h=="function"&&(D.preventDefault(),L=w?zx(f,w):new FormData(f),tu(i,{pending:!0,data:L,method:f.method,action:h},h,L))},currentTarget:f}]})}}for(var Pu=0;Pu<vd.length;Pu++){var Uu=vd[Pu],hw=Uu.toLowerCase(),pw=Uu[0].toUpperCase()+Uu.slice(1);Da(hw,"on"+pw)}Da(gh,"onAnimationEnd"),Da(yh,"onAnimationIteration"),Da(bh,"onAnimationStart"),Da("dblclick","onDoubleClick"),Da("focusin","onFocus"),Da("focusout","onBlur"),Da(Av,"onTransitionRun"),Da(Rv,"onTransitionStart"),Da(Ov,"onTransitionCancel"),Da(vh,"onTransitionEnd"),Vs("onMouseEnter",["mouseout","mouseover"]),Vs("onMouseLeave",["mouseout","mouseover"]),Vs("onPointerEnter",["pointerout","pointerover"]),Vs("onPointerLeave",["pointerout","pointerover"]),ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function Yx(e,s){s=(s&4)!==0;for(var i=0;i<e.length;i++){var c=e[i],f=c.event;c=c.listeners;e:{var h=void 0;if(s)for(var w=c.length-1;0<=w;w--){var D=c[w],L=D.instance,Z=D.currentTarget;if(D=D.listener,L!==h&&f.isPropagationStopped())break e;h=D,f.currentTarget=Z;try{h(f)}catch(ie){co(ie)}f.currentTarget=null,h=L}else for(w=0;w<c.length;w++){if(D=c[w],L=D.instance,Z=D.currentTarget,D=D.listener,L!==h&&f.isPropagationStopped())break e;h=D,f.currentTarget=Z;try{h(f)}catch(ie){co(ie)}f.currentTarget=null,h=L}}}}function Pe(e,s){var i=s[Kc];i===void 0&&(i=s[Kc]=new Set);var c=e+"__bubble";i.has(c)||(Hx(s,e,2,!1),i.add(c))}function zu(e,s,i){var c=0;s&&(c|=4),Hx(i,e,c,s)}var So="_reactListening"+Math.random().toString(36).slice(2);function Yu(e){if(!e[So]){e[So]=!0,Rm.forEach(function(i){i!=="selectionchange"&&(xw.has(i)||zu(i,!1,e),zu(i,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[So]||(s[So]=!0,zu("selectionchange",!1,s))}}function Hx(e,s,i,c){switch(d0(s)){case 2:var f=Iw;break;case 8:f=$w;break;default:f=Ju}i=f.bind(null,s,i,e),f=void 0,!id||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(s,i,{capture:!0,passive:f}):e.addEventListener(s,i,!0):f!==void 0?e.addEventListener(s,i,{passive:f}):e.addEventListener(s,i,!1)}function Hu(e,s,i,c,f){var h=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var D=c.stateNode.containerInfo;if(D===f)break;if(w===4)for(w=c.return;w!==null;){var L=w.tag;if((L===3||L===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;D!==null;){if(w=Is(D),w===null)return;if(L=w.tag,L===5||L===6||L===26||L===27){c=h=w;continue e}D=D.parentNode}}c=c.return}Qm(function(){var Z=h,ie=rd(i),ce=[];e:{var ee=wh.get(e);if(ee!==void 0){var ae=Ui,ke=e;switch(e){case"keypress":if(Li(i)===0)break e;case"keydown":case"keyup":ae=dv;break;case"focusin":ke="focus",ae=ud;break;case"focusout":ke="blur",ae=ud;break;case"beforeblur":case"afterblur":ae=ud;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Km;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Zb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=mv;break;case gh:case yh:case bh:ae=tv;break;case vh:ae=pv;break;case"scroll":case"scrollend":ae=Kb;break;case"wheel":ae=gv;break;case"copy":case"cut":case"paste":ae=nv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Zm;break;case"toggle":case"beforetoggle":ae=bv}var _e=(s&4)!==0,at=!_e&&(e==="scroll"||e==="scrollend"),Q=_e?ee!==null?ee+"Capture":null:ee;_e=[];for(var B=Z,K;B!==null;){var oe=B;if(K=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||K===null||Q===null||(oe=nl(B,Q),oe!=null&&_e.push(Yl(B,oe,K))),at)break;B=B.return}0<_e.length&&(ee=new ae(ee,ke,null,i,ie),ce.push({event:ee,listeners:_e}))}}if((s&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ee&&i!==sd&&(ke=i.relatedTarget||i.fromElement)&&(Is(ke)||ke[Bs]))break e;if((ae||ee)&&(ee=ie.window===ie?ie:(ee=ie.ownerDocument)?ee.defaultView||ee.parentWindow:window,ae?(ke=i.relatedTarget||i.toElement,ae=Z,ke=ke?Is(ke):null,ke!==null&&(at=d(ke),_e=ke.tag,ke!==at||_e!==5&&_e!==27&&_e!==6)&&(ke=null)):(ae=null,ke=Z),ae!==ke)){if(_e=Km,oe="onMouseLeave",Q="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(_e=Zm,oe="onPointerLeave",Q="onPointerEnter",B="pointer"),at=ae==null?ee:al(ae),K=ke==null?ee:al(ke),ee=new _e(oe,B+"leave",ae,i,ie),ee.target=at,ee.relatedTarget=K,oe=null,Is(ie)===Z&&(_e=new _e(Q,B+"enter",ke,i,ie),_e.target=K,_e.relatedTarget=at,oe=_e),at=oe,ae&&ke)t:{for(_e=ae,Q=ke,B=0,K=_e;K;K=jr(K))B++;for(K=0,oe=Q;oe;oe=jr(oe))K++;for(;0<B-K;)_e=jr(_e),B--;for(;0<K-B;)Q=jr(Q),K--;for(;B--;){if(_e===Q||Q!==null&&_e===Q.alternate)break t;_e=jr(_e),Q=jr(Q)}_e=null}else _e=null;ae!==null&&Fx(ce,ee,ae,_e,!1),ke!==null&&at!==null&&Fx(ce,at,ke,_e,!0)}}e:{if(ee=Z?al(Z):window,ae=ee.nodeName&&ee.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ee.type==="file")var be=lh;else if(sh(ee))if(ih)be=Ev;else{be=Dv;var Oe=_v}else ae=ee.nodeName,!ae||ae.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&nd(Z.elementType)&&(be=lh):be=kv;if(be&&(be=be(e,Z))){rh(ce,be,i,ie);break e}Oe&&Oe(e,ee,Z),e==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&ad(ee,"number",ee.value)}switch(Oe=Z?al(Z):window,e){case"focusin":(sh(Oe)||Oe.contentEditable==="true")&&(Js=Oe,gd=Z,ul=null);break;case"focusout":ul=gd=Js=null;break;case"mousedown":yd=!0;break;case"contextmenu":case"mouseup":case"dragend":yd=!1,ph(ce,i,ie);break;case"selectionchange":if(Mv)break;case"keydown":case"keyup":ph(ce,i,ie)}var je;if(md)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Zs?ah(e,i)&&(De="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(De="onCompositionStart");De&&(Jm&&i.locale!=="ko"&&(Zs||De!=="onCompositionStart"?De==="onCompositionEnd"&&Zs&&(je=Gm()):(En=ie,od="value"in En?En.value:En.textContent,Zs=!0)),Oe=Co(Z,De),0<Oe.length&&(De=new Wm(De,e,null,i,ie),ce.push({event:De,listeners:Oe}),je?De.data=je:(je=nh(i),je!==null&&(De.data=je)))),(je=wv?Nv(e,i):jv(e,i))&&(De=Co(Z,"onBeforeInput"),0<De.length&&(Oe=new Wm("onBeforeInput","beforeinput",null,i,ie),ce.push({event:Oe,listeners:De}),Oe.data=je)),mw(ce,e,Z,i,ie)}Yx(ce,s)})}function Yl(e,s,i){return{instance:e,listener:s,currentTarget:i}}function Co(e,s){for(var i=s+"Capture",c=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=nl(e,i),f!=null&&c.unshift(Yl(e,f,h)),f=nl(e,s),f!=null&&c.push(Yl(e,f,h))),e.tag===3)return c;e=e.return}return[]}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fx(e,s,i,c,f){for(var h=s._reactName,w=[];i!==null&&i!==c;){var D=i,L=D.alternate,Z=D.stateNode;if(D=D.tag,L!==null&&L===c)break;D!==5&&D!==26&&D!==27||Z===null||(L=Z,f?(Z=nl(i,h),Z!=null&&w.unshift(Yl(i,Z,L))):f||(Z=nl(i,h),Z!=null&&w.push(Yl(i,Z,L)))),i=i.return}w.length!==0&&e.push({event:s,listeners:w})}var gw=/\r\n?/g,yw=/\u0000|\uFFFD/g;function Bx(e){return(typeof e=="string"?e:""+e).replace(gw,`
`).replace(yw,"")}function Ix(e,s){return s=Bx(s),Bx(e)===s}function _o(){}function tt(e,s,i,c,f,h){switch(i){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Xs(e,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Xs(e,""+c);break;case"className":Ti(e,"class",c);break;case"tabIndex":Ti(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ti(e,i,c);break;case"style":qm(e,c,h);break;case"data":if(s!=="object"){Ti(e,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||i!=="href")){e.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=Ri(""+c),e.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(s!=="input"&&tt(e,s,"name",f.name,f,null),tt(e,s,"formEncType",f.formEncType,f,null),tt(e,s,"formMethod",f.formMethod,f,null),tt(e,s,"formTarget",f.formTarget,f,null)):(tt(e,s,"encType",f.encType,f,null),tt(e,s,"method",f.method,f,null),tt(e,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(i);break}c=Ri(""+c),e.setAttribute(i,c);break;case"onClick":c!=null&&(e.onclick=_o);break;case"onScroll":c!=null&&Pe("scroll",e);break;case"onScrollEnd":c!=null&&Pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}i=Ri(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""+c):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":c===!0?e.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(i,c):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(i,c):e.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(i):e.setAttribute(i,c);break;case"popover":Pe("beforetoggle",e),Pe("toggle",e),Ei(e,"popover",c);break;case"xlinkActuate":tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":tn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":tn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":tn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":tn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ei(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Gb.get(i)||i,Ei(e,i,c))}}function Fu(e,s,i,c,f,h){switch(i){case"style":qm(e,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof c=="string"?Xs(e,c):(typeof c=="number"||typeof c=="bigint")&&Xs(e,""+c);break;case"onScroll":c!=null&&Pe("scroll",e);break;case"onScrollEnd":c!=null&&Pe("scrollend",e);break;case"onClick":c!=null&&(e.onclick=_o);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Om.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),s=i.slice(2,f?i.length-7:void 0),h=e[$t]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(s,h,f),typeof c=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(s,c,f);break e}i in e?e[i]=c:c===!0?e.setAttribute(i,""):Ei(e,i,c)}}}function Mt(e,s,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",e),Pe("load",e);var c=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var w=i[h];if(w!=null)switch(h){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:tt(e,s,h,w,i,null)}}f&&tt(e,s,"srcSet",i.srcSet,i,null),c&&tt(e,s,"src",i.src,i,null);return;case"input":Pe("invalid",e);var D=h=w=f=null,L=null,Z=null;for(c in i)if(i.hasOwnProperty(c)){var ie=i[c];if(ie!=null)switch(c){case"name":f=ie;break;case"type":w=ie;break;case"checked":L=ie;break;case"defaultChecked":Z=ie;break;case"value":h=ie;break;case"defaultValue":D=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(a(137,s));break;default:tt(e,s,c,ie,i,null)}}Fm(e,h,D,L,Z,w,f,!1),Mi(e);return;case"select":Pe("invalid",e),c=w=h=null;for(f in i)if(i.hasOwnProperty(f)&&(D=i[f],D!=null))switch(f){case"value":h=D;break;case"defaultValue":w=D;break;case"multiple":c=D;default:tt(e,s,f,D,i,null)}s=h,i=w,e.multiple=!!c,s!=null?Gs(e,!!c,s,!1):i!=null&&Gs(e,!!c,i,!0);return;case"textarea":Pe("invalid",e),h=f=c=null;for(w in i)if(i.hasOwnProperty(w)&&(D=i[w],D!=null))switch(w){case"value":c=D;break;case"defaultValue":f=D;break;case"children":h=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(91));break;default:tt(e,s,w,D,i,null)}Im(e,c,f,h),Mi(e);return;case"option":for(L in i)if(i.hasOwnProperty(L)&&(c=i[L],c!=null))switch(L){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:tt(e,s,L,c,i,null)}return;case"dialog":Pe("beforetoggle",e),Pe("toggle",e),Pe("cancel",e),Pe("close",e);break;case"iframe":case"object":Pe("load",e);break;case"video":case"audio":for(c=0;c<zl.length;c++)Pe(zl[c],e);break;case"image":Pe("error",e),Pe("load",e);break;case"details":Pe("toggle",e);break;case"embed":case"source":case"link":Pe("error",e),Pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in i)if(i.hasOwnProperty(Z)&&(c=i[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:tt(e,s,Z,c,i,null)}return;default:if(nd(s)){for(ie in i)i.hasOwnProperty(ie)&&(c=i[ie],c!==void 0&&Fu(e,s,ie,c,i,void 0));return}}for(D in i)i.hasOwnProperty(D)&&(c=i[D],c!=null&&tt(e,s,D,c,i,null))}function bw(e,s,i,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,w=null,D=null,L=null,Z=null,ie=null;for(ae in i){var ce=i[ae];if(i.hasOwnProperty(ae)&&ce!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":L=ce;default:c.hasOwnProperty(ae)||tt(e,s,ae,null,c,ce)}}for(var ee in c){var ae=c[ee];if(ce=i[ee],c.hasOwnProperty(ee)&&(ae!=null||ce!=null))switch(ee){case"type":h=ae;break;case"name":f=ae;break;case"checked":Z=ae;break;case"defaultChecked":ie=ae;break;case"value":w=ae;break;case"defaultValue":D=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,s));break;default:ae!==ce&&tt(e,s,ee,ae,c,ce)}}td(e,w,D,L,Z,ie,h,f);return;case"select":ae=w=D=ee=null;for(h in i)if(L=i[h],i.hasOwnProperty(h)&&L!=null)switch(h){case"value":break;case"multiple":ae=L;default:c.hasOwnProperty(h)||tt(e,s,h,null,c,L)}for(f in c)if(h=c[f],L=i[f],c.hasOwnProperty(f)&&(h!=null||L!=null))switch(f){case"value":ee=h;break;case"defaultValue":D=h;break;case"multiple":w=h;default:h!==L&&tt(e,s,f,h,c,L)}s=D,i=w,c=ae,ee!=null?Gs(e,!!i,ee,!1):!!c!=!!i&&(s!=null?Gs(e,!!i,s,!0):Gs(e,!!i,i?[]:"",!1));return;case"textarea":ae=ee=null;for(D in i)if(f=i[D],i.hasOwnProperty(D)&&f!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:tt(e,s,D,null,c,f)}for(w in c)if(f=c[w],h=i[w],c.hasOwnProperty(w)&&(f!=null||h!=null))switch(w){case"value":ee=f;break;case"defaultValue":ae=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==h&&tt(e,s,w,f,c,h)}Bm(e,ee,ae);return;case"option":for(var ke in i)if(ee=i[ke],i.hasOwnProperty(ke)&&ee!=null&&!c.hasOwnProperty(ke))switch(ke){case"selected":e.selected=!1;break;default:tt(e,s,ke,null,c,ee)}for(L in c)if(ee=c[L],ae=i[L],c.hasOwnProperty(L)&&ee!==ae&&(ee!=null||ae!=null))switch(L){case"selected":e.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:tt(e,s,L,ee,c,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in i)ee=i[_e],i.hasOwnProperty(_e)&&ee!=null&&!c.hasOwnProperty(_e)&&tt(e,s,_e,null,c,ee);for(Z in c)if(ee=c[Z],ae=i[Z],c.hasOwnProperty(Z)&&ee!==ae&&(ee!=null||ae!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,s));break;default:tt(e,s,Z,ee,c,ae)}return;default:if(nd(s)){for(var at in i)ee=i[at],i.hasOwnProperty(at)&&ee!==void 0&&!c.hasOwnProperty(at)&&Fu(e,s,at,void 0,c,ee);for(ie in c)ee=c[ie],ae=i[ie],!c.hasOwnProperty(ie)||ee===ae||ee===void 0&&ae===void 0||Fu(e,s,ie,ee,c,ae);return}}for(var Q in i)ee=i[Q],i.hasOwnProperty(Q)&&ee!=null&&!c.hasOwnProperty(Q)&&tt(e,s,Q,null,c,ee);for(ce in c)ee=c[ce],ae=i[ce],!c.hasOwnProperty(ce)||ee===ae||ee==null&&ae==null||tt(e,s,ce,ee,c,ae)}var Bu=null,Iu=null;function Do(e){return e.nodeType===9?e:e.ownerDocument}function $x(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qx(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function $u(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qu=null;function vw(){var e=window.event;return e&&e.type==="popstate"?e===qu?!1:(qu=e,!0):(qu=null,!1)}var Vx=typeof setTimeout=="function"?setTimeout:void 0,ww=typeof clearTimeout=="function"?clearTimeout:void 0,Qx=typeof Promise=="function"?Promise:void 0,Nw=typeof queueMicrotask=="function"?queueMicrotask:typeof Qx<"u"?function(e){return Qx.resolve(null).then(e).catch(jw)}:Vx;function jw(e){setTimeout(function(){throw e})}function qn(e){return e==="head"}function Gx(e,s){var i=s,c=0,f=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(0<c&&8>c){i=c;var w=e.ownerDocument;if(i&1&&Hl(w.documentElement),i&2&&Hl(w.body),i&4)for(i=w.head,Hl(i),w=i.firstChild;w;){var D=w.nextSibling,L=w.nodeName;w[tl]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&w.rel.toLowerCase()==="stylesheet"||i.removeChild(w),w=D}}if(f===0){e.removeChild(h),Gl(s);return}f--}else i==="$"||i==="$?"||i==="$!"?f++:c=i.charCodeAt(0)-48;else c=0;i=h}while(i);Gl(s)}function Vu(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var i=s;switch(s=s.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Vu(i),Wc(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Sw(e,s,i,c){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[tl])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Ea(e.nextSibling),e===null)break}return null}function Cw(e,s,i){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ea(e.nextSibling),e===null))return null;return e}function Qu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function _w(e,s){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")s();else{var c=function(){s(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Ea(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return e}var Gu=null;function Xx(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return e;s--}else i==="/$"&&s++}e=e.previousSibling}return null}function Kx(e,s,i){switch(s=Do(i),e){case"html":if(e=s.documentElement,!e)throw Error(a(452));return e;case"head":if(e=s.head,!e)throw Error(a(453));return e;case"body":if(e=s.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Hl(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Wc(e)}var ba=new Map,Wx=new Set;function ko(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xn=T.d;T.d={f:Dw,r:kw,D:Ew,C:Tw,L:Mw,m:Aw,X:Ow,S:Rw,M:Lw};function Dw(){var e=xn.f(),s=bo();return e||s}function kw(e){var s=$s(e);s!==null&&s.tag===5&&s.type==="form"?gp(s):xn.r(e)}var Sr=typeof document>"u"?null:document;function Zx(e,s,i){var c=Sr;if(c&&typeof s=="string"&&s){var f=fa(s);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Wx.has(f)||(Wx.add(f),e={rel:e,crossOrigin:i,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),Mt(s,"link",e),St(s),c.head.appendChild(s)))}}function Ew(e){xn.D(e),Zx("dns-prefetch",e,null)}function Tw(e,s){xn.C(e,s),Zx("preconnect",e,s)}function Mw(e,s,i){xn.L(e,s,i);var c=Sr;if(c&&e&&s){var f='link[rel="preload"][as="'+fa(s)+'"]';s==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+fa(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+fa(i.imageSizes)+'"]')):f+='[href="'+fa(e)+'"]';var h=f;switch(s){case"style":h=Cr(e);break;case"script":h=_r(e)}ba.has(h)||(e=x({rel:"preload",href:s==="image"&&i&&i.imageSrcSet?void 0:e,as:s},i),ba.set(h,e),c.querySelector(f)!==null||s==="style"&&c.querySelector(Fl(h))||s==="script"&&c.querySelector(Bl(h))||(s=c.createElement("link"),Mt(s,"link",e),St(s),c.head.appendChild(s)))}}function Aw(e,s){xn.m(e,s);var i=Sr;if(i&&e){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+fa(c)+'"][href="'+fa(e)+'"]',h=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=_r(e)}if(!ba.has(h)&&(e=x({rel:"modulepreload",href:e},s),ba.set(h,e),i.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Bl(h)))return}c=i.createElement("link"),Mt(c,"link",e),St(c),i.head.appendChild(c)}}}function Rw(e,s,i){xn.S(e,s,i);var c=Sr;if(c&&e){var f=qs(c).hoistableStyles,h=Cr(e);s=s||"default";var w=f.get(h);if(!w){var D={loading:0,preload:null};if(w=c.querySelector(Fl(h)))D.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":s},i),(i=ba.get(h))&&Xu(e,i);var L=w=c.createElement("link");St(L),Mt(L,"link",e),L._p=new Promise(function(Z,ie){L.onload=Z,L.onerror=ie}),L.addEventListener("load",function(){D.loading|=1}),L.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Eo(w,s,c)}w={type:"stylesheet",instance:w,count:1,state:D},f.set(h,w)}}}function Ow(e,s){xn.X(e,s);var i=Sr;if(i&&e){var c=qs(i).hoistableScripts,f=_r(e),h=c.get(f);h||(h=i.querySelector(Bl(f)),h||(e=x({src:e,async:!0},s),(s=ba.get(f))&&Ku(e,s),h=i.createElement("script"),St(h),Mt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function Lw(e,s){xn.M(e,s);var i=Sr;if(i&&e){var c=qs(i).hoistableScripts,f=_r(e),h=c.get(f);h||(h=i.querySelector(Bl(f)),h||(e=x({src:e,async:!0,type:"module"},s),(s=ba.get(f))&&Ku(e,s),h=i.createElement("script"),St(h),Mt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function Jx(e,s,i,c){var f=(f=X.current)?ko(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(s=Cr(i.href),i=qs(f).hoistableStyles,c=i.get(s),c||(c={type:"style",instance:null,count:0,state:null},i.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Cr(i.href);var h=qs(f).hoistableStyles,w=h.get(e);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,w),(h=f.querySelector(Fl(e)))&&!h._p&&(w.instance=h,w.state.loading=5),ba.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ba.set(e,i),h||Pw(f,e,i,w.state))),s&&c===null)throw Error(a(528,""));return w}if(s&&c!==null)throw Error(a(529,""));return null;case"script":return s=i.async,i=i.src,typeof i=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=_r(i),i=qs(f).hoistableScripts,c=i.get(s),c||(c={type:"script",instance:null,count:0,state:null},i.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Cr(e){return'href="'+fa(e)+'"'}function Fl(e){return'link[rel="stylesheet"]['+e+"]"}function e0(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Pw(e,s,i,c){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=e.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Mt(s,"link",i),St(s),e.head.appendChild(s))}function _r(e){return'[src="'+fa(e)+'"]'}function Bl(e){return"script[async]"+e}function t0(e,s,i){if(s.count++,s.instance===null)switch(s.type){case"style":var c=e.querySelector('style[data-href~="'+fa(i.href)+'"]');if(c)return s.instance=c,St(c),c;var f=x({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),St(c),Mt(c,"style",f),Eo(c,i.precedence,e),s.instance=c;case"stylesheet":f=Cr(i.href);var h=e.querySelector(Fl(f));if(h)return s.state.loading|=4,s.instance=h,St(h),h;c=e0(i),(f=ba.get(f))&&Xu(c,f),h=(e.ownerDocument||e).createElement("link"),St(h);var w=h;return w._p=new Promise(function(D,L){w.onload=D,w.onerror=L}),Mt(h,"link",c),s.state.loading|=4,Eo(h,i.precedence,e),s.instance=h;case"script":return h=_r(i.src),(f=e.querySelector(Bl(h)))?(s.instance=f,St(f),f):(c=i,(f=ba.get(h))&&(c=x({},i),Ku(c,f)),e=e.ownerDocument||e,f=e.createElement("script"),St(f),Mt(f,"link",c),e.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Eo(c,i.precedence,e));return s.instance}function Eo(e,s,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,h=f,w=0;w<c.length;w++){var D=c[w];if(D.dataset.precedence===s)h=D;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(s=i.nodeType===9?i.head:i,s.insertBefore(e,s.firstChild))}function Xu(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Ku(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var To=null;function a0(e,s,i){if(To===null){var c=new Map,f=To=new Map;f.set(i,c)}else f=To,c=f.get(i),c||(c=new Map,f.set(i,c));if(c.has(e))return c;for(c.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var h=i[f];if(!(h[tl]||h[Ot]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var w=h.getAttribute(s)||"";w=e+w;var D=c.get(w);D?D.push(h):c.set(w,[h])}}return c}function n0(e,s,i){e=e.ownerDocument||e,e.head.insertBefore(i,s==="title"?e.querySelector("head > title"):null)}function Uw(e,s,i){if(i===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function s0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Il=null;function zw(){}function Yw(e,s,i){if(Il===null)throw Error(a(475));var c=Il;if(s.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Cr(i.href),h=e.querySelector(Fl(f));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=Mo.bind(c),e.then(c,c)),s.state.loading|=4,s.instance=h,St(h);return}h=e.ownerDocument||e,i=e0(i),(f=ba.get(f))&&Xu(i,f),h=h.createElement("link"),St(h);var w=h;w._p=new Promise(function(D,L){w.onload=D,w.onerror=L}),Mt(h,"link",i),s.instance=h}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,e),(e=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Mo.bind(c),e.addEventListener("load",s),e.addEventListener("error",s))}}function Hw(){if(Il===null)throw Error(a(475));var e=Il;return e.stylesheets&&e.count===0&&Wu(e,e.stylesheets),0<e.count?function(s){var i=setTimeout(function(){if(e.stylesheets&&Wu(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Mo(){if(this.count--,this.count===0){if(this.stylesheets)Wu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ao=null;function Wu(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ao=new Map,s.forEach(Fw,e),Ao=null,Mo.call(e))}function Fw(e,s){if(!(s.state.loading&4)){var i=Ao.get(e);if(i)var c=i.get(null);else{i=new Map,Ao.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var w=f[h];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(i.set(w.dataset.precedence,w),c=w)}c&&i.set(null,c)}f=s.instance,w=f.getAttribute("data-precedence"),h=i.get(w)||c,h===c&&i.set(null,f),i.set(w,f),this.count++,c=Mo.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),s.state.loading|=4}}var $l={$$typeof:R,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function Bw(e,s,i,c,f,h,w,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qc(0),this.hiddenUpdates=Qc(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function r0(e,s,i,c,f,h,w,D,L,Z,ie,ce){return e=new Bw(e,s,i,w,D,L,Z,ce),s=1,h===!0&&(s|=24),h=na(3,null,null,s),e.current=h,h.stateNode=e,s=Ad(),s.refCount++,e.pooledCache=s,s.refCount++,h.memoizedState={element:c,isDehydrated:i,cache:s},Pd(h),e}function l0(e){return e?(e=nr,e):nr}function i0(e,s,i,c,f,h){f=l0(f),c.context===null?c.context=f:c.pendingContext=f,c=An(s),c.payload={element:i},h=h===void 0?null:h,h!==null&&(c.callback=h),i=Rn(e,c,s),i!==null&&(oa(i,e,s),vl(i,e,s))}function o0(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<s?i:s}}function Zu(e,s){o0(e,s),(e=e.alternate)&&o0(e,s)}function c0(e){if(e.tag===13){var s=ar(e,67108864);s!==null&&oa(s,e,67108864),Zu(e,67108864)}}var Ro=!0;function Iw(e,s,i,c){var f=S.T;S.T=null;var h=T.p;try{T.p=2,Ju(e,s,i,c)}finally{T.p=h,S.T=f}}function $w(e,s,i,c){var f=S.T;S.T=null;var h=T.p;try{T.p=8,Ju(e,s,i,c)}finally{T.p=h,S.T=f}}function Ju(e,s,i,c){if(Ro){var f=ef(c);if(f===null)Hu(e,s,c,Oo,i),u0(e,c);else if(Vw(f,e,s,i,c))c.stopPropagation();else if(u0(e,c),s&4&&-1<qw.indexOf(e)){for(;f!==null;){var h=$s(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var w=rs(h.pendingLanes);if(w!==0){var D=h;for(D.pendingLanes|=2,D.entangledLanes|=2;w;){var L=1<<31-ta(w);D.entanglements[1]|=L,w&=~L}Ba(h),(Qe&6)===0&&(go=Je()+500,Ul(0))}}break;case 13:D=ar(h,2),D!==null&&oa(D,h,2),bo(),Zu(h,2)}if(h=ef(c),h===null&&Hu(e,s,c,Oo,i),h===f)break;f=h}f!==null&&c.stopPropagation()}else Hu(e,s,c,null,i)}}function ef(e){return e=rd(e),tf(e)}var Oo=null;function tf(e){if(Oo=null,e=Is(e),e!==null){var s=d(e);if(s===null)e=null;else{var i=s.tag;if(i===13){if(e=u(s),e!==null)return e;e=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Oo=e,null}function d0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yt()){case Ua:return 2;case Cm:return 8;case Ci:case Mb:return 32;case _m:return 268435456;default:return 32}default:return 32}}var af=!1,Vn=null,Qn=null,Gn=null,ql=new Map,Vl=new Map,Xn=[],qw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u0(e,s){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":ql.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(s.pointerId)}}function Ql(e,s,i,c,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:s,domEventName:i,eventSystemFlags:c,nativeEvent:h,targetContainers:[f]},s!==null&&(s=$s(s),s!==null&&c0(s)),e):(e.eventSystemFlags|=c,s=e.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),e)}function Vw(e,s,i,c,f){switch(s){case"focusin":return Vn=Ql(Vn,e,s,i,c,f),!0;case"dragenter":return Qn=Ql(Qn,e,s,i,c,f),!0;case"mouseover":return Gn=Ql(Gn,e,s,i,c,f),!0;case"pointerover":var h=f.pointerId;return ql.set(h,Ql(ql.get(h)||null,e,s,i,c,f)),!0;case"gotpointercapture":return h=f.pointerId,Vl.set(h,Ql(Vl.get(h)||null,e,s,i,c,f)),!0}return!1}function f0(e){var s=Is(e.target);if(s!==null){var i=d(s);if(i!==null){if(s=i.tag,s===13){if(s=u(i),s!==null){e.blockedOn=s,Yb(e.priority,function(){if(i.tag===13){var c=ia();c=Gc(c);var f=ar(i,c);f!==null&&oa(f,i,c),Zu(i,c)}});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lo(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var i=ef(e.nativeEvent);if(i===null){i=e.nativeEvent;var c=new i.constructor(i.type,i);sd=c,i.target.dispatchEvent(c),sd=null}else return s=$s(i),s!==null&&c0(s),e.blockedOn=i,!1;s.shift()}return!0}function m0(e,s,i){Lo(e)&&i.delete(s)}function Qw(){af=!1,Vn!==null&&Lo(Vn)&&(Vn=null),Qn!==null&&Lo(Qn)&&(Qn=null),Gn!==null&&Lo(Gn)&&(Gn=null),ql.forEach(m0),Vl.forEach(m0)}function Po(e,s){e.blockedOn===s&&(e.blockedOn=null,af||(af=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Qw)))}var Uo=null;function h0(e){Uo!==e&&(Uo=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Uo===e&&(Uo=null);for(var s=0;s<e.length;s+=3){var i=e[s],c=e[s+1],f=e[s+2];if(typeof c!="function"){if(tf(c||i)===null)continue;break}var h=$s(i);h!==null&&(e.splice(s,3),s-=3,tu(h,{pending:!0,data:f,method:i.method,action:c},c,f))}}))}function Gl(e){function s(L){return Po(L,e)}Vn!==null&&Po(Vn,e),Qn!==null&&Po(Qn,e),Gn!==null&&Po(Gn,e),ql.forEach(s),Vl.forEach(s);for(var i=0;i<Xn.length;i++){var c=Xn[i];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Xn.length&&(i=Xn[0],i.blockedOn===null);)f0(i),i.blockedOn===null&&Xn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var f=i[c],h=i[c+1],w=f[$t]||null;if(typeof h=="function")w||h0(i);else if(w){var D=null;if(h&&h.hasAttribute("formAction")){if(f=h,w=h[$t]||null)D=w.formAction;else if(tf(f)!==null)continue}else D=w.action;typeof D=="function"?i[c+1]=D:(i.splice(c,3),c-=3),h0(i)}}}function nf(e){this._internalRoot=e}zo.prototype.render=nf.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(a(409));var i=s.current,c=ia();i0(i,c,e,s,null,null)},zo.prototype.unmount=nf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;i0(e.current,2,null,e,null,null),bo(),s[Bs]=null}};function zo(e){this._internalRoot=e}zo.prototype.unstable_scheduleHydration=function(e){if(e){var s=Mm();e={blockedOn:null,target:e,priority:s};for(var i=0;i<Xn.length&&s!==0&&s<Xn[i].priority;i++);Xn.splice(i,0,e),i===0&&f0(e)}};var p0=l.version;if(p0!=="19.1.0")throw Error(a(527,p0,"19.1.0"));T.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(s),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Gw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yo.isDisabled&&Yo.supportsFiber)try{Zr=Yo.inject(Gw),ea=Yo}catch{}}return Kl.createRoot=function(e,s){if(!o(e))throw Error(a(299));var i=!1,c="",f=Mp,h=Ap,w=Rp,D=null;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(h=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks)),s=r0(e,1,!1,null,null,i,c,f,h,w,D,null),e[Bs]=s.current,Yu(e),new nf(s)},Kl.hydrateRoot=function(e,s,i){if(!o(e))throw Error(a(299));var c=!1,f="",h=Mp,w=Ap,D=Rp,L=null,Z=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(D=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(L=i.unstable_transitionCallbacks),i.formState!==void 0&&(Z=i.formState)),s=r0(e,1,!0,s,i??null,c,f,h,w,D,L,Z),s.context=l0(null),i=s.current,c=ia(),c=Gc(c),f=An(c),f.callback=null,Rn(i,f,c),i=c,s.current.lanes=i,el(s,i),Ba(s),e[Bs]=s.current,Yu(e),new zo(s)},Kl.version="19.1.0",Kl}var C0;function lN(){if(C0)return lf.exports;C0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(l){console.error(l)}}return r(),lf.exports=rN(),lf.exports}var iN=lN(),Wl={},_0;function oN(){if(_0)return Wl;_0=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.parse=u,Wl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,l=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,d=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,C){const N=new d,E=b.length;if(E<2)return N;const _=(C==null?void 0:C.decode)||x;let k=0;do{const M=b.indexOf("=",k);if(M===-1)break;const R=b.indexOf(";",k),H=R===-1?E:R;if(M>H){k=b.lastIndexOf(";",M-1)+1;continue}const O=m(b,k,M),$=p(b,M,O),I=b.slice(O,$);if(N[I]===void 0){let Y=m(b,M+1,H),G=p(b,H,Y);const de=_(b.slice(Y,G));N[I]=de}k=H+1}while(k<E);return N}function m(b,C,N){do{const E=b.charCodeAt(C);if(E!==32&&E!==9)return C}while(++C<N);return N}function p(b,C,N){for(;C>N;){const E=b.charCodeAt(--C);if(E!==32&&E!==9)return C+1}return N}function g(b,C,N){const E=(N==null?void 0:N.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const _=E(C);if(!l.test(_))throw new TypeError(`argument val is invalid: ${C}`);let k=b+"="+_;if(!N)return k;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);k+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);k+="; Domain="+N.domain}if(N.path){if(!a.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);k+="; Path="+N.path}if(N.expires){if(!v(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);k+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(k+="; HttpOnly"),N.secure&&(k+="; Secure"),N.partitioned&&(k+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return k}function x(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return o.call(b)==="[object Date]"}return Wl}oN();var D0="popstate";function cN(r={}){function l(a,o){let{pathname:d,search:u,hash:m}=a.location;return kf("",{pathname:d,search:u,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:oi(o)}return uN(l,n,null,r)}function it(r,l){if(r===!1||r===null||typeof r>"u")throw new Error(l)}function Sa(r,l){if(!r){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function dN(){return Math.random().toString(36).substring(2,10)}function k0(r,l){return{usr:r.state,key:r.key,idx:l}}function kf(r,l,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof l=="string"?qr(l):l,state:n,key:l&&l.key||a||dN()}}function oi({pathname:r="/",search:l="",hash:n=""}){return l&&l!=="?"&&(r+=l.charAt(0)==="?"?l:"?"+l),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function qr(r){let l={};if(r){let n=r.indexOf("#");n>=0&&(l.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(l.search=r.substring(a),r=r.substring(0,a)),r&&(l.pathname=r)}return l}function uN(r,l,n,a={}){let{window:o=document.defaultView,v5Compat:d=!1}=a,u=o.history,m="POP",p=null,g=x();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function x(){return(u.state||{idx:null}).idx}function v(){m="POP";let _=x(),k=_==null?null:_-g;g=_,p&&p({action:m,location:E.location,delta:k})}function b(_,k){m="PUSH";let M=kf(E.location,_,k);g=x()+1;let R=k0(M,g),H=E.createHref(M);try{u.pushState(R,"",H)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;o.location.assign(H)}d&&p&&p({action:m,location:E.location,delta:1})}function C(_,k){m="REPLACE";let M=kf(E.location,_,k);g=x();let R=k0(M,g),H=E.createHref(M);u.replaceState(R,"",H),d&&p&&p({action:m,location:E.location,delta:0})}function N(_){return fN(_)}let E={get action(){return m},get location(){return r(o,u)},listen(_){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(D0,v),p=_,()=>{o.removeEventListener(D0,v),p=null}},createHref(_){return l(o,_)},createURL:N,encodeLocation(_){let k=N(_);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:C,go(_){return u.go(_)}};return E}function fN(r,l=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:oi(r);return a=a.replace(/ $/,"%20"),!l&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function Qg(r,l,n="/"){return mN(r,l,n,!1)}function mN(r,l,n,a){let o=typeof l=="string"?qr(l):l,d=jn(o.pathname||"/",n);if(d==null)return null;let u=Gg(r);hN(u);let m=null;for(let p=0;m==null&&p<u.length;++p){let g=CN(d);m=jN(u[p],g,a)}return m}function Gg(r,l=[],n=[],a=""){let o=(d,u,m)=>{let p={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:u,route:d};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=gn([a,p.relativePath]),x=n.concat(p);d.children&&d.children.length>0&&(it(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Gg(d.children,l,x,g)),!(d.path==null&&!d.index)&&l.push({path:g,score:wN(g,d.index),routesMeta:x})};return r.forEach((d,u)=>{var m;if(d.path===""||!((m=d.path)!=null&&m.includes("?")))o(d,u);else for(let p of Xg(d.path))o(d,u,p)}),l}function Xg(r){let l=r.split("/");if(l.length===0)return[];let[n,...a]=l,o=n.endsWith("?"),d=n.replace(/\?$/,"");if(a.length===0)return o?[d,""]:[d];let u=Xg(a.join("/")),m=[];return m.push(...u.map(p=>p===""?d:[d,p].join("/"))),o&&m.push(...u),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function hN(r){r.sort((l,n)=>l.score!==n.score?n.score-l.score:NN(l.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var pN=/^:[\w-]+$/,xN=3,gN=2,yN=1,bN=10,vN=-2,E0=r=>r==="*";function wN(r,l){let n=r.split("/"),a=n.length;return n.some(E0)&&(a+=vN),l&&(a+=gN),n.filter(o=>!E0(o)).reduce((o,d)=>o+(pN.test(d)?xN:d===""?yN:bN),a)}function NN(r,l){return r.length===l.length&&r.slice(0,-1).every((a,o)=>a===l[o])?r[r.length-1]-l[l.length-1]:0}function jN(r,l,n=!1){let{routesMeta:a}=r,o={},d="/",u=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,x=d==="/"?l:l.slice(d.length)||"/",v=uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),b=p.route;if(!v&&g&&n&&!a[a.length-1].route.index&&(v=uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:gn([d,v.pathname]),pathnameBase:EN(gn([d,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(d=gn([d,v.pathnameBase]))}return u}function uc(r,l){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=SN(r.path,r.caseSensitive,r.end),o=l.match(n);if(!o)return null;let d=o[0],u=d.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:x,isOptional:v},b)=>{if(x==="*"){let N=m[b]||"";u=d.slice(0,d.length-N.length).replace(/(.)\/+$/,"$1")}const C=m[b];return v&&!C?g[x]=void 0:g[x]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:d,pathnameBase:u,pattern:r}}function SN(r,l=!1,n=!0){Sa(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,l?void 0:"i"),a]}function CN(r){try{return r.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return Sa(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),r}}function jn(r,l){if(l==="/")return r;if(!r.toLowerCase().startsWith(l.toLowerCase()))return null;let n=l.endsWith("/")?l.length-1:l.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function _N(r,l="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?qr(r):r;return{pathname:n?n.startsWith("/")?n:DN(n,l):l,search:TN(a),hash:MN(o)}}function DN(r,l){let n=l.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function uf(r,l,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${l}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kN(r){return r.filter((l,n)=>n===0||l.route.path&&l.route.path.length>0)}function Kf(r){let l=kN(r);return l.map((n,a)=>a===l.length-1?n.pathname:n.pathnameBase)}function Wf(r,l,n,a=!1){let o;typeof r=="string"?o=qr(r):(o={...r},it(!o.pathname||!o.pathname.includes("?"),uf("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),uf("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),uf("#","search","hash",o)));let d=r===""||o.pathname==="",u=d?"/":o.pathname,m;if(u==null)m=n;else{let v=l.length-1;if(!a&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;o.pathname=b.join("/")}m=v>=0?l[v]:"/"}let p=_N(o,m),g=u&&u!=="/"&&u.endsWith("/"),x=(d||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}var gn=r=>r.join("/").replace(/\/\/+/g,"/"),EN=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),TN=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,MN=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function AN(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Kg=["POST","PUT","PATCH","DELETE"];new Set(Kg);var RN=["GET",...Kg];new Set(RN);var Vr=y.createContext(null);Vr.displayName="DataRouter";var _c=y.createContext(null);_c.displayName="DataRouterState";var Wg=y.createContext({isTransitioning:!1});Wg.displayName="ViewTransition";var ON=y.createContext(new Map);ON.displayName="Fetchers";var LN=y.createContext(null);LN.displayName="Await";var Ra=y.createContext(null);Ra.displayName="Navigation";var hi=y.createContext(null);hi.displayName="Location";var Oa=y.createContext({outlet:null,matches:[],isDataRoute:!1});Oa.displayName="Route";var Zf=y.createContext(null);Zf.displayName="RouteError";function PN(r,{relative:l}={}){it(Qr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=y.useContext(Ra),{hash:o,pathname:d,search:u}=pi(r,{relative:l}),m=d;return n!=="/"&&(m=d==="/"?n:gn([n,d])),a.createHref({pathname:m,search:u,hash:o})}function Qr(){return y.useContext(hi)!=null}function Zt(){return it(Qr(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(hi).location}var Zg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jg(r){y.useContext(Ra).static||y.useLayoutEffect(r)}function _a(){let{isDataRoute:r}=y.useContext(Oa);return r?WN():UN()}function UN(){it(Qr(),"useNavigate() may be used only in the context of a <Router> component.");let r=y.useContext(Vr),{basename:l,navigator:n}=y.useContext(Ra),{matches:a}=y.useContext(Oa),{pathname:o}=Zt(),d=JSON.stringify(Kf(a)),u=y.useRef(!1);return Jg(()=>{u.current=!0}),y.useCallback((p,g={})=>{if(Sa(u.current,Zg),!u.current)return;if(typeof p=="number"){n.go(p);return}let x=Wf(p,JSON.parse(d),o,g.relative==="path");r==null&&l!=="/"&&(x.pathname=x.pathname==="/"?l:gn([l,x.pathname])),(g.replace?n.replace:n.push)(x,g.state,g)},[l,n,d,o,r])}var zN=y.createContext(null);function YN(r){let l=y.useContext(Oa).outlet;return l&&y.createElement(zN.Provider,{value:r},l)}function pi(r,{relative:l}={}){let{matches:n}=y.useContext(Oa),{pathname:a}=Zt(),o=JSON.stringify(Kf(n));return y.useMemo(()=>Wf(r,JSON.parse(o),a,l==="path"),[r,o,a,l])}function HN(r,l){return ey(r,l)}function ey(r,l,n,a){var k;it(Qr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=y.useContext(Ra),{matches:d}=y.useContext(Oa),u=d[d.length-1],m=u?u.params:{},p=u?u.pathname:"/",g=u?u.pathnameBase:"/",x=u&&u.route;{let M=x&&x.path||"";ty(p,!x||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let v=Zt(),b;if(l){let M=typeof l=="string"?qr(l):l;it(g==="/"||((k=M.pathname)==null?void 0:k.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),b=M}else b=v;let C=b.pathname||"/",N=C;if(g!=="/"){let M=g.replace(/^\//,"").split("/");N="/"+C.replace(/^\//,"").split("/").slice(M.length).join("/")}let E=Qg(r,{pathname:N});Sa(x||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Sa(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=qN(E&&E.map(M=>Object.assign({},M,{params:Object.assign({},m,M.params),pathname:gn([g,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:gn([g,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),d,n,a);return l&&_?y.createElement(hi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},_):_}function FN(){let r=KN(),l=AN(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},d={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:d},"ErrorBoundary")," or"," ",y.createElement("code",{style:d},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},l),n?y.createElement("pre",{style:o},n):null,u)}var BN=y.createElement(FN,null),IN=class extends y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,l){return l.location!==r.location||l.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:l.error,location:l.location,revalidation:r.revalidation||l.revalidation}}componentDidCatch(r,l){console.error("React Router caught the following error during render",r,l)}render(){return this.state.error!==void 0?y.createElement(Oa.Provider,{value:this.props.routeContext},y.createElement(Zf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $N({routeContext:r,match:l,children:n}){let a=y.useContext(Vr);return a&&a.static&&a.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=l.route.id),y.createElement(Oa.Provider,{value:r},n)}function qN(r,l=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(l.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,d=n==null?void 0:n.errors;if(d!=null){let p=o.findIndex(g=>g.route.id&&(d==null?void 0:d[g.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:x,errors:v}=n,b=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||b){u=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,x)=>{let v,b=!1,C=null,N=null;n&&(v=d&&g.route.id?d[g.route.id]:void 0,C=g.route.errorElement||BN,u&&(m<0&&x===0?(ty("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):m===x&&(b=!0,N=g.route.hydrateFallbackElement||null)));let E=l.concat(o.slice(0,x+1)),_=()=>{let k;return v?k=C:b?k=N:g.route.Component?k=y.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=p,y.createElement($N,{match:g,routeContext:{outlet:p,matches:E,isDataRoute:n!=null},children:k})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?y.createElement(IN,{location:n.location,revalidation:n.revalidation,component:C,error:v,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}function Jf(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VN(r){let l=y.useContext(Vr);return it(l,Jf(r)),l}function QN(r){let l=y.useContext(_c);return it(l,Jf(r)),l}function GN(r){let l=y.useContext(Oa);return it(l,Jf(r)),l}function em(r){let l=GN(r),n=l.matches[l.matches.length-1];return it(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function XN(){return em("useRouteId")}function KN(){var a;let r=y.useContext(Zf),l=QN("useRouteError"),n=em("useRouteError");return r!==void 0?r:(a=l.errors)==null?void 0:a[n]}function WN(){let{router:r}=VN("useNavigate"),l=em("useNavigate"),n=y.useRef(!1);return Jg(()=>{n.current=!0}),y.useCallback(async(o,d={})=>{Sa(n.current,Zg),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:l,...d}))},[r,l])}var T0={};function ty(r,l,n){!l&&!T0[r]&&(T0[r]=!0,Sa(!1,n))}y.memo(ZN);function ZN({routes:r,future:l,state:n}){return ey(r,void 0,n,l)}function Ef({to:r,replace:l,state:n,relative:a}){it(Qr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=y.useContext(Ra);Sa(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=y.useContext(Oa),{pathname:u}=Zt(),m=_a(),p=Wf(r,Kf(d),u,a==="path"),g=JSON.stringify(p);return y.useEffect(()=>{m(JSON.parse(g),{replace:l,state:n,relative:a})},[m,g,a,l,n]),null}function tm(r){return YN(r.context)}function He(r){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JN({basename:r="/",children:l=null,location:n,navigationType:a="POP",navigator:o,static:d=!1}){it(!Qr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),m=y.useMemo(()=>({basename:u,navigator:o,static:d,future:{}}),[u,o,d]);typeof n=="string"&&(n=qr(n));let{pathname:p="/",search:g="",hash:x="",state:v=null,key:b="default"}=n,C=y.useMemo(()=>{let N=jn(p,u);return N==null?null:{location:{pathname:N,search:g,hash:x,state:v,key:b},navigationType:a}},[u,p,g,x,v,b,a]);return Sa(C!=null,`<Router basename="${u}"> is not able to match the URL "${p}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:y.createElement(Ra.Provider,{value:m},y.createElement(hi.Provider,{children:l,value:C}))}function ej({children:r,location:l}){return HN(Tf(r),l)}function Tf(r,l=[]){let n=[];return y.Children.forEach(r,(a,o)=>{if(!y.isValidElement(a))return;let d=[...l,o];if(a.type===y.Fragment){n.push.apply(n,Tf(a.props.children,d));return}it(a.type===He,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=Tf(a.props.children,d)),n.push(u)}),n}var ec="get",tc="application/x-www-form-urlencoded";function Dc(r){return r!=null&&typeof r.tagName=="string"}function tj(r){return Dc(r)&&r.tagName.toLowerCase()==="button"}function aj(r){return Dc(r)&&r.tagName.toLowerCase()==="form"}function nj(r){return Dc(r)&&r.tagName.toLowerCase()==="input"}function sj(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function rj(r,l){return r.button===0&&(!l||l==="_self")&&!sj(r)}function Mf(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((l,n)=>{let a=r[n];return l.concat(Array.isArray(a)?a.map(o=>[n,o]):[[n,a]])},[]))}function lj(r,l){let n=Mf(r);return l&&l.forEach((a,o)=>{n.has(o)||l.getAll(o).forEach(d=>{n.append(o,d)})}),n}var Ho=null;function ij(){if(Ho===null)try{new FormData(document.createElement("form"),0),Ho=!1}catch{Ho=!0}return Ho}var oj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ff(r){return r!=null&&!oj.has(r)?(Sa(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tc}"`),null):r}function cj(r,l){let n,a,o,d,u;if(aj(r)){let m=r.getAttribute("action");a=m?jn(m,l):null,n=r.getAttribute("method")||ec,o=ff(r.getAttribute("enctype"))||tc,d=new FormData(r)}else if(tj(r)||nj(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?jn(p,l):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ec,o=ff(r.getAttribute("formenctype"))||ff(m.getAttribute("enctype"))||tc,d=new FormData(m,r),!ij()){let{name:g,type:x,value:v}=r;if(x==="image"){let b=g?`${g}.`:"";d.append(`${b}x`,"0"),d.append(`${b}y`,"0")}else g&&d.append(g,v)}}else{if(Dc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ec,a=null,o=tc,u=r}return d&&o==="text/plain"&&(u=d,d=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:d,body:u}}function am(r,l){if(r===!1||r===null||typeof r>"u")throw new Error(l)}async function dj(r,l){if(r.id in l)return l[r.id];try{let n=await import(r.module);return l[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uj(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function fj(r,l,n){let a=await Promise.all(r.map(async o=>{let d=l.routes[o.route.id];if(d){let u=await dj(d,n);return u.links?u.links():[]}return[]}));return xj(a.flat(1).filter(uj).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function M0(r,l,n,a,o,d){let u=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var x;return n[g].pathname!==p.pathname||((x=n[g].route.path)==null?void 0:x.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return d==="assets"?l.filter((p,g)=>u(p,g)||m(p,g)):d==="data"?l.filter((p,g)=>{var v;let x=a.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(u(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function mj(r,l,{includeHydrateFallback:n}={}){return hj(r.map(a=>{let o=l.routes[a.route.id];if(!o)return[];let d=[o.module];return o.clientActionModule&&(d=d.concat(o.clientActionModule)),o.clientLoaderModule&&(d=d.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(d=d.concat(o.hydrateFallbackModule)),o.imports&&(d=d.concat(o.imports)),d}).flat(1))}function hj(r){return[...new Set(r)]}function pj(r){let l={},n=Object.keys(r).sort();for(let a of n)l[a]=r[a];return l}function xj(r,l){let n=new Set;return new Set(l),r.reduce((a,o)=>{let d=JSON.stringify(pj(o));return n.has(d)||(n.add(d),a.push({key:d,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gj=new Set([100,101,204,205]);function yj(r,l){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":l&&jn(n.pathname,l)==="/"?n.pathname=`${l.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function ay(){let r=y.useContext(Vr);return am(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function bj(){let r=y.useContext(_c);return am(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var nm=y.createContext(void 0);nm.displayName="FrameworkContext";function ny(){let r=y.useContext(nm);return am(r,"You must render this element inside a <HydratedRouter> element"),r}function vj(r,l){let n=y.useContext(nm),[a,o]=y.useState(!1),[d,u]=y.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:x,onTouchStart:v}=l,b=y.useRef(null);y.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let E=k=>{k.forEach(M=>{u(M.isIntersecting)})},_=new IntersectionObserver(E,{threshold:.5});return b.current&&_.observe(b.current),()=>{_.disconnect()}}},[r]),y.useEffect(()=>{if(a){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[a]);let C=()=>{o(!0)},N=()=>{o(!1),u(!1)};return n?r!=="intent"?[d,b,{}]:[d,b,{onFocus:Zl(m,C),onBlur:Zl(p,N),onMouseEnter:Zl(g,C),onMouseLeave:Zl(x,N),onTouchStart:Zl(v,C)}]:[!1,b,{}]}function Zl(r,l){return n=>{r&&r(n),n.defaultPrevented||l(n)}}function wj({page:r,...l}){let{router:n}=ay(),a=y.useMemo(()=>Qg(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?y.createElement(jj,{page:r,matches:a,...l}):null}function Nj(r){let{manifest:l,routeModules:n}=ny(),[a,o]=y.useState([]);return y.useEffect(()=>{let d=!1;return fj(r,l,n).then(u=>{d||o(u)}),()=>{d=!0}},[r,l,n]),a}function jj({page:r,matches:l,...n}){let a=Zt(),{manifest:o,routeModules:d}=ny(),{basename:u}=ay(),{loaderData:m,matches:p}=bj(),g=y.useMemo(()=>M0(r,l,p,o,a,"data"),[r,l,p,o,a]),x=y.useMemo(()=>M0(r,l,p,o,a,"assets"),[r,l,p,o,a]),v=y.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let N=new Set,E=!1;if(l.forEach(k=>{var R;let M=o.routes[k.route.id];!M||!M.hasLoader||(!g.some(H=>H.route.id===k.route.id)&&k.route.id in m&&((R=d[k.route.id])!=null&&R.shouldRevalidate)||M.hasClientLoader?E=!0:N.add(k.route.id))}),N.size===0)return[];let _=yj(r,u);return E&&N.size>0&&_.searchParams.set("_routes",l.filter(k=>N.has(k.route.id)).map(k=>k.route.id).join(",")),[_.pathname+_.search]},[u,m,a,o,g,l,r,d]),b=y.useMemo(()=>mj(x,o),[x,o]),C=Nj(x);return y.createElement(y.Fragment,null,v.map(N=>y.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),b.map(N=>y.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),C.map(({key:N,link:E})=>y.createElement("link",{key:N,...E})))}function Sj(...r){return l=>{r.forEach(n=>{typeof n=="function"?n(l):n!=null&&(n.current=l)})}}var sy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sy&&(window.__reactRouterVersion="7.6.2")}catch{}function Cj({basename:r,children:l,window:n}){let a=y.useRef();a.current==null&&(a.current=cN({window:n,v5Compat:!0}));let o=a.current,[d,u]=y.useState({action:o.action,location:o.location}),m=y.useCallback(p=>{y.startTransition(()=>u(p))},[u]);return y.useLayoutEffect(()=>o.listen(m),[o,m]),y.createElement(JN,{basename:r,children:l,location:d.location,navigationType:d.action,navigator:o})}var ry=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Za=y.forwardRef(function({onClick:l,discover:n="render",prefetch:a="none",relative:o,reloadDocument:d,replace:u,state:m,target:p,to:g,preventScrollReset:x,viewTransition:v,...b},C){let{basename:N}=y.useContext(Ra),E=typeof g=="string"&&ry.test(g),_,k=!1;if(typeof g=="string"&&E&&(_=g,sy))try{let G=new URL(window.location.href),de=g.startsWith("//")?new URL(G.protocol+g):new URL(g),ue=jn(de.pathname,N);de.origin===G.origin&&ue!=null?g=ue+de.search+de.hash:k=!0}catch{Sa(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=PN(g,{relative:o}),[R,H,O]=vj(a,b),$=Ej(g,{replace:u,state:m,target:p,preventScrollReset:x,relative:o,viewTransition:v});function I(G){l&&l(G),G.defaultPrevented||$(G)}let Y=y.createElement("a",{...b,...O,href:_||M,onClick:k||d?l:I,ref:Sj(C,H),target:p,"data-discover":!E&&n==="render"?"true":void 0});return R&&!E?y.createElement(y.Fragment,null,Y,y.createElement(wj,{page:M})):Y});Za.displayName="Link";var _j=y.forwardRef(function({"aria-current":l="page",caseSensitive:n=!1,className:a="",end:o=!1,style:d,to:u,viewTransition:m,children:p,...g},x){let v=pi(u,{relative:g.relative}),b=Zt(),C=y.useContext(_c),{navigator:N,basename:E}=y.useContext(Ra),_=C!=null&&Oj(v)&&m===!0,k=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,M=b.pathname,R=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(M=M.toLowerCase(),R=R?R.toLowerCase():null,k=k.toLowerCase()),R&&E&&(R=jn(R,E)||R);const H=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let O=M===k||!o&&M.startsWith(k)&&M.charAt(H)==="/",$=R!=null&&(R===k||!o&&R.startsWith(k)&&R.charAt(k.length)==="/"),I={isActive:O,isPending:$,isTransitioning:_},Y=O?l:void 0,G;typeof a=="function"?G=a(I):G=[a,O?"active":null,$?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let de=typeof d=="function"?d(I):d;return y.createElement(Za,{...g,"aria-current":Y,className:G,ref:x,style:de,to:u,viewTransition:m},typeof p=="function"?p(I):p)});_j.displayName="NavLink";var Dj=y.forwardRef(({discover:r="render",fetcherKey:l,navigate:n,reloadDocument:a,replace:o,state:d,method:u=ec,action:m,onSubmit:p,relative:g,preventScrollReset:x,viewTransition:v,...b},C)=>{let N=Aj(),E=Rj(m,{relative:g}),_=u.toLowerCase()==="get"?"get":"post",k=typeof m=="string"&&ry.test(m),M=R=>{if(p&&p(R),R.defaultPrevented)return;R.preventDefault();let H=R.nativeEvent.submitter,O=(H==null?void 0:H.getAttribute("formmethod"))||u;N(H||R.currentTarget,{fetcherKey:l,method:O,navigate:n,replace:o,state:d,relative:g,preventScrollReset:x,viewTransition:v})};return y.createElement("form",{ref:C,method:_,action:E,onSubmit:a?p:M,...b,"data-discover":!k&&r==="render"?"true":void 0})});Dj.displayName="Form";function kj(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ly(r){let l=y.useContext(Vr);return it(l,kj(r)),l}function Ej(r,{target:l,replace:n,state:a,preventScrollReset:o,relative:d,viewTransition:u}={}){let m=_a(),p=Zt(),g=pi(r,{relative:d});return y.useCallback(x=>{if(rj(x,l)){x.preventDefault();let v=n!==void 0?n:oi(p)===oi(g);m(r,{replace:v,state:a,preventScrollReset:o,relative:d,viewTransition:u})}},[p,m,g,n,a,l,r,o,d,u])}function iy(r){Sa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let l=y.useRef(Mf(r)),n=y.useRef(!1),a=Zt(),o=y.useMemo(()=>lj(a.search,n.current?null:l.current),[a.search]),d=_a(),u=y.useCallback((m,p)=>{const g=Mf(typeof m=="function"?m(o):m);n.current=!0,d("?"+g,p)},[d,o]);return[o,u]}var Tj=0,Mj=()=>`__${String(++Tj)}__`;function Aj(){let{router:r}=ly("useSubmit"),{basename:l}=y.useContext(Ra),n=XN();return y.useCallback(async(a,o={})=>{let{action:d,method:u,encType:m,formData:p,body:g}=cj(a,l);if(o.navigate===!1){let x=o.fetcherKey||Mj();await r.fetch(x,n,o.action||d,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||u,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||d,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||u,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,l,n])}function Rj(r,{relative:l}={}){let{basename:n}=y.useContext(Ra),a=y.useContext(Oa);it(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),d={...pi(r||".",{relative:l})},u=Zt();if(r==null){d.search=u.search;let m=new URLSearchParams(d.search),p=m.getAll("index");if(p.some(x=>x==="")){m.delete("index"),p.filter(v=>v).forEach(v=>m.append("index",v));let x=m.toString();d.search=x?`?${x}`:""}}return(!r||r===".")&&o.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(d.pathname=d.pathname==="/"?n:gn([n,d.pathname])),oi(d)}function Oj(r,l={}){let n=y.useContext(Wg);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=ly("useViewTransitionState"),o=pi(r,{relative:l.relative});if(!n.isTransitioning)return!1;let d=jn(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=jn(n.nextLocation.pathname,a)||n.nextLocation.pathname;return uc(o.pathname,u)!=null||uc(o.pathname,d)!=null}[...gj];var oy=Vg();const Lj=$g(oy),cy=y.createContext(void 0);function Pj({children:r}){const[l,n]=y.useState(()=>{const u=localStorage.getItem("user");return u?JSON.parse(u):null}),d={user:l,login:(u,m)=>{const p={...u,token:m};n(p),localStorage.setItem("user",JSON.stringify(p)),localStorage.setItem("token",m)},logout:()=>{n(null),localStorage.removeItem("user"),localStorage.removeItem("token")},isAuthenticated:!!l};return t.jsx(cy.Provider,{value:d,children:r})}function La(){const r=y.useContext(cy);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zj=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(l,n,a)=>a?a.toUpperCase():n.toLowerCase()),A0=r=>{const l=zj(r);return l.charAt(0).toUpperCase()+l.slice(1)},dy=(...r)=>r.filter((l,n,a)=>!!l&&l.trim()!==""&&a.indexOf(l)===n).join(" ").trim(),Yj=r=>{for(const l in r)if(l.startsWith("aria-")||l==="role"||l==="title")return!0};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=y.forwardRef(({color:r="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:d,iconNode:u,...m},p)=>y.createElement("svg",{ref:p,...Hj,width:l,height:l,stroke:r,strokeWidth:a?Number(n)*24/Number(l):n,className:dy("lucide",o),...!d&&!Yj(m)&&{"aria-hidden":"true"},...m},[...u.map(([g,x])=>y.createElement(g,x)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(r,l)=>{const n=y.forwardRef(({className:a,...o},d)=>y.createElement(Fj,{ref:d,iconNode:l,className:dy(`lucide-${Uj(A0(r))}`,`lucide-${r}`,a),...o}));return n.displayName=A0(r),n};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ij=we("activity",Bj);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qj=we("arrow-left",$j);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Qj=we("arrow-right",Vj);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],sm=we("baby",Gj);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Or=we("bell",Xj);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Wj=we("book-open",Kj);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Jj=we("calendar-days",Zj);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vt=we("calendar",e1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],Af=we("chart-no-axes-column-increasing",t1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],n1=we("chart-pie",a1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],r1=we("check",s1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pt=we("chevron-down",l1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],R0=we("chevron-right",i1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],At=we("chevron-up",o1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ja=we("circle-alert",c1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ci=we("circle-check-big",d1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],f1=we("circle-x",u1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],h1=we("clipboard-list",m1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ss=we("clock",p1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Tr=we("credit-card",x1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ts=we("dollar-sign",g1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Jn=we("download",y1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Mr=we("eye-off",b1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ta=we("eye",v1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],da=we("file-text",w1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Lr=we("funnel",N1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],S1=we("globe",j1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],O0=we("graduation-cap",C1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]],D1=we("heart-pulse",_1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],L0=we("heart",k1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],T1=we("laptop",E1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],uy=we("layout-dashboard",M1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],di=we("lock",A1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],rm=we("log-out",R1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Gr=we("mail",O1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fy=we("map-pin",L1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],my=we("menu",P1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Rf=we("message-square",U1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],hy=we("package",z1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],H1=we("paintbrush",Y1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],kc=we("phone",F1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wt=we("plus",B1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ec=we("refresh-cw",I1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Jt=we("search",$1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],V1=we("send",q1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],py=we("settings",Q1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],X1=we("shield",G1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],W1=we("smile",K1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Sn=we("square-pen",Z1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],e2=we("star",J1);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Hs=we("trash-2",t2);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Of=we("trending-up",a2);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],s2=we("triangle-alert",n2);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Lf=we("user-check",r2);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],i2=we("user-plus",l2);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],c2=we("user-x",o2);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jt=we("user",d2);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],It=we("users",u2);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ue=we("x",f2),m2="/assets/fifth-logo-5ZLWVTM6.png",xy=()=>t.jsx("header",{className:"bg-white shadow-sm fixed w-full z-50",children:t.jsxs("nav",{className:"max-w-7xl mx-auto px-2 py-2 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-3",children:t.jsx("img",{src:m2,alt:"Little Steps Logo",className:"h-15 w-auto"})}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsx(Za,{to:"/login",className:"bg-gradient-to-r from-[#6339C0] to-[#9F66FF] text-white px-5 py-2.5 rounded-lg hover:shadow-lg transition-all font-medium",children:"Login"})})]})}),h2="/assets/hero-image-CcP2Ih3Z.jpg",p2=()=>{const r=[{value:"200+",label:"Happy Children",icon:t.jsx(W1,{className:"text-[#9F66FF]",size:20})},{value:"98%",label:"Parent Satisfaction",icon:t.jsx(L0,{className:"text-[#9F66FF]",size:20})},{value:"10:1",label:"Child to Teacher Ratio",icon:t.jsx(It,{className:"text-[#9F66FF]",size:20})},{value:"4.9/5",label:"Average Rating",icon:t.jsx(e2,{className:"text-[#9F66FF]",size:20})}],l=[{range:"3-5 Years",icon:t.jsx(H1,{className:"text-[#6339C0]",size:24}),description:"Play-based learning with focus on social skills and creativity"},{range:"6-10 Years",icon:t.jsx(S1,{className:"text-[#6339C0]",size:24}),description:"Exploratory learning with STEM activities and team projects",image:"https://images.unsplash.com/photo-1588072432836-e10032774350?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"},{range:"11-16 Years",icon:t.jsx(O0,{className:"text-[#6339C0]",size:24}),description:"Specialized programs with academic support and extracurriculars",image:"https://images.unsplash.com/photo-1524179091875-b494986c6e1b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"}],n=[{name:"Early Childhood",icon:t.jsx(Wj,{className:"text-[#6339C0]",size:24}),description:"Foundational literacy and numeracy through play",activities:["Story time","Creative arts","Sensory play"]},{name:"Elementary Program",icon:t.jsx(T1,{className:"text-[#6339C0]",size:24}),description:"Project-based learning with technology integration",activities:["Science experiments","Coding basics","Reading clubs"]},{name:"Teen Development",icon:t.jsx(O0,{className:"text-[#6339C0]",size:24}),description:"Leadership and skill-building activities",activities:["Sports teams","Study groups","Career workshops"]}];return t.jsxs("div",{className:"min-h-screen bg-white text-gray-800 flex flex-col font-poppins antialiased overflow-x-hidden",children:[t.jsx(xy,{}),t.jsx("section",{className:"relative pt-28 pb-16 px-6 max-w-7xl mx-auto w-full",children:t.jsxs("div",{className:"relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"inline-flex items-center bg-[#f3eeff] text-[#6339C0] px-4 py-2 rounded-full font-medium mb-6",children:[t.jsx(X1,{className:"mr-2",size:18}),t.jsx("span",{children:"Licensed & Accredited"})]}),t.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6 leading-tight",children:[t.jsx("span",{className:"bg-gradient-to-r from-[#6339C0] to-[#9F66FF] bg-clip-text text-transparent",children:"Little Steps"}),t.jsx("br",{}),"Growing With Your Child"]}),t.jsx("p",{className:"text-xl text-gray-600 mb-10 max-w-lg leading-relaxed",children:"Comprehensive care and education for children ages 3 to 16. From preschool play to teen development, we support every stage of growth."}),t.jsx("div",{className:"flex flex-wrap gap-4 mb-8",children:t.jsxs(Za,{to:"/contact",className:"bg-gradient-to-r from-[#6339C0] to-[#9F66FF] text-white px-8 py-4 rounded-xl hover:shadow-lg transition-all font-semibold text-lg flex items-center group",children:[t.jsx("span",{children:"Schedule a Visit"}),t.jsx(R0,{className:"ml-2 w-5 h-5 transform group-hover:translate-x-1 transition"})]})})]}),t.jsx("div",{className:"relative",children:t.jsx("div",{className:"relative bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:t.jsx("img",{src:h2,alt:"Multi-age group of children learning together",className:"w-full h-auto max-h-[400px] object-cover"})})})]})}),t.jsx("section",{className:"py-15 px-6 bg-gradient-to-br from-[#f9f6ff] to-[#f0e9ff]",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("span",{className:"inline-block bg-[#f3eeff] text-[#6339C0] px-4 py-2 rounded-full font-medium mb-4",children:"OUR AGE GROUPS"}),t.jsxs("h2",{className:"text-4xl font-bold mb-6",children:["Programs for ",t.jsx("span",{className:"text-[#6339C0]",children:"Every Stage"})]}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Tailored learning experiences from preschool through high school"})]}),t.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:l.map((a,o)=>t.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all overflow-hidden",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-[#f3eeff] rounded-xl mr-4",children:a.icon}),t.jsx("h3",{className:"text-xl font-bold",children:a.range})]}),t.jsx("p",{className:"text-gray-600",children:a.description})]})},o))})]})}),t.jsx("section",{className:"py-10 px-6 bg-white",children:t.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-6",children:r.map((a,o)=>t.jsxs("div",{className:"bg-[#f9f6ff] p-6 rounded-xl shadow-sm text-center hover:shadow-md transition-all flex flex-col items-center",children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-[#f3eeff] rounded-full mb-3",children:a.icon}),t.jsx("div",{className:"text-3xl font-bold mb-1 bg-gradient-to-r from-[#6339C0] to-[#9F66FF] bg-clip-text text-transparent",children:a.value}),t.jsx("p",{className:"text-gray-600 text-sm",children:a.label})]},o))})}),t.jsxs("section",{className:"py-6 px-6 max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-10",children:[t.jsx("span",{className:"inline-block bg-[#f3eeff] text-[#6339C0] px-4 py-2 rounded-full font-medium mb-4",children:"OUR PROGRAMS"}),t.jsxs("h2",{className:"text-4xl font-bold mb-6",children:["Learning For ",t.jsx("span",{className:"text-[#6339C0]",children:"All Ages"})]})]}),t.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:n.map((a,o)=>t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-all border border-gray-100",children:[t.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-[#f3eeff] rounded-xl mb-4",children:a.icon}),t.jsx("h3",{className:"text-2xl font-bold mb-3",children:a.name}),t.jsx("p",{className:"text-gray-600 mb-4",children:a.description}),t.jsx("ul",{className:"space-y-2 mb-6",children:a.activities.map((d,u)=>t.jsxs("li",{className:"flex items-start",children:[t.jsx(r1,{className:"w-4 h-4 text-[#6339C0] mr-2 mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"text-gray-600",children:d})]},u))})]},o))})]}),t.jsx("section",{className:"py-10 px-6 bg-gradient-to-br from-[#f9f6ff] to-[#f0e9ff]",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("span",{className:"inline-block bg-[#f3eeff] text-[#6339C0] px-4 py-2 rounded-full font-medium mb-4",children:"LIFE AT LITTLESTEPS"}),t.jsxs("h2",{className:"text-4xl font-bold mb-6",children:["Where ",t.jsx("span",{className:"text-[#6339C0]",children:"Children Thrive"})]})]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:["https://images.unsplash.com/photo-1541692641319-981cc79ee10a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1577896851231-70ef18881754?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1541178735493-479c1a27ed24?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1588072432904-843af37f03ed?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80","https://go.skimresources.com/?id=201523X1680086&isjs=1&jv=15.7.1&sref=https%3A%2F%2Fmilk-drunk.com%2Fwhat-to-pack-for-daycare-12-daycare-essentials-baby-toddler%2F&url=https%3A%2F%2Femh5334n65w.exactdn.com%2Fwp-content%2Fuploads%2F2023%2F03%2FiStock-1356126124.jpg%3Fstrip%3Dall%26lossy%3D1%26ssl%3D1&xs=1&xtz=-330&xuuid=391cbf9ca4a86ff58685036f716a5b53&cci=913bede46d25edf296d89cced7e2be2e","https://images.unsplash.com/photo-1588072432836-e10032774350?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"].map((a,o)=>t.jsx("div",{className:"aspect-square overflow-hidden rounded-xl hover:shadow-lg transition-all",children:t.jsx("img",{src:a,alt:"Children learning and playing",className:"w-full h-full object-cover hover:scale-110 transition-transform duration-500"})},o))})]})}),t.jsx("section",{className:"py-10 px-6 max-w-7xl mx-auto",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-16 items-center",children:[t.jsxs("div",{className:"space-y-8",children:[t.jsx("span",{className:"inline-block bg-[#f3eeff] text-[#6339C0] px-4 py-2 rounded-full font-medium",children:"GET IN TOUCH"}),t.jsxs("h2",{className:"text-4xl font-bold",children:["Contact ",t.jsx("span",{className:"text-[#6339C0]",children:"LittleSteps"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx(fy,{className:"w-6 h-6 text-[#6339C0] mr-4 mt-1 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-lg",children:"Our Location"}),t.jsx("p",{className:"text-gray-600",children:"UCSC Building Complex, 35 Reid Ave, Colombo 00700"})]})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(kc,{className:"w-6 h-6 text-[#6339C0] mr-4 mt-1 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-lg",children:"Call Us"}),t.jsx("p",{className:"text-gray-600",children:"+94 766 135110"})]})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(Gr,{className:"w-6 h-6 text-[#6339C0] mr-4 mt-1 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-lg",children:"Email Us"}),t.jsx("p",{className:"text-gray-600",children:"littlesteps@gmail.com"})]})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(ss,{className:"w-6 h-6 text-[#6339C0] mr-4 mt-1 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-lg",children:"Hours"}),t.jsx("p",{className:"text-gray-600",children:"Monday-Friday: 7:30am - 6:00pm"}),t.jsx("p",{className:"text-gray-600",children:"Saturday: 9:00am - 2:00pm"})]})]})]})]}),t.jsx("div",{className:"relative h-full min-h-[400px] rounded-2xl overflow-hidden shadow-xl",children:t.jsx("img",{src:"https://images.unsplash.com/photo-1541692641319-981cc79ee10a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",alt:"Happy children at our center",className:"w-full h-full object-cover"})})]})}),t.jsx("section",{className:"py-15 bg-gradient-to-br from-[#6339C0] to-[#9F66FF] text-white relative overflow-hidden",children:t.jsxs("div",{className:"relative max-w-4xl mx-auto px-6 text-center",children:[t.jsx(L0,{className:"w-12 h-12 mx-auto mb-6 text-white/30"}),t.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Begin Your Child's Learning Journey"}),t.jsx("p",{className:"text-xl mb-10 max-w-2xl mx-auto leading-relaxed",children:"Limited spaces available for all age groups (3-16 years)."}),t.jsxs(Za,{to:"/contact",className:"inline-flex items-center bg-white text-[#6339C0] px-8 py-4 rounded-xl hover:shadow-lg transition-all font-semibold text-lg group mx-auto",children:[t.jsx("span",{children:"Contact Us Today"}),t.jsx(R0,{className:"ml-2 w-5 h-5 transform group-hover:translate-x-1 transition"})]})]})})]})},Ce="http://localhost:5001/api",x2=()=>{var E,_;const[r,l]=y.useState(!1),[n,a]=y.useState(!1),[o,d]=y.useState(""),[u,m]=y.useState(""),[p,g]=y.useState(""),{login:x}=La(),v=_a(),C=((_=(E=Zt().state)==null?void 0:E.from)==null?void 0:_.pathname)||"/",N=async k=>{k.preventDefault(),a(!0),g("");try{const M=await fetch(`${Ce}/supervisor/supervisorLogin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:u})}),R=await M.json();if(!M.ok)throw new Error(R.message||"Login failed");switch(x(R.user,R.token),R.user.role){case"admin":v("/admin",{replace:!0});break;case"supervisor":v("/supervisor",{replace:!0});break;default:v(C,{replace:!0})}}catch(M){g(M instanceof Error?M.message:"Invalid email or password")}finally{a(!1)}};return t.jsx("div",{className:"min-h-[calc(100vh-100px)] flex items-center justify-center bg-gradient-to-br from-[#f9f6ff] to-[#fff] p-4 mt-16",children:t.jsxs("div",{className:"bg-white shadow-2xl rounded-2xl p-8 sm:p-10 w-full max-w-md border-t-8 border-[#6339C0] relative overflow-hidden",children:[t.jsx("h2",{className:"text-2xl font-bold mb-6 text-[#6339C0]",children:"Login to Little Steps"}),p&&t.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:p}),t.jsxs("form",{onSubmit:N,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(Gr,{className:"absolute left-3 top-3 text-[#6339C0]",size:20}),t.jsx("input",{type:"email",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6339C0]",value:o,onChange:k=>d(k.target.value),required:!0,placeholder:"Enter your email"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(di,{className:"absolute left-3 top-3 text-[#6339C0]",size:20}),t.jsx("input",{type:r?"text":"password",className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6339C0]",value:u,onChange:k=>m(k.target.value),required:!0,placeholder:"Enter your password",minLength:6}),t.jsx("button",{type:"button",className:"absolute right-3 top-3 text-gray-400",onClick:()=>l(!r),tabIndex:-1,children:r?t.jsx(Mr,{size:20}):t.jsx(Ta,{size:20})})]})]}),t.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-[#6339C0] to-[#9F66FF] text-white py-3 rounded-lg font-semibold hover:shadow-lg transition flex justify-center items-center",disabled:n,children:n?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging in..."]}):"Login"})]}),t.jsx("div",{className:"mt-6 text-center text-sm text-gray-600"})]})})},g2=()=>{const[r,l]=y.useState(!1),[n,a]=y.useState(""),[o,d]=y.useState(""),[u,m]=y.useState(""),[p,g]=y.useState(!1),[x,v]=y.useState(!1),[b,C]=y.useState(""),[N,E]=y.useState(""),[_,k]=y.useState("admin"),[M,R]=y.useState(""),H=_a(),O=async $=>{$.preventDefault(),l(!0),R("");try{if(!n.trim())throw new Error("Name is required");if(!o.trim())throw new Error("Email is required");if(!u.trim())throw new Error("NIC is required");if(!/^(?:\d{9}[VXvx]|\d{12})$/.test(u.trim()))throw new Error("Please enter a valid NIC number (9 digits + V/X or 12 digits)");if(b.length<6)throw new Error("Password must be at least 6 characters");if(b!==N)throw new Error("Passwords do not match");const Y=_==="admin"?`${Ce}/supervisors/adminSignup`:`${Ce}/supervisors/supervisorSignup`,G=await fetch(Y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:o,nic:u,password:b,role:_})}),de=G.headers.get("content-type");let ue;if(de&&de.includes("application/json"))ue=await G.json();else throw new Error("Server returned an unexpected response");if(!G.ok)throw new Error(ue.message||"Signup failed");H("/login",{state:{success:"Account created successfully! Please login.",email:ue.user.email}})}catch(I){const Y=I;R(Y.message),console.error("Signup error:",Y)}finally{l(!1)}};return t.jsx("div",{className:"min-h-[calc(100vh-160px)] flex items-center justify-center bg-gradient-to-br from-[#f9f6ff] to-[#fff] p-4 mt-18",children:t.jsxs("div",{className:"bg-white shadow-2xl rounded-2xl p-8 sm:p-10 w-full max-w-md border-t-8 border-[#6339C0] relative overflow-hidden",children:[t.jsx("h2",{className:"text-2xl font-bold mb-6 text-[#6339C0]",children:"Create Admin Account"}),M&&t.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:M}),t.jsxs("form",{onSubmit:O,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),t.jsx("input",{id:"name",type:"text",value:n,onChange:$=>a($.target.value),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6339C0]",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),t.jsx("input",{id:"email",type:"email",value:o,onChange:$=>d($.target.value),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6339C0]",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"nic",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIC Number"}),t.jsx("input",{id:"nic",type:"text",value:u,onChange:$=>m($.target.value),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6339C0]",placeholder:"Enter your NIC (e.g., 123456789V or 123456789012)",maxLength:12,required:!0}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter 9 digits + V/X (old format) or 12 digits (new format)"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),t.jsxs("select",{id:"role",value:_,onChange:$=>k($.target.value),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6339C0]",required:!0,children:[t.jsx("option",{value:"admin",children:"Admin"}),t.jsx("option",{value:"supervisor",children:"Supervisor"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{id:"password",type:p?"text":"password",value:b,onChange:$=>C($.target.value),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6339C0] pr-10",required:!0}),t.jsx("button",{type:"button",className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",onClick:()=>g(!p),tabIndex:-1,children:p?t.jsx(Mr,{size:20}):t.jsx(Ta,{size:20})})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"confirm",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{id:"confirm",type:x?"text":"password",value:N,onChange:$=>E($.target.value),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6339C0] pr-10",required:!0}),t.jsx("button",{type:"button",className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",onClick:()=>v(!x),tabIndex:-1,children:x?t.jsx(Mr,{size:20}):t.jsx(Ta,{size:20})})]})]}),t.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-[#6339C0] to-[#9F66FF] text-white py-3 rounded-lg font-semibold hover:shadow-lg transition flex justify-center items-center",disabled:r,children:r?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Sign Up"})]}),t.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:["Already have an account?"," ",t.jsx(Za,{to:"/login",className:"text-[#6339C0] font-semibold hover:underline",children:"Login"})]})]})})},P0=({children:r,roles:l=[]})=>{const{user:n}=La(),a=Zt();return n?l.length>0&&!l.includes(n.role)?t.jsx(Ef,{to:"/unauthorized",replace:!0}):t.jsx(t.Fragment,{children:r}):t.jsx(Ef,{to:"/login",state:{from:a},replace:!0})},y2=()=>t.jsxs("div",{className:"flex flex-col min-h-screen",children:[t.jsx(xy,{}),t.jsx("main",{className:"flex-grow",children:t.jsx(tm,{})})]}),b2="/assets/logo-BdPonwXT.png",v2=()=>{const r=Zt(),l=_a(),{logout:n}=La(),a=()=>{n(),l("/")},o=[{path:"/admin",icon:uy,label:"Dashboard"},{path:"/admin/users",icon:It,label:"Supervisor and Teachers"},{path:"/admin/children",icon:sm,label:"Child Details"},{path:"/admin/subscriptions",icon:Tr,label:"Subscriptions"},{path:"/admin/payments",icon:Tr,label:"Payment Management"},{path:"/admin/complaints",icon:ja,label:"Complaints"},{path:"/admin/announcements",icon:Or,label:"Announcements"},{path:"/admin/reports",icon:n1,label:"Reports"},{path:"/admin/settings",icon:py,label:"Settings"}];return t.jsxs("div",{className:"w-64 bg-gradient-to-b from-[#4f46e5] to-[#7c73e6] text-white flex flex-col border-r border-[#7e57ff]",children:[t.jsx("div",{className:"p-6 border-b border-[#7e57ff] flex items-center space-x-3",children:t.jsx("img",{src:b2,alt:"Little Steps Logo",className:"h-15 w-auto"})}),t.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:o.map(d=>t.jsxs(Za,{to:d.path,className:`flex items-center p-3 rounded-lg transition-all ${r.pathname===d.path?"bg-white/20":"hover:bg-white/10"}`,children:[t.jsx(d.icon,{className:"w-5 h-5 mr-3"}),t.jsx("span",{children:d.label})]},d.path))}),t.jsx("div",{className:"p-4 border-t border-[#7e57ff]",children:t.jsx("button",{onClick:a,className:"flex items-center p-3 rounded-lg transition-all w-full hover:bg-red-500/20 text-white hover:text-red-200 text-left",children:t.jsx("span",{children:"Logout"})})})]})},w2=()=>{const[r,l]=y.useState(!1),{user:n,logout:a}=La(),o=_a(),d=()=>{a(),o("/login")};return t.jsx("nav",{className:"bg-white shadow-sm",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex justify-between h-15",children:[t.jsx("div",{className:"flex items-center sm:hidden",children:t.jsxs("button",{onClick:()=>l(!r),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[t.jsx("span",{className:"sr-only",children:"Open main menu"}),r?t.jsx(Ue,{className:"block h-6 w-6"}):t.jsx(my,{className:"block h-6 w-6"})]})}),t.jsx("div",{className:"flex-1 flex items-center justify-end",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{className:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[t.jsx("span",{className:"sr-only",children:"View notifications"}),t.jsx(Or,{className:"h-6 w-6"})]}),t.jsx("div",{className:"ml-3 relative",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(jt,{className:"h-8 w-8 text-indigo-600"}),n&&t.jsxs("div",{className:"hidden md:block",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:n.name}),t.jsx("p",{className:"text-xs text-gray-500",children:n.role})]})]}),t.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-red-600 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",title:"Logout",children:[t.jsx(rm,{className:"h-5 w-5"}),t.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})})]})})]})})})},N2=()=>t.jsxs("div",{className:"flex h-screen bg-gray-50",children:[t.jsx(v2,{}),t.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx(w2,{}),t.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:t.jsx(tm,{})})]})]}),j2="/assets/logo-BdPonwXT.png",S2=()=>{const r=Zt(),l=_a(),{logout:n}=La(),a=()=>{n(),l("/")},o=[{path:"/supervisor",icon:uy,label:"Dashboard"},{path:"/supervisor/parents",icon:It,label:"Parents"},{path:"/supervisor/childrens",icon:It,label:"Childrens"},{path:"/supervisor/teachers",icon:It,label:"Teachers"},{path:"/supervisor/complaints",icon:da,label:"Complaints"},{path:"/supervisor/announcements",icon:Or,label:"Announcements"},{path:"/supervisor/events",icon:Jj,label:"Events"},{path:"/supervisor/appointments",icon:vt,label:"Appointments"},{path:"/supervisor/reports",icon:da,label:"Reports"},{path:"/supervisor/payments",icon:Tr,label:"Payments"}];return t.jsxs("div",{className:"w-64 bg-gradient-to-b from-[#4f46e5] to-[#7c73e6] text-white flex flex-col border-r border-[#7c73e6]",children:[t.jsx("div",{className:"p-6 border-b border-[#7c73e6] flex items-center space-x-3",children:t.jsx("img",{src:j2,alt:"Logo",className:"h-15 w-auto"})}),t.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:o.map(d=>t.jsxs(Za,{to:d.path,className:`flex items-center p-3 rounded-lg transition-all ${r.pathname===d.path?"bg-white/20":"hover:bg-white/10"}`,children:[t.jsx(d.icon,{className:"w-5 h-5 mr-3"}),t.jsx("span",{children:d.label})]},d.path))}),t.jsx("div",{className:"p-4 border-t border-[#7c73e6]",children:t.jsxs("button",{onClick:a,className:"flex items-center p-3 rounded-lg transition-all w-full hover:bg-red-500/20 text-white hover:text-red-200 text-left",children:[t.jsx(rm,{className:"w-5 h-5 mr-3"}),t.jsx("span",{children:"Logout"})]})})]})};function gy(r,l){return function(){return r.apply(l,arguments)}}const{toString:C2}=Object.prototype,{getPrototypeOf:lm}=Object,{iterator:Tc,toStringTag:yy}=Symbol,Mc=(r=>l=>{const n=C2.call(l);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Pa=r=>(r=r.toLowerCase(),l=>Mc(l)===r),Ac=r=>l=>typeof l===r,{isArray:Xr}=Array,Pr=Ac("undefined");function xi(r){return r!==null&&!Pr(r)&&r.constructor!==null&&!Pr(r.constructor)&&Xt(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const by=Pa("ArrayBuffer");function _2(r){let l;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?l=ArrayBuffer.isView(r):l=r&&r.buffer&&by(r.buffer),l}const D2=Ac("string"),Xt=Ac("function"),vy=Ac("number"),gi=r=>r!==null&&typeof r=="object",k2=r=>r===!0||r===!1,ac=r=>{if(Mc(r)!=="object")return!1;const l=lm(r);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(yy in r)&&!(Tc in r)},E2=r=>{if(!gi(r)||xi(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},T2=Pa("Date"),M2=Pa("File"),A2=Pa("Blob"),R2=Pa("FileList"),O2=r=>gi(r)&&Xt(r.pipe),L2=r=>{let l;return r&&(typeof FormData=="function"&&r instanceof FormData||Xt(r.append)&&((l=Mc(r))==="formdata"||l==="object"&&Xt(r.toString)&&r.toString()==="[object FormData]"))},P2=Pa("URLSearchParams"),[U2,z2,Y2,H2]=["ReadableStream","Request","Response","Headers"].map(Pa),F2=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yi(r,l,{allOwnKeys:n=!1}={}){if(r===null||typeof r>"u")return;let a,o;if(typeof r!="object"&&(r=[r]),Xr(r))for(a=0,o=r.length;a<o;a++)l.call(null,r[a],a,r);else{if(xi(r))return;const d=n?Object.getOwnPropertyNames(r):Object.keys(r),u=d.length;let m;for(a=0;a<u;a++)m=d[a],l.call(null,r[m],m,r)}}function wy(r,l){if(xi(r))return null;l=l.toLowerCase();const n=Object.keys(r);let a=n.length,o;for(;a-- >0;)if(o=n[a],l===o.toLowerCase())return o;return null}const Ds=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ny=r=>!Pr(r)&&r!==Ds;function Pf(){const{caseless:r,skipUndefined:l}=Ny(this)&&this||{},n={},a=(o,d)=>{const u=r&&wy(n,d)||d;ac(n[u])&&ac(o)?n[u]=Pf(n[u],o):ac(o)?n[u]=Pf({},o):Xr(o)?n[u]=o.slice():(!l||!Pr(o))&&(n[u]=o)};for(let o=0,d=arguments.length;o<d;o++)arguments[o]&&yi(arguments[o],a);return n}const B2=(r,l,n,{allOwnKeys:a}={})=>(yi(l,(o,d)=>{n&&Xt(o)?r[d]=gy(o,n):r[d]=o},{allOwnKeys:a}),r),I2=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),$2=(r,l,n,a)=>{r.prototype=Object.create(l.prototype,a),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:l.prototype}),n&&Object.assign(r.prototype,n)},q2=(r,l,n,a)=>{let o,d,u;const m={};if(l=l||{},r==null)return l;do{for(o=Object.getOwnPropertyNames(r),d=o.length;d-- >0;)u=o[d],(!a||a(u,r,l))&&!m[u]&&(l[u]=r[u],m[u]=!0);r=n!==!1&&lm(r)}while(r&&(!n||n(r,l))&&r!==Object.prototype);return l},V2=(r,l,n)=>{r=String(r),(n===void 0||n>r.length)&&(n=r.length),n-=l.length;const a=r.indexOf(l,n);return a!==-1&&a===n},Q2=r=>{if(!r)return null;if(Xr(r))return r;let l=r.length;if(!vy(l))return null;const n=new Array(l);for(;l-- >0;)n[l]=r[l];return n},G2=(r=>l=>r&&l instanceof r)(typeof Uint8Array<"u"&&lm(Uint8Array)),X2=(r,l)=>{const a=(r&&r[Tc]).call(r);let o;for(;(o=a.next())&&!o.done;){const d=o.value;l.call(r,d[0],d[1])}},K2=(r,l)=>{let n;const a=[];for(;(n=r.exec(l))!==null;)a.push(n);return a},W2=Pa("HTMLFormElement"),Z2=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,o){return a.toUpperCase()+o}),U0=(({hasOwnProperty:r})=>(l,n)=>r.call(l,n))(Object.prototype),J2=Pa("RegExp"),jy=(r,l)=>{const n=Object.getOwnPropertyDescriptors(r),a={};yi(n,(o,d)=>{let u;(u=l(o,d,r))!==!1&&(a[d]=u||o)}),Object.defineProperties(r,a)},eS=r=>{jy(r,(l,n)=>{if(Xt(r)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=r[n];if(Xt(a)){if(l.enumerable=!1,"writable"in l){l.writable=!1;return}l.set||(l.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},tS=(r,l)=>{const n={},a=o=>{o.forEach(d=>{n[d]=!0})};return Xr(r)?a(r):a(String(r).split(l)),n},aS=()=>{},nS=(r,l)=>r!=null&&Number.isFinite(r=+r)?r:l;function sS(r){return!!(r&&Xt(r.append)&&r[yy]==="FormData"&&r[Tc])}const rS=r=>{const l=new Array(10),n=(a,o)=>{if(gi(a)){if(l.indexOf(a)>=0)return;if(xi(a))return a;if(!("toJSON"in a)){l[o]=a;const d=Xr(a)?[]:{};return yi(a,(u,m)=>{const p=n(u,o+1);!Pr(p)&&(d[m]=p)}),l[o]=void 0,d}}return a};return n(r,0)},lS=Pa("AsyncFunction"),iS=r=>r&&(gi(r)||Xt(r))&&Xt(r.then)&&Xt(r.catch),Sy=((r,l)=>r?setImmediate:l?((n,a)=>(Ds.addEventListener("message",({source:o,data:d})=>{o===Ds&&d===n&&a.length&&a.shift()()},!1),o=>{a.push(o),Ds.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Xt(Ds.postMessage)),oS=typeof queueMicrotask<"u"?queueMicrotask.bind(Ds):typeof process<"u"&&process.nextTick||Sy,cS=r=>r!=null&&Xt(r[Tc]),re={isArray:Xr,isArrayBuffer:by,isBuffer:xi,isFormData:L2,isArrayBufferView:_2,isString:D2,isNumber:vy,isBoolean:k2,isObject:gi,isPlainObject:ac,isEmptyObject:E2,isReadableStream:U2,isRequest:z2,isResponse:Y2,isHeaders:H2,isUndefined:Pr,isDate:T2,isFile:M2,isBlob:A2,isRegExp:J2,isFunction:Xt,isStream:O2,isURLSearchParams:P2,isTypedArray:G2,isFileList:R2,forEach:yi,merge:Pf,extend:B2,trim:F2,stripBOM:I2,inherits:$2,toFlatObject:q2,kindOf:Mc,kindOfTest:Pa,endsWith:V2,toArray:Q2,forEachEntry:X2,matchAll:K2,isHTMLForm:W2,hasOwnProperty:U0,hasOwnProp:U0,reduceDescriptors:jy,freezeMethods:eS,toObjectSet:tS,toCamelCase:Z2,noop:aS,toFiniteNumber:nS,findKey:wy,global:Ds,isContextDefined:Ny,isSpecCompliantForm:sS,toJSONObject:rS,isAsyncFn:lS,isThenable:iS,setImmediate:Sy,asap:oS,isIterable:cS};function Te(r,l,n,a,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",l&&(this.code=l),n&&(this.config=n),a&&(this.request=a),o&&(this.response=o,this.status=o.status?o.status:null)}re.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const Cy=Te.prototype,_y={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{_y[r]={value:r}});Object.defineProperties(Te,_y);Object.defineProperty(Cy,"isAxiosError",{value:!0});Te.from=(r,l,n,a,o,d)=>{const u=Object.create(Cy);re.toFlatObject(r,u,function(x){return x!==Error.prototype},g=>g!=="isAxiosError");const m=r&&r.message?r.message:"Error",p=l==null&&r?r.code:l;return Te.call(u,m,p,n,a,o),r&&u.cause==null&&Object.defineProperty(u,"cause",{value:r,configurable:!0}),u.name=r&&r.name||"Error",d&&Object.assign(u,d),u};const dS=null;function Uf(r){return re.isPlainObject(r)||re.isArray(r)}function Dy(r){return re.endsWith(r,"[]")?r.slice(0,-2):r}function z0(r,l,n){return r?r.concat(l).map(function(o,d){return o=Dy(o),!n&&d?"["+o+"]":o}).join(n?".":""):l}function uS(r){return re.isArray(r)&&!r.some(Uf)}const fS=re.toFlatObject(re,{},null,function(l){return/^is[A-Z]/.test(l)});function Rc(r,l,n){if(!re.isObject(r))throw new TypeError("target must be an object");l=l||new FormData,n=re.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,_){return!re.isUndefined(_[E])});const a=n.metaTokens,o=n.visitor||x,d=n.dots,u=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(l);if(!re.isFunction(o))throw new TypeError("visitor must be a function");function g(N){if(N===null)return"";if(re.isDate(N))return N.toISOString();if(re.isBoolean(N))return N.toString();if(!p&&re.isBlob(N))throw new Te("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(N)||re.isTypedArray(N)?p&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function x(N,E,_){let k=N;if(N&&!_&&typeof N=="object"){if(re.endsWith(E,"{}"))E=a?E:E.slice(0,-2),N=JSON.stringify(N);else if(re.isArray(N)&&uS(N)||(re.isFileList(N)||re.endsWith(E,"[]"))&&(k=re.toArray(N)))return E=Dy(E),k.forEach(function(R,H){!(re.isUndefined(R)||R===null)&&l.append(u===!0?z0([E],H,d):u===null?E:E+"[]",g(R))}),!1}return Uf(N)?!0:(l.append(z0(_,E,d),g(N)),!1)}const v=[],b=Object.assign(fS,{defaultVisitor:x,convertValue:g,isVisitable:Uf});function C(N,E){if(!re.isUndefined(N)){if(v.indexOf(N)!==-1)throw Error("Circular reference detected in "+E.join("."));v.push(N),re.forEach(N,function(k,M){(!(re.isUndefined(k)||k===null)&&o.call(l,k,re.isString(M)?M.trim():M,E,b))===!0&&C(k,E?E.concat(M):[M])}),v.pop()}}if(!re.isObject(r))throw new TypeError("data must be an object");return C(r),l}function Y0(r){const l={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(a){return l[a]})}function im(r,l){this._pairs=[],r&&Rc(r,this,l)}const ky=im.prototype;ky.append=function(l,n){this._pairs.push([l,n])};ky.toString=function(l){const n=l?function(a){return l.call(this,a,Y0)}:Y0;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function mS(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ey(r,l,n){if(!l)return r;const a=n&&n.encode||mS;re.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let d;if(o?d=o(l,n):d=re.isURLSearchParams(l)?l.toString():new im(l,n).toString(a),d){const u=r.indexOf("#");u!==-1&&(r=r.slice(0,u)),r+=(r.indexOf("?")===-1?"?":"&")+d}return r}class H0{constructor(){this.handlers=[]}use(l,n,a){return this.handlers.push({fulfilled:l,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(l){this.handlers[l]&&(this.handlers[l]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(l){re.forEach(this.handlers,function(a){a!==null&&l(a)})}}const Ty={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hS=typeof URLSearchParams<"u"?URLSearchParams:im,pS=typeof FormData<"u"?FormData:null,xS=typeof Blob<"u"?Blob:null,gS={isBrowser:!0,classes:{URLSearchParams:hS,FormData:pS,Blob:xS},protocols:["http","https","file","blob","url","data"]},om=typeof window<"u"&&typeof document<"u",zf=typeof navigator=="object"&&navigator||void 0,yS=om&&(!zf||["ReactNative","NativeScript","NS"].indexOf(zf.product)<0),bS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vS=om&&window.location.href||"http://localhost",wS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:om,hasStandardBrowserEnv:yS,hasStandardBrowserWebWorkerEnv:bS,navigator:zf,origin:vS},Symbol.toStringTag,{value:"Module"})),Ut={...wS,...gS};function NS(r,l){return Rc(r,new Ut.classes.URLSearchParams,{visitor:function(n,a,o,d){return Ut.isNode&&re.isBuffer(n)?(this.append(a,n.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...l})}function jS(r){return re.matchAll(/\w+|\[(\w*)]/g,r).map(l=>l[0]==="[]"?"":l[1]||l[0])}function SS(r){const l={},n=Object.keys(r);let a;const o=n.length;let d;for(a=0;a<o;a++)d=n[a],l[d]=r[d];return l}function My(r){function l(n,a,o,d){let u=n[d++];if(u==="__proto__")return!0;const m=Number.isFinite(+u),p=d>=n.length;return u=!u&&re.isArray(o)?o.length:u,p?(re.hasOwnProp(o,u)?o[u]=[o[u],a]:o[u]=a,!m):((!o[u]||!re.isObject(o[u]))&&(o[u]=[]),l(n,a,o[u],d)&&re.isArray(o[u])&&(o[u]=SS(o[u])),!m)}if(re.isFormData(r)&&re.isFunction(r.entries)){const n={};return re.forEachEntry(r,(a,o)=>{l(jS(a),o,n,0)}),n}return null}function CS(r,l,n){if(re.isString(r))try{return(l||JSON.parse)(r),re.trim(r)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(r)}const bi={transitional:Ty,adapter:["xhr","http","fetch"],transformRequest:[function(l,n){const a=n.getContentType()||"",o=a.indexOf("application/json")>-1,d=re.isObject(l);if(d&&re.isHTMLForm(l)&&(l=new FormData(l)),re.isFormData(l))return o?JSON.stringify(My(l)):l;if(re.isArrayBuffer(l)||re.isBuffer(l)||re.isStream(l)||re.isFile(l)||re.isBlob(l)||re.isReadableStream(l))return l;if(re.isArrayBufferView(l))return l.buffer;if(re.isURLSearchParams(l))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),l.toString();let m;if(d){if(a.indexOf("application/x-www-form-urlencoded")>-1)return NS(l,this.formSerializer).toString();if((m=re.isFileList(l))||a.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Rc(m?{"files[]":l}:l,p&&new p,this.formSerializer)}}return d||o?(n.setContentType("application/json",!1),CS(l)):l}],transformResponse:[function(l){const n=this.transitional||bi.transitional,a=n&&n.forcedJSONParsing,o=this.responseType==="json";if(re.isResponse(l)||re.isReadableStream(l))return l;if(l&&re.isString(l)&&(a&&!this.responseType||o)){const u=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(l,this.parseReviver)}catch(m){if(u)throw m.name==="SyntaxError"?Te.from(m,Te.ERR_BAD_RESPONSE,this,null,this.response):m}}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ut.classes.FormData,Blob:Ut.classes.Blob},validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],r=>{bi.headers[r]={}});const _S=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),DS=r=>{const l={};let n,a,o;return r&&r.split(`
`).forEach(function(u){o=u.indexOf(":"),n=u.substring(0,o).trim().toLowerCase(),a=u.substring(o+1).trim(),!(!n||l[n]&&_S[n])&&(n==="set-cookie"?l[n]?l[n].push(a):l[n]=[a]:l[n]=l[n]?l[n]+", "+a:a)}),l},F0=Symbol("internals");function Jl(r){return r&&String(r).trim().toLowerCase()}function nc(r){return r===!1||r==null?r:re.isArray(r)?r.map(nc):String(r)}function kS(r){const l=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(r);)l[a[1]]=a[2];return l}const ES=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function mf(r,l,n,a,o){if(re.isFunction(a))return a.call(this,l,n);if(o&&(l=n),!!re.isString(l)){if(re.isString(a))return l.indexOf(a)!==-1;if(re.isRegExp(a))return a.test(l)}}function TS(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(l,n,a)=>n.toUpperCase()+a)}function MS(r,l){const n=re.toCamelCase(" "+l);["get","set","has"].forEach(a=>{Object.defineProperty(r,a+n,{value:function(o,d,u){return this[a].call(this,l,o,d,u)},configurable:!0})})}let Kt=class{constructor(l){l&&this.set(l)}set(l,n,a){const o=this;function d(m,p,g){const x=Jl(p);if(!x)throw new Error("header name must be a non-empty string");const v=re.findKey(o,x);(!v||o[v]===void 0||g===!0||g===void 0&&o[v]!==!1)&&(o[v||p]=nc(m))}const u=(m,p)=>re.forEach(m,(g,x)=>d(g,x,p));if(re.isPlainObject(l)||l instanceof this.constructor)u(l,n);else if(re.isString(l)&&(l=l.trim())&&!ES(l))u(DS(l),n);else if(re.isObject(l)&&re.isIterable(l)){let m={},p,g;for(const x of l){if(!re.isArray(x))throw TypeError("Object iterator must return a key-value pair");m[g=x[0]]=(p=m[g])?re.isArray(p)?[...p,x[1]]:[p,x[1]]:x[1]}u(m,n)}else l!=null&&d(n,l,a);return this}get(l,n){if(l=Jl(l),l){const a=re.findKey(this,l);if(a){const o=this[a];if(!n)return o;if(n===!0)return kS(o);if(re.isFunction(n))return n.call(this,o,a);if(re.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(l,n){if(l=Jl(l),l){const a=re.findKey(this,l);return!!(a&&this[a]!==void 0&&(!n||mf(this,this[a],a,n)))}return!1}delete(l,n){const a=this;let o=!1;function d(u){if(u=Jl(u),u){const m=re.findKey(a,u);m&&(!n||mf(a,a[m],m,n))&&(delete a[m],o=!0)}}return re.isArray(l)?l.forEach(d):d(l),o}clear(l){const n=Object.keys(this);let a=n.length,o=!1;for(;a--;){const d=n[a];(!l||mf(this,this[d],d,l,!0))&&(delete this[d],o=!0)}return o}normalize(l){const n=this,a={};return re.forEach(this,(o,d)=>{const u=re.findKey(a,d);if(u){n[u]=nc(o),delete n[d];return}const m=l?TS(d):String(d).trim();m!==d&&delete n[d],n[m]=nc(o),a[m]=!0}),this}concat(...l){return this.constructor.concat(this,...l)}toJSON(l){const n=Object.create(null);return re.forEach(this,(a,o)=>{a!=null&&a!==!1&&(n[o]=l&&re.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([l,n])=>l+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(l){return l instanceof this?l:new this(l)}static concat(l,...n){const a=new this(l);return n.forEach(o=>a.set(o)),a}static accessor(l){const a=(this[F0]=this[F0]={accessors:{}}).accessors,o=this.prototype;function d(u){const m=Jl(u);a[m]||(MS(o,u),a[m]=!0)}return re.isArray(l)?l.forEach(d):d(l),this}};Kt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(Kt.prototype,({value:r},l)=>{let n=l[0].toUpperCase()+l.slice(1);return{get:()=>r,set(a){this[n]=a}}});re.freezeMethods(Kt);function hf(r,l){const n=this||bi,a=l||n,o=Kt.from(a.headers);let d=a.data;return re.forEach(r,function(m){d=m.call(n,d,o.normalize(),l?l.status:void 0)}),o.normalize(),d}function Ay(r){return!!(r&&r.__CANCEL__)}function Kr(r,l,n){Te.call(this,r??"canceled",Te.ERR_CANCELED,l,n),this.name="CanceledError"}re.inherits(Kr,Te,{__CANCEL__:!0});function Ry(r,l,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?r(n):l(new Te("Request failed with status code "+n.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function AS(r){const l=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return l&&l[1]||""}function RS(r,l){r=r||10;const n=new Array(r),a=new Array(r);let o=0,d=0,u;return l=l!==void 0?l:1e3,function(p){const g=Date.now(),x=a[d];u||(u=g),n[o]=p,a[o]=g;let v=d,b=0;for(;v!==o;)b+=n[v++],v=v%r;if(o=(o+1)%r,o===d&&(d=(d+1)%r),g-u<l)return;const C=x&&g-x;return C?Math.round(b*1e3/C):void 0}}function OS(r,l){let n=0,a=1e3/l,o,d;const u=(g,x=Date.now())=>{n=x,o=null,d&&(clearTimeout(d),d=null),r(...g)};return[(...g)=>{const x=Date.now(),v=x-n;v>=a?u(g,x):(o=g,d||(d=setTimeout(()=>{d=null,u(o)},a-v)))},()=>o&&u(o)]}const fc=(r,l,n=3)=>{let a=0;const o=RS(50,250);return OS(d=>{const u=d.loaded,m=d.lengthComputable?d.total:void 0,p=u-a,g=o(p),x=u<=m;a=u;const v={loaded:u,total:m,progress:m?u/m:void 0,bytes:p,rate:g||void 0,estimated:g&&m&&x?(m-u)/g:void 0,event:d,lengthComputable:m!=null,[l?"download":"upload"]:!0};r(v)},n)},B0=(r,l)=>{const n=r!=null;return[a=>l[0]({lengthComputable:n,total:r,loaded:a}),l[1]]},I0=r=>(...l)=>re.asap(()=>r(...l)),LS=Ut.hasStandardBrowserEnv?((r,l)=>n=>(n=new URL(n,Ut.origin),r.protocol===n.protocol&&r.host===n.host&&(l||r.port===n.port)))(new URL(Ut.origin),Ut.navigator&&/(msie|trident)/i.test(Ut.navigator.userAgent)):()=>!0,PS=Ut.hasStandardBrowserEnv?{write(r,l,n,a,o,d){const u=[r+"="+encodeURIComponent(l)];re.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),re.isString(a)&&u.push("path="+a),re.isString(o)&&u.push("domain="+o),d===!0&&u.push("secure"),document.cookie=u.join("; ")},read(r){const l=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function US(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function zS(r,l){return l?r.replace(/\/?\/$/,"")+"/"+l.replace(/^\/+/,""):r}function Oy(r,l,n){let a=!US(l);return r&&(a||n==!1)?zS(r,l):l}const $0=r=>r instanceof Kt?{...r}:r;function Ls(r,l){l=l||{};const n={};function a(g,x,v,b){return re.isPlainObject(g)&&re.isPlainObject(x)?re.merge.call({caseless:b},g,x):re.isPlainObject(x)?re.merge({},x):re.isArray(x)?x.slice():x}function o(g,x,v,b){if(re.isUndefined(x)){if(!re.isUndefined(g))return a(void 0,g,v,b)}else return a(g,x,v,b)}function d(g,x){if(!re.isUndefined(x))return a(void 0,x)}function u(g,x){if(re.isUndefined(x)){if(!re.isUndefined(g))return a(void 0,g)}else return a(void 0,x)}function m(g,x,v){if(v in l)return a(g,x);if(v in r)return a(void 0,g)}const p={url:d,method:d,data:d,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:m,headers:(g,x,v)=>o($0(g),$0(x),v,!0)};return re.forEach(Object.keys({...r,...l}),function(x){const v=p[x]||o,b=v(r[x],l[x],x);re.isUndefined(b)&&v!==m||(n[x]=b)}),n}const Ly=r=>{const l=Ls({},r);let{data:n,withXSRFToken:a,xsrfHeaderName:o,xsrfCookieName:d,headers:u,auth:m}=l;if(l.headers=u=Kt.from(u),l.url=Ey(Oy(l.baseURL,l.url,l.allowAbsoluteUrls),r.params,r.paramsSerializer),m&&u.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),re.isFormData(n)){if(Ut.hasStandardBrowserEnv||Ut.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(re.isFunction(n.getHeaders)){const p=n.getHeaders(),g=["content-type","content-length"];Object.entries(p).forEach(([x,v])=>{g.includes(x.toLowerCase())&&u.set(x,v)})}}if(Ut.hasStandardBrowserEnv&&(a&&re.isFunction(a)&&(a=a(l)),a||a!==!1&&LS(l.url))){const p=o&&d&&PS.read(d);p&&u.set(o,p)}return l},YS=typeof XMLHttpRequest<"u",HS=YS&&function(r){return new Promise(function(n,a){const o=Ly(r);let d=o.data;const u=Kt.from(o.headers).normalize();let{responseType:m,onUploadProgress:p,onDownloadProgress:g}=o,x,v,b,C,N;function E(){C&&C(),N&&N(),o.cancelToken&&o.cancelToken.unsubscribe(x),o.signal&&o.signal.removeEventListener("abort",x)}let _=new XMLHttpRequest;_.open(o.method.toUpperCase(),o.url,!0),_.timeout=o.timeout;function k(){if(!_)return;const R=Kt.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),O={data:!m||m==="text"||m==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:R,config:r,request:_};Ry(function(I){n(I),E()},function(I){a(I),E()},O),_=null}"onloadend"in _?_.onloadend=k:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(k)},_.onabort=function(){_&&(a(new Te("Request aborted",Te.ECONNABORTED,r,_)),_=null)},_.onerror=function(H){const O=H&&H.message?H.message:"Network Error",$=new Te(O,Te.ERR_NETWORK,r,_);$.event=H||null,a($),_=null},_.ontimeout=function(){let H=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const O=o.transitional||Ty;o.timeoutErrorMessage&&(H=o.timeoutErrorMessage),a(new Te(H,O.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,r,_)),_=null},d===void 0&&u.setContentType(null),"setRequestHeader"in _&&re.forEach(u.toJSON(),function(H,O){_.setRequestHeader(O,H)}),re.isUndefined(o.withCredentials)||(_.withCredentials=!!o.withCredentials),m&&m!=="json"&&(_.responseType=o.responseType),g&&([b,N]=fc(g,!0),_.addEventListener("progress",b)),p&&_.upload&&([v,C]=fc(p),_.upload.addEventListener("progress",v),_.upload.addEventListener("loadend",C)),(o.cancelToken||o.signal)&&(x=R=>{_&&(a(!R||R.type?new Kr(null,r,_):R),_.abort(),_=null)},o.cancelToken&&o.cancelToken.subscribe(x),o.signal&&(o.signal.aborted?x():o.signal.addEventListener("abort",x)));const M=AS(o.url);if(M&&Ut.protocols.indexOf(M)===-1){a(new Te("Unsupported protocol "+M+":",Te.ERR_BAD_REQUEST,r));return}_.send(d||null)})},FS=(r,l)=>{const{length:n}=r=r?r.filter(Boolean):[];if(l||n){let a=new AbortController,o;const d=function(g){if(!o){o=!0,m();const x=g instanceof Error?g:this.reason;a.abort(x instanceof Te?x:new Kr(x instanceof Error?x.message:x))}};let u=l&&setTimeout(()=>{u=null,d(new Te(`timeout ${l} of ms exceeded`,Te.ETIMEDOUT))},l);const m=()=>{r&&(u&&clearTimeout(u),u=null,r.forEach(g=>{g.unsubscribe?g.unsubscribe(d):g.removeEventListener("abort",d)}),r=null)};r.forEach(g=>g.addEventListener("abort",d));const{signal:p}=a;return p.unsubscribe=()=>re.asap(m),p}},BS=function*(r,l){let n=r.byteLength;if(n<l){yield r;return}let a=0,o;for(;a<n;)o=a+l,yield r.slice(a,o),a=o},IS=async function*(r,l){for await(const n of $S(r))yield*BS(n,l)},$S=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const l=r.getReader();try{for(;;){const{done:n,value:a}=await l.read();if(n)break;yield a}}finally{await l.cancel()}},q0=(r,l,n,a)=>{const o=IS(r,l);let d=0,u,m=p=>{u||(u=!0,a&&a(p))};return new ReadableStream({async pull(p){try{const{done:g,value:x}=await o.next();if(g){m(),p.close();return}let v=x.byteLength;if(n){let b=d+=v;n(b)}p.enqueue(new Uint8Array(x))}catch(g){throw m(g),g}},cancel(p){return m(p),o.return()}},{highWaterMark:2})},V0=64*1024,{isFunction:Fo}=re,qS=(({Request:r,Response:l})=>({Request:r,Response:l}))(re.global),{ReadableStream:Q0,TextEncoder:G0}=re.global,X0=(r,...l)=>{try{return!!r(...l)}catch{return!1}},VS=r=>{r=re.merge.call({skipUndefined:!0},qS,r);const{fetch:l,Request:n,Response:a}=r,o=l?Fo(l):typeof fetch=="function",d=Fo(n),u=Fo(a);if(!o)return!1;const m=o&&Fo(Q0),p=o&&(typeof G0=="function"?(N=>E=>N.encode(E))(new G0):async N=>new Uint8Array(await new n(N).arrayBuffer())),g=d&&m&&X0(()=>{let N=!1;const E=new n(Ut.origin,{body:new Q0,method:"POST",get duplex(){return N=!0,"half"}}).headers.has("Content-Type");return N&&!E}),x=u&&m&&X0(()=>re.isReadableStream(new a("").body)),v={stream:x&&(N=>N.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!v[N]&&(v[N]=(E,_)=>{let k=E&&E[N];if(k)return k.call(E);throw new Te(`Response type '${N}' is not supported`,Te.ERR_NOT_SUPPORT,_)})});const b=async N=>{if(N==null)return 0;if(re.isBlob(N))return N.size;if(re.isSpecCompliantForm(N))return(await new n(Ut.origin,{method:"POST",body:N}).arrayBuffer()).byteLength;if(re.isArrayBufferView(N)||re.isArrayBuffer(N))return N.byteLength;if(re.isURLSearchParams(N)&&(N=N+""),re.isString(N))return(await p(N)).byteLength},C=async(N,E)=>{const _=re.toFiniteNumber(N.getContentLength());return _??b(E)};return async N=>{let{url:E,method:_,data:k,signal:M,cancelToken:R,timeout:H,onDownloadProgress:O,onUploadProgress:$,responseType:I,headers:Y,withCredentials:G="same-origin",fetchOptions:de}=Ly(N),ue=l||fetch;I=I?(I+"").toLowerCase():"text";let V=FS([M,R&&R.toAbortSignal()],H),ne=null;const se=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let F;try{if($&&g&&_!=="get"&&_!=="head"&&(F=await C(Y,k))!==0){let z=new n(E,{method:"POST",body:k,duplex:"half"}),W;if(re.isFormData(k)&&(W=z.headers.get("content-type"))&&Y.setContentType(W),z.body){const[P,q]=B0(F,fc(I0($)));k=q0(z.body,V0,P,q)}}re.isString(G)||(G=G?"include":"omit");const S=d&&"credentials"in n.prototype,T={...de,signal:V,method:_.toUpperCase(),headers:Y.normalize().toJSON(),body:k,duplex:"half",credentials:S?G:void 0};ne=d&&new n(E,T);let U=await(d?ue(ne,de):ue(E,T));const A=x&&(I==="stream"||I==="response");if(x&&(O||A&&se)){const z={};["status","statusText","headers"].forEach(he=>{z[he]=U[he]});const W=re.toFiniteNumber(U.headers.get("content-length")),[P,q]=O&&B0(W,fc(I0(O),!0))||[];U=new a(q0(U.body,V0,P,()=>{q&&q(),se&&se()}),z)}I=I||"text";let j=await v[re.findKey(v,I)||"text"](U,N);return!A&&se&&se(),await new Promise((z,W)=>{Ry(z,W,{data:j,headers:Kt.from(U.headers),status:U.status,statusText:U.statusText,config:N,request:ne})})}catch(S){throw se&&se(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,N,ne),{cause:S.cause||S}):Te.from(S,S&&S.code,N,ne)}}},QS=new Map,Py=r=>{let l=r?r.env:{};const{fetch:n,Request:a,Response:o}=l,d=[a,o,n];let u=d.length,m=u,p,g,x=QS;for(;m--;)p=d[m],g=x.get(p),g===void 0&&x.set(p,g=m?new Map:VS(l)),x=g;return g};Py();const Yf={http:dS,xhr:HS,fetch:{get:Py}};re.forEach(Yf,(r,l)=>{if(r){try{Object.defineProperty(r,"name",{value:l})}catch{}Object.defineProperty(r,"adapterName",{value:l})}});const K0=r=>`- ${r}`,GS=r=>re.isFunction(r)||r===null||r===!1,Uy={getAdapter:(r,l)=>{r=re.isArray(r)?r:[r];const{length:n}=r;let a,o;const d={};for(let u=0;u<n;u++){a=r[u];let m;if(o=a,!GS(a)&&(o=Yf[(m=String(a)).toLowerCase()],o===void 0))throw new Te(`Unknown adapter '${m}'`);if(o&&(re.isFunction(o)||(o=o.get(l))))break;d[m||"#"+u]=o}if(!o){const u=Object.entries(d).map(([p,g])=>`adapter ${p} `+(g===!1?"is not supported by the environment":"is not available in the build"));let m=n?u.length>1?`since :
`+u.map(K0).join(`
`):" "+K0(u[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return o},adapters:Yf};function pf(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Kr(null,r)}function W0(r){return pf(r),r.headers=Kt.from(r.headers),r.data=hf.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Uy.getAdapter(r.adapter||bi.adapter,r)(r).then(function(a){return pf(r),a.data=hf.call(r,r.transformResponse,a),a.headers=Kt.from(a.headers),a},function(a){return Ay(a)||(pf(r),a&&a.response&&(a.response.data=hf.call(r,r.transformResponse,a.response),a.response.headers=Kt.from(a.response.headers))),Promise.reject(a)})}const zy="1.12.2",Oc={};["object","boolean","number","function","string","symbol"].forEach((r,l)=>{Oc[r]=function(a){return typeof a===r||"a"+(l<1?"n ":" ")+r}});const Z0={};Oc.transitional=function(l,n,a){function o(d,u){return"[Axios v"+zy+"] Transitional option '"+d+"'"+u+(a?". "+a:"")}return(d,u,m)=>{if(l===!1)throw new Te(o(u," has been removed"+(n?" in "+n:"")),Te.ERR_DEPRECATED);return n&&!Z0[u]&&(Z0[u]=!0,console.warn(o(u," has been deprecated since v"+n+" and will be removed in the near future"))),l?l(d,u,m):!0}};Oc.spelling=function(l){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${l}`),!0)};function XS(r,l,n){if(typeof r!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const a=Object.keys(r);let o=a.length;for(;o-- >0;){const d=a[o],u=l[d];if(u){const m=r[d],p=m===void 0||u(m,d,r);if(p!==!0)throw new Te("option "+d+" must be "+p,Te.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Te("Unknown option "+d,Te.ERR_BAD_OPTION)}}const sc={assertOptions:XS,validators:Oc},Ia=sc.validators;let Ms=class{constructor(l){this.defaults=l||{},this.interceptors={request:new H0,response:new H0}}async request(l,n){try{return await this._request(l,n)}catch(a){if(a instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const d=o.stack?o.stack.replace(/^.+\n/,""):"";try{a.stack?d&&!String(a.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+d):a.stack=d}catch{}}throw a}}_request(l,n){typeof l=="string"?(n=n||{},n.url=l):n=l||{},n=Ls(this.defaults,n);const{transitional:a,paramsSerializer:o,headers:d}=n;a!==void 0&&sc.assertOptions(a,{silentJSONParsing:Ia.transitional(Ia.boolean),forcedJSONParsing:Ia.transitional(Ia.boolean),clarifyTimeoutError:Ia.transitional(Ia.boolean)},!1),o!=null&&(re.isFunction(o)?n.paramsSerializer={serialize:o}:sc.assertOptions(o,{encode:Ia.function,serialize:Ia.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),sc.assertOptions(n,{baseUrl:Ia.spelling("baseURL"),withXsrfToken:Ia.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=d&&re.merge(d.common,d[n.method]);d&&re.forEach(["delete","get","head","post","put","patch","common"],N=>{delete d[N]}),n.headers=Kt.concat(u,d);const m=[];let p=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(p=p&&E.synchronous,m.unshift(E.fulfilled,E.rejected))});const g=[];this.interceptors.response.forEach(function(E){g.push(E.fulfilled,E.rejected)});let x,v=0,b;if(!p){const N=[W0.bind(this),void 0];for(N.unshift(...m),N.push(...g),b=N.length,x=Promise.resolve(n);v<b;)x=x.then(N[v++],N[v++]);return x}b=m.length;let C=n;for(;v<b;){const N=m[v++],E=m[v++];try{C=N(C)}catch(_){E.call(this,_);break}}try{x=W0.call(this,C)}catch(N){return Promise.reject(N)}for(v=0,b=g.length;v<b;)x=x.then(g[v++],g[v++]);return x}getUri(l){l=Ls(this.defaults,l);const n=Oy(l.baseURL,l.url,l.allowAbsoluteUrls);return Ey(n,l.params,l.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(l){Ms.prototype[l]=function(n,a){return this.request(Ls(a||{},{method:l,url:n,data:(a||{}).data}))}});re.forEach(["post","put","patch"],function(l){function n(a){return function(d,u,m){return this.request(Ls(m||{},{method:l,headers:a?{"Content-Type":"multipart/form-data"}:{},url:d,data:u}))}}Ms.prototype[l]=n(),Ms.prototype[l+"Form"]=n(!0)});let KS=class Yy{constructor(l){if(typeof l!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(d){n=d});const a=this;this.promise.then(o=>{if(!a._listeners)return;let d=a._listeners.length;for(;d-- >0;)a._listeners[d](o);a._listeners=null}),this.promise.then=o=>{let d;const u=new Promise(m=>{a.subscribe(m),d=m}).then(o);return u.cancel=function(){a.unsubscribe(d)},u},l(function(d,u,m){a.reason||(a.reason=new Kr(d,u,m),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(l){if(this.reason){l(this.reason);return}this._listeners?this._listeners.push(l):this._listeners=[l]}unsubscribe(l){if(!this._listeners)return;const n=this._listeners.indexOf(l);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const l=new AbortController,n=a=>{l.abort(a)};return this.subscribe(n),l.signal.unsubscribe=()=>this.unsubscribe(n),l.signal}static source(){let l;return{token:new Yy(function(o){l=o}),cancel:l}}};function WS(r){return function(n){return r.apply(null,n)}}function ZS(r){return re.isObject(r)&&r.isAxiosError===!0}const Hf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hf).forEach(([r,l])=>{Hf[l]=r});function Hy(r){const l=new Ms(r),n=gy(Ms.prototype.request,l);return re.extend(n,Ms.prototype,l,{allOwnKeys:!0}),re.extend(n,l,null,{allOwnKeys:!0}),n.create=function(o){return Hy(Ls(r,o))},n}const Ee=Hy(bi);Ee.Axios=Ms;Ee.CanceledError=Kr;Ee.CancelToken=KS;Ee.isCancel=Ay;Ee.VERSION=zy;Ee.toFormData=Rc;Ee.AxiosError=Te;Ee.Cancel=Ee.CanceledError;Ee.all=function(l){return Promise.all(l)};Ee.spread=WS;Ee.isAxiosError=ZS;Ee.mergeConfig=Ls;Ee.AxiosHeaders=Kt;Ee.formToJSON=r=>My(re.isHTMLForm(r)?new FormData(r):r);Ee.getAdapter=Uy.getAdapter;Ee.HttpStatusCode=Hf;Ee.default=Ee;const{Axios:gE,AxiosError:yE,CanceledError:bE,isCancel:vE,CancelToken:wE,VERSION:NE,all:jE,Cancel:SE,isAxiosError:CE,spread:_E,toFormData:DE,AxiosHeaders:kE,HttpStatusCode:EE,formToJSON:TE,getAdapter:ME,mergeConfig:AE}=Ee;class JS{async getAllComplaints(){try{return(await Ee.get(`${Ce}/complaints`)).data.data}catch(l){throw console.error("Error fetching complaints:",l),l}}async getComplaintById(l){try{return(await Ee.get(`${Ce}/complaints/${l}`)).data.data}catch(n){throw console.error("Error fetching complaint:",n),n}}async getComplaintsByChildId(l){try{return(await Ee.get(`${Ce}/complaints/child/${l}`)).data.data}catch(n){throw console.error("Error fetching child complaints:",n),n}}async getComplaintsByRecipient(l){try{return(await Ee.get(`${Ce}/complaints/recipient/${l}`)).data.data}catch(n){throw console.error("Error fetching recipient complaints:",n),n}}async createComplaint(l){try{return(await Ee.post(`${Ce}/complaints`,l)).data.data}catch(n){throw console.error("Error creating complaint:",n),n}}async updateComplaint(l,n){try{return(await Ee.put(`${Ce}/complaints/${l}`,n)).data.data}catch(a){throw console.error("Error updating complaint:",a),a}}async updateComplaintStatus(l,n){try{return(await Ee.patch(`${Ce}/complaints/${l}/status`,{status:n})).data.data}catch(a){throw console.error("Error updating complaint status:",a),a}}async updateComplaintAction(l,n){try{return(await Ee.patch(`${Ce}/complaints/${l}/action`,{action:n})).data.data}catch(a){throw console.error("Error updating complaint action:",a),a}}async deleteComplaint(l){try{await Ee.delete(`${Ce}/complaints/${l}`)}catch(n){throw console.error("Error deleting complaint:",n),n}}async searchComplaints(l){try{const n=new URLSearchParams;return l.searchTerm&&n.append("searchTerm",l.searchTerm),l.recipient&&n.append("recipient",l.recipient),l.status&&n.append("status",l.status),l.dateFrom&&n.append("dateFrom",l.dateFrom),l.dateTo&&n.append("dateTo",l.dateTo),(await Ee.get(`${Ce}/complaints/search?${n.toString()}`)).data.data}catch(n){throw console.error("Error searching complaints:",n),n}}}const Cs=new JS;class eC{async getAllMeetings(){try{return(await Ee.get(`${Ce}/meetings`)).data.data}catch(l){throw console.error("Error fetching meetings:",l),l}}async getMeetingById(l){try{return(await Ee.get(`${Ce}/meetings/${l}`)).data.data}catch(n){throw console.error("Error fetching meeting:",n),n}}async getMeetingsByChildId(l){try{return(await Ee.get(`${Ce}/meetings/child/${l}`)).data.data}catch(n){throw console.error("Error fetching child meetings:",n),n}}async getMeetingsByRecipient(l){try{return(await Ee.get(`${Ce}/meetings/recipient/${l}`)).data.data}catch(n){throw console.error("Error fetching recipient meetings:",n),n}}async createMeeting(l){try{return(await Ee.post(`${Ce}/meetings`,l)).data.data}catch(n){throw console.error("Error creating meeting:",n),n}}async updateMeeting(l,n){try{return(await Ee.put(`${Ce}/meetings/${l}`,n)).data.data}catch(a){throw console.error("Error updating meeting:",a),a}}async updateMeetingResponse(l,n){try{return(await Ee.patch(`${Ce}/meetings/${l}/response`,{response:n})).data.data}catch(a){throw console.error("Error updating meeting response:",a),a}}async updateMeetingStatus(l,n){try{console.log("=== SERVICE: updateMeetingStatus ==="),console.log("Meeting ID:",l),console.log("Status:",n),console.log("URL:",`${Ce}/meetings/${l}/status`),console.log("Payload:",{status:n});const a=await Ee.patch(`${Ce}/meetings/${l}/status`,{status:n});return console.log("Response:",a.data),a.data.data}catch(a){throw console.error("Error updating meeting status:",a),Ee.isAxiosError(a)&&a.response&&console.error("Error response:",a.response.data),a}}async deleteMeeting(l){try{await Ee.delete(`${Ce}/meetings/${l}`)}catch(n){throw console.error("Error deleting meeting:",n),n}}async searchMeetings(l){try{const n=new URLSearchParams;return l.searchTerm&&n.append("searchTerm",l.searchTerm),l.recipient&&n.append("recipient",l.recipient),l.status&&n.append("status",l.status),l.dateFrom&&n.append("dateFrom",l.dateFrom),l.dateTo&&n.append("dateTo",l.dateTo),(await Ee.get(`${Ce}/meetings/search?${n.toString()}`)).data.data}catch(n){throw console.error("Error searching meetings:",n),n}}}const $a=new eC;class tC{async getNewComplaints(){try{console.log("🔔 [NotificationService] Fetching complaints for supervisor...");const l=await Cs.getComplaintsByRecipient("supervisor");console.log("🔔 [NotificationService] Fetched complaints:",l),console.log("🔔 [NotificationService] Total complaints:",l.length),l.forEach((o,d)=>{var u;console.log(`🔔 [NotificationService] Complaint ${d+1}: status="${o.status}" (length: ${(u=o.status)==null?void 0:u.length}, type: ${typeof o.status})`)});const n=l.filter(o=>{var m;const d=(m=o.status)==null?void 0:m.toString().toLowerCase().trim(),u=d==="pending";return console.log(`🔔 [NotificationService] Checking complaint ${o.complaint_id}: original status="${o.status}", normalized="${d}", isPending=${u}`),u});console.log("🔔 [NotificationService] Pending complaints:",n),console.log("🔔 [NotificationService] Pending count:",n.length);const a=n.map(o=>({id:`complaint-${o.complaint_id}`,type:"complaint",title:"New Complaint Received",message:`${o.subject} from ${o.parent_name}`,timestamp:o.date,read:!1,data:o,link:`/supervisor/complaints?complaint_id=${o.complaint_id}`}));return console.log("🔔 [NotificationService] Complaint notifications created:",a),a}catch(l){return console.error("❌ [NotificationService] Error fetching new complaints:",l),l instanceof Error&&console.error("❌ Error details:",l.message),[]}}async getNewMeetings(){try{console.log("🔔 [NotificationService] Fetching meetings for supervisor...");const l=await $a.getMeetingsByRecipient("supervisor");console.log("🔔 [NotificationService] Fetched meetings:",l),console.log("🔔 [NotificationService] Total meetings:",l.length),l.forEach((o,d)=>{var u;console.log(`🔔 [NotificationService] Meeting ${d+1}: status="${o.status}" (length: ${(u=o.status)==null?void 0:u.length}, type: ${typeof o.status})`)});const n=l.filter(o=>{var m;const d=(m=o.status)==null?void 0:m.toString().toLowerCase().trim(),u=d==="pending";return console.log(`🔔 [NotificationService] Checking meeting ${o.meeting_id}: original status="${o.status}", normalized="${d}", isPending=${u}`),u});console.log("🔔 [NotificationService] Pending meetings:",n),console.log("🔔 [NotificationService] Pending count:",n.length);const a=n.map(o=>({id:`meeting-${o.meeting_id}`,type:"meeting",title:"New Meeting Request",message:`Meeting with ${o.parent_name} on ${new Date(o.meeting_date).toLocaleDateString()}`,timestamp:o.meeting_date,read:!1,data:o,link:`/supervisor/appointments?meeting_id=${o.meeting_id}`}));return console.log("🔔 [NotificationService] Meeting notifications created:",a),a}catch(l){return console.error("❌ [NotificationService] Error fetching new meetings:",l),l instanceof Error&&console.error("❌ Error details:",l.message),[]}}async getAllNotifications(){try{const[l,n]=await Promise.all([this.getNewComplaints(),this.getNewMeetings()]);return[...l,...n].sort((o,d)=>new Date(d.timestamp).getTime()-new Date(o.timestamp).getTime())}catch(l){return console.error("Error fetching all notifications:",l),[]}}async getNotificationCount(){try{return(await this.getAllNotifications()).filter(n=>!n.read).length}catch(l){return console.error("Error fetching notification count:",l),0}}markAsRead(l){try{const n=this.getReadNotifications();n.includes(l)||(n.push(l),localStorage.setItem("readNotifications",JSON.stringify(n)))}catch(n){console.error("Error marking notification as read:",n)}}markAllAsRead(l){try{const n=this.getReadNotifications(),a=[...new Set([...n,...l])];localStorage.setItem("readNotifications",JSON.stringify(a))}catch(n){console.error("Error marking all notifications as read:",n)}}getReadNotifications(){try{const l=localStorage.getItem("readNotifications");return l?JSON.parse(l):[]}catch(l){return console.error("Error getting read notifications:",l),[]}}clearReadNotifications(){try{localStorage.removeItem("readNotifications")}catch(l){console.error("Error clearing read notifications:",l)}}}const Bo=new tC,Fy=y.createContext(void 0);function aC({children:r}){const[l,n]=y.useState([]),[a,o]=y.useState(!1),d=y.useCallback(async()=>{o(!0);try{console.log("🔔 [NotificationContext] Fetching notifications...");const x=await Bo.getAllNotifications();console.log("🔔 [NotificationContext] Fetched notifications:",x),console.log("🔔 [NotificationContext] Total fetched:",x.length);const v=Bo.getReadNotifications();console.log("🔔 [NotificationContext] Read notifications from localStorage:",v);const b=x.map(N=>({...N,read:v.includes(N.id)})),C=b.filter(N=>!N.read).length;console.log("🔔 [NotificationContext] Unread count:",C),console.log("🔔 [NotificationContext] Updated notifications:",b),n(b)}catch(x){console.error("❌ [NotificationContext] Error refreshing notifications:",x),x instanceof Error&&(console.error("❌ Error message:",x.message),console.error("❌ Error stack:",x.stack))}finally{o(!1)}},[]),u=y.useCallback(x=>{Bo.markAsRead(x),n(v=>v.map(b=>b.id===x?{...b,read:!0}:b))},[]),m=y.useCallback(()=>{const x=l.map(v=>v.id);Bo.markAllAsRead(x),n(v=>v.map(b=>({...b,read:!0})))},[l]),p=l.filter(x=>!x.read).length;y.useEffect(()=>{d()},[d]),y.useEffect(()=>{const x=setInterval(()=>{d()},3e4);return()=>clearInterval(x)},[d]);const g={notifications:l,unreadCount:p,isLoading:a,refreshNotifications:d,markAsRead:u,markAllAsRead:m};return t.jsx(Fy.Provider,{value:g,children:r})}function By(){const r=y.useContext(Fy);if(r===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return r}const nC=({isOpen:r,onClose:l})=>{const{notifications:n,unreadCount:a,markAsRead:o,markAllAsRead:d}=By(),u=_a(),m=y.useRef(null);y.useEffect(()=>{const b=C=>{m.current&&!m.current.contains(C.target)&&l()};return r&&document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[r,l]);const p=b=>{o(b.id),u(b.link),l()},g=()=>{d()},x=b=>b==="complaint"?t.jsx(ja,{className:"w-5 h-5 text-orange-500"}):t.jsx(vt,{className:"w-5 h-5 text-blue-500"}),v=b=>{const C=new Date(b),E=Math.floor((new Date().getTime()-C.getTime())/1e3);if(E<60)return"Just now";if(E<3600){const _=Math.floor(E/60);return`${_} minute${_>1?"s":""} ago`}else if(E<86400){const _=Math.floor(E/3600);return`${_} hour${_>1?"s":""} ago`}else{const _=Math.floor(E/86400);return _===1?"Yesterday":_<7?`${_} days ago`:C.toLocaleDateString("en-US",{month:"short",day:"numeric"})}};return r?t.jsxs("div",{ref:m,className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-[600px] flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Or,{className:"w-5 h-5 text-gray-700"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),a>0&&t.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:a})]}),t.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 transition-colors",title:"Close notifications",children:t.jsx(Ue,{className:"w-5 h-5"})})]}),a>0&&t.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:t.jsxs("button",{onClick:g,className:"flex items-center space-x-1 text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:[t.jsx(ci,{className:"w-4 h-4"}),t.jsx("span",{children:"Mark all as read"})]})}),t.jsx("div",{className:"overflow-y-auto flex-1",children:n.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[t.jsx(Or,{className:"w-16 h-16 text-gray-300 mb-3"}),t.jsx("p",{className:"text-gray-500 text-center",children:"No notifications yet"}),t.jsx("p",{className:"text-gray-400 text-sm text-center mt-1",children:"You'll be notified of new complaints and meetings here"})]}):t.jsx("div",{className:"divide-y divide-gray-100",children:n.map(b=>t.jsx("button",{onClick:()=>p(b),className:`w-full text-left p-4 hover:bg-gray-50 transition-colors ${b.read?"":"bg-blue-50"}`,children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:x(b.type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-sm font-medium text-gray-900 ${b.read?"":"font-semibold"}`,children:b.title}),t.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:b.message}),t.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[t.jsx(ss,{className:"w-3 h-3 mr-1"}),t.jsx("span",{children:v(b.timestamp)})]})]}),!b.read&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})})]})},b.id))})}),n.length>0&&t.jsx("div",{className:"border-t border-gray-200 p-3 bg-gray-50",children:t.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Showing ",n.length," notification",n.length!==1?"s":""]})})]}):null},sC=()=>{const[r,l]=y.useState(!1),[n,a]=y.useState(!1),[o,d]=y.useState(!1),{user:u,logout:m}=La(),{unreadCount:p}=By(),g=_a(),x=y.useRef(null),v=y.useRef(null);y.useEffect(()=>{const C=N=>{x.current&&!x.current.contains(N.target)&&a(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);const b=()=>{m(),g("/")};return t.jsx("nav",{className:"bg-white shadow-sm",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex justify-between h-15",children:[t.jsx("div",{className:"flex items-center sm:hidden",children:t.jsxs("button",{onClick:()=>l(!r),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[t.jsx("span",{className:"sr-only",children:"Open main menu"}),r?t.jsx(Ue,{className:"block h-6 w-6"}):t.jsx(my,{className:"block h-6 w-6"})]})}),t.jsx("div",{className:"flex-1 flex items-center justify-end",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"relative",ref:v,children:[t.jsxs("button",{onClick:()=>d(!o),className:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 relative",children:[t.jsx("span",{className:"sr-only",children:"View notifications"}),t.jsx(Or,{className:"h-6 w-6"}),p>0&&t.jsxs("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center",children:[t.jsx("span",{className:"absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75 animate-ping"}),t.jsx("span",{className:"relative inline-flex items-center justify-center h-5 w-5 rounded-full bg-red-500 text-white text-xs font-bold",children:p>9?"9+":p})]})]}),t.jsx(nC,{isOpen:o,onClose:()=>d(!1)})]}),t.jsxs("div",{className:"ml-3 relative",ref:x,children:[t.jsx("div",{children:t.jsxs("button",{onClick:()=>a(!n),className:"bg-white rounded-full flex items-center space-x-1 text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 p-2",children:[t.jsx("span",{className:"sr-only",children:"Open user menu"}),u!=null&&u.image?t.jsx("img",{src:u.image,alt:"Profile",className:"h-6 w-6 rounded-full object-cover"}):t.jsx(jt,{className:"h-6 w-6 text-indigo-600"}),t.jsx(pt,{className:"h-4 w-4 text-gray-500"})]})}),n&&t.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:t.jsxs("div",{className:"py-1",children:[t.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:u==null?void 0:u.name}),t.jsx("p",{className:"text-xs text-gray-500",children:u==null?void 0:u.email})]}),t.jsxs(Za,{to:"/supervisor/profile",onClick:()=>a(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[t.jsx(jt,{className:"w-4 h-4 mr-3"}),"View Profile"]}),t.jsxs("button",{onClick:b,className:"flex items-center w-full px-4 py-2 text-sm text-red-700 hover:bg-gray-100",children:[t.jsx(rm,{className:"w-4 h-4 mr-3"}),"Logout"]})]})})]})]})})]})})})},rC=()=>t.jsx(aC,{children:t.jsxs("div",{className:"flex h-screen bg-gray-50",children:[t.jsx(S2,{}),t.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx(sC,{}),t.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:t.jsx(tm,{})})]})]})}),lC=()=>t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-xl shadow-sm border border-gray-200 text-center",children:[t.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:t.jsx(ja,{className:"h-6 w-6 text-red-600"})}),t.jsx("h2",{className:"mt-3 text-xl font-bold text-gray-900",children:"Unauthorized Access"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"You don't have permission to access this page. Please contact your administrator."}),t.jsx("div",{className:"mt-6",children:t.jsx(Za,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Return to Home"})})]})}),Iy=({stats:r})=>{const l=[{icon:sm,title:"Total Children",value:r.totalChildren,color:"bg-purple-100 text-purple-800"},{icon:It,title:"Total Active Parents",value:r.activeParents,color:"bg-blue-100 text-blue-800"},{icon:It,title:"Total Teachers",value:r.activeTeachers,color:"bg-amber-100 text-amber-800"},{icon:Lf,title:"Today's Attendance",value:r.todayCheckIns,color:"bg-cyan-100 text-cyan-800"},{icon:Ts,title:"Monthly Revenue",value:r.monthlyRevenue.toLocaleString("en-LK",{style:"currency",currency:"LKR"}),color:"bg-emerald-100 text-emerald-800"}];return t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:l.map((n,a)=>t.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:n.title}),t.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n.value})]}),t.jsx("div",{className:`p-2 rounded-lg ${n.color}`,children:t.jsx(n.icon,{className:"w-5 h-5"})})]})},a))})},iC=({activities:r})=>t.jsx("div",{className:"space-y-4",children:r.map(l=>t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"bg-[#f3eeff] p-2 rounded-full mr-3 mt-0.5",children:t.jsx(ss,{className:"w-4 h-4 text-[#6339C0]"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("p",{className:"text-sm font-medium text-gray-800",children:[t.jsx("span",{className:"font-semibold",children:l.user})," ",l.action]}),t.jsx("p",{className:"text-xs text-gray-500",children:l.time})]})]},l.id))}),oC=()=>{const r=_a(),l=[{icon:Gr,label:"Send Announcement",color:"bg-blue-100 text-blue-600",link:"/admin/announcements"},{icon:s2,label:"View Complaints",color:"bg-red-100 text-red-600",link:"/admin/complaints"},{icon:i2,label:"Add New User",color:"bg-green-100 text-green-600",link:"/admin/users"},{icon:da,label:"Generate Report",color:"bg-purple-100 text-purple-600",link:"/admin/reports"}],n=a=>{r(a)};return t.jsx("div",{className:"grid grid-cols-2 gap-3",children:l.map((a,o)=>t.jsxs("button",{onClick:()=>n(a.link),className:`p-3 rounded-lg flex flex-col items-center justify-center ${a.color} hover:opacity-90 transition-all hover:scale-105 transform`,children:[t.jsx(a.icon,{className:"w-5 h-5 mb-2"}),t.jsx("span",{className:"text-xs font-medium",children:a.label})]},o))})},xf="http://localhost:5001/api",gf={DASHBOARD_STATS:`${xf}/admin/dashboard/stats`,RECENT_ACTIVITIES:`${xf}/admin/dashboard/activities`,ANALYTICS:`${xf}/admin/dashboard/analytics`},cC=()=>{var ne,se,F;const r=_a(),[l,n]=y.useState({totalChildren:0,activeParents:0,activeTeachers:0,activeSupervisors:0,todayCheckIns:0,monthlyRevenue:0}),[a,o]=y.useState([]),[d,u]=y.useState(!0),[m,p]=y.useState(""),[g,x]=y.useState("this-month"),[v,b]=y.useState(!1),[C,N]=y.useState([]),[E,_]=y.useState([]),[k,M]=y.useState([]),[R,H]=y.useState({paid:0,unpaid:0,overdue:0,total:0}),O=()=>{if(C.length>=7)return C.slice(0,7);const S=new Date,T=[];for(let U=6;U>=0;U--){const A=new Date(S);A.setDate(S.getDate()-U);const j=A.toLocaleDateString("en-US",{month:"short",day:"numeric"}),z=C.find(W=>new Date(W.date).toDateString()===A.toDateString());z?T.push(z):T.push({date:j,checkIns:0,checkOuts:0})}return T},$=async()=>{try{const S=await fetch(`${gf.ANALYTICS}?period=${g}`,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!S.ok){console.warn("Analytics endpoint not available, using empty data");return}const T=await S.json();T.success&&T.data&&(N(T.data.attendanceTrends||[]),_(T.data.revenueTrends||[]),M(T.data.enrollmentData||[]),H(T.data.paymentStatus||{paid:0,unpaid:0,overdue:0,total:0}))}catch(S){console.error("Error fetching analytics:",S),N([]),_([]),M([])}},I=S=>{const T=new Date,U=new Date(S),A=T.getTime()-U.getTime(),j=Math.floor(A/6e4),z=Math.floor(A/36e5),W=Math.floor(A/864e5);return j<1?"just now":j<60?`${j} min ago`:z<24?`${z} hour${z>1?"s":""} ago`:`${W} day${W>1?"s":""} ago`},Y=async()=>{try{const S=await fetch(gf.DASHBOARD_STATS,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!S.ok){console.warn("Dashboard stats endpoint not available, using default values");return}const T=await S.json();T.success&&T.data&&n(T.data)}catch(S){console.error("Error fetching dashboard stats:",S)}},G=async()=>{try{const S=await fetch(`${gf.RECENT_ACTIVITIES}?limit=10`,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!S.ok){console.warn("Activities endpoint not available");return}const T=await S.json();if(T.success&&Array.isArray(T.data)){const U=T.data.map(A=>({id:A.id||A.activity_id,user:A.user||A.user_name,action:A.action||A.activity_type,time:A.timestamp?I(A.timestamp):A.time,type:A.type,user_id:A.user_id,timestamp:A.timestamp}));o(U)}}catch(S){console.error("Error fetching recent activities:",S)}},de=async()=>{u(!0),p("");try{await Promise.all([Y(),G(),$()])}catch(S){console.error("Error loading dashboard data:",S)}finally{u(!1)}},ue=async()=>{b(!0),await de(),b(!1)};y.useEffect(()=>{de()},[]);const V=S=>{x(S),$()};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Dashboard Overview"})}),t.jsx("div",{className:"flex space-x-3",children:t.jsxs("button",{onClick:ue,disabled:v,className:"bg-[#6339C0] text-white py-2 px-4 rounded-lg hover:bg-[#5227a3] transition-colors flex items-center disabled:opacity-50",title:"Refresh dashboard",children:[t.jsx(Ec,{className:`w-4 h-4 mr-2 ${v?"animate-spin":""}`}),v?"Refreshing...":"Refresh"]})})]}),m&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:t.jsx("p",{className:"text-sm",children:m})}),d?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500 mx-auto"}),t.jsx("p",{className:"mt-4 text-gray-500",children:"Loading dashboard data..."})]})}):t.jsxs(t.Fragment,{children:[t.jsx(Iy,{stats:l}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 col-span-2",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[t.jsx(vt,{className:"w-5 h-5 mr-2 text-purple-600"}),"Weekly Attendance Pattern"]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("select",{className:"select-small","aria-label":"Select time period",value:g,onChange:S=>V(S.target.value),children:[t.jsx("option",{value:"this-week",children:"This Week"}),t.jsx("option",{value:"this-month",children:"This Month"}),t.jsx("option",{value:"last-month",children:"Last Month"})]}),t.jsx("button",{onClick:()=>r("/admin/attendance"),className:"btn-icon-small",title:"View Full Attendance",children:t.jsx(Jn,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:"h-80",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-8 gap-2 text-center text-xs font-medium text-gray-600",children:[t.jsx("div",{}),t.jsx("div",{children:"Mon"}),t.jsx("div",{children:"Tue"}),t.jsx("div",{children:"Wed"}),t.jsx("div",{children:"Thu"}),t.jsx("div",{children:"Fri"}),t.jsx("div",{children:"Sat"}),t.jsx("div",{children:"Sun"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"grid grid-cols-8 gap-2 items-center",children:[t.jsx("div",{className:"text-xs font-medium text-gray-600 text-right pr-2",children:"Morning"}),O().map((S,T)=>{const U=S.checkIns>0?Math.min(S.checkIns/50*100,100):0,A=U>75?"bg-green-600":U>50?"bg-green-500":U>25?"bg-green-400":U>0?"bg-green-200":"bg-gray-100";return t.jsxs("div",{className:`${A} h-16 rounded-lg flex items-center justify-center transition-all duration-300 hover:scale-105 hover:shadow-md cursor-pointer group relative`,title:`${S.date}: ${S.checkIns} check-ins`,children:[t.jsx("span",{className:`text-sm font-bold ${U>0?"text-white":"text-gray-400"} drop-shadow`,children:S.checkIns}),t.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[S.date,": ",S.checkIns," kids"]})]},T)})]}),t.jsxs("div",{className:"grid grid-cols-8 gap-2 items-center",children:[t.jsx("div",{className:"text-xs font-medium text-gray-600 text-right pr-2",children:"Afternoon"}),O().map((S,T)=>{const U=S.checkOuts>0?Math.min(S.checkOuts/50*100,100):0,A=U>75?"bg-orange-600":U>50?"bg-orange-500":U>25?"bg-orange-400":U>0?"bg-orange-200":"bg-gray-100";return t.jsxs("div",{className:`${A} h-16 rounded-lg flex items-center justify-center transition-all duration-300 hover:scale-105 hover:shadow-md cursor-pointer group relative`,title:`${S.date}: ${S.checkOuts} check-outs`,children:[t.jsx("span",{className:`text-sm font-bold ${U>0?"text-white":"text-gray-400"} drop-shadow`,children:S.checkOuts}),t.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[S.date,": ",S.checkOuts," kids"]})]},T)})]}),t.jsxs("div",{className:"grid grid-cols-8 gap-2 items-center pt-2 border-t border-gray-100",children:[t.jsx("div",{className:"text-xs font-medium text-gray-600 text-right pr-2",children:"Total"}),O().map((S,T)=>{const U=S.checkIns,A=U>0?Math.min(U/50*100,100):0,j=A>75?"bg-purple-600":A>50?"bg-purple-500":A>25?"bg-purple-400":A>0?"bg-purple-200":"bg-gray-100";return t.jsxs("div",{className:`${j} h-12 rounded-lg flex items-center justify-center transition-all duration-300 hover:scale-105 hover:shadow-md cursor-pointer group relative`,children:[t.jsx("span",{className:`text-sm font-bold ${A>0?"text-white":"text-gray-400"} drop-shadow`,children:U}),t.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[S.date,": ",U," total"]})]},T)})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[t.jsxs("div",{className:"flex items-center space-x-4 text-xs",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-4 h-4 bg-green-600 rounded mr-2"}),t.jsx("span",{className:"text-gray-600",children:"Check-ins"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-4 h-4 bg-orange-600 rounded mr-2"}),t.jsx("span",{className:"text-gray-600",children:"Check-outs"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-4 h-4 bg-purple-600 rounded mr-2"}),t.jsx("span",{className:"text-gray-600",children:"Daily Total"})]})]}),t.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[t.jsx("span",{children:"Less"}),t.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded"}),t.jsx("div",{className:"w-4 h-4 bg-green-200 rounded"}),t.jsx("div",{className:"w-4 h-4 bg-green-400 rounded"}),t.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),t.jsx("div",{className:"w-4 h-4 bg-green-600 rounded"}),t.jsx("span",{children:"More"})]})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-3 mt-4",children:[t.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-3 rounded-lg text-center",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Avg Check-ins"}),t.jsx("p",{className:"text-xl font-bold text-green-600",children:O().length>0?Math.round(O().reduce((S,T)=>S+T.checkIns,0)/O().length):0})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 p-3 rounded-lg text-center",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Avg Check-outs"}),t.jsx("p",{className:"text-xl font-bold text-orange-600",children:O().length>0?Math.round(O().reduce((S,T)=>S+T.checkOuts,0)/O().length):0})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 p-3 rounded-lg text-center",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Best Day"}),t.jsx("p",{className:"text-sm font-bold text-purple-600",children:O().length>0&&O().some(S=>S.checkIns>0)?(ne=O().reduce((S,T)=>T.checkIns>S.checkIns?T:S,O()[0]))==null?void 0:ne.date:"-"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 p-3 rounded-lg text-center",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Total Week"}),t.jsx("p",{className:"text-xl font-bold text-blue-600",children:O().reduce((S,T)=>S+T.checkIns,0)})]})]})]})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Quick Actions"})}),t.jsx(oC,{})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Activity"}),t.jsx("button",{onClick:()=>r("/admin/activities"),className:"text-sm text-[#6339C0] hover:underline",children:"View All"})]}),t.jsx(iC,{activities:a}),a.length===0&&!d&&t.jsx("p",{className:"text-center text-gray-500 text-sm py-4",children:"No recent activities"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[t.jsx(vt,{className:"w-5 h-5 mr-2 text-purple-600"}),"Attendance Overview"]}),t.jsx("button",{onClick:()=>r("/admin/attendance"),className:"text-xs text-purple-600 hover:underline",children:"View Details"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Today's Check-ins"}),t.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:l.todayCheckIns||0})]}),t.jsx(Of,{className:"w-10 h-10 text-green-500 opacity-70"})]})}),C.length>0?t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"This Week's Trend"}),t.jsx("div",{className:"space-y-3 mt-3",children:C.slice(0,7).map((S,T)=>{const U=Math.max(...C.map(z=>Math.max(z.checkIns,z.checkOuts))),A=S.checkIns/U*100,j=S.checkOuts/U*100;return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[t.jsx("span",{className:"text-gray-600 font-medium w-16",children:S.date}),t.jsxs("div",{className:"flex items-center space-x-3 text-xs",children:[t.jsx("span",{className:"text-green-600",children:S.checkIns}),t.jsx("span",{className:"text-orange-600",children:S.checkOuts})]})]}),t.jsxs("div",{className:"flex space-x-1",children:[t.jsx("div",{className:"flex-1 bg-gray-100 rounded-full h-2 overflow-hidden",children:t.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-full rounded-full transition-all duration-500",style:{width:`${A}%`}})}),t.jsx("div",{className:"flex-1 bg-gray-100 rounded-full h-2 overflow-hidden",children:t.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-600 h-full rounded-full transition-all duration-500",style:{width:`${j}%`}})})]})]},T)})}),t.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-3 text-xs",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-green-400 to-green-600 mr-1"}),t.jsx("span",{className:"text-gray-600",children:"Check-ins"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-orange-400 to-orange-600 mr-1"}),t.jsx("span",{className:"text-gray-600",children:"Check-outs"})]})]})]}):t.jsxs("div",{className:"text-center py-4",children:[t.jsx(vt,{className:"w-8 h-8 mx-auto text-gray-300 mb-2"}),t.jsx("p",{className:"text-xs text-gray-400",children:"No attendance data available"})]}),t.jsx("div",{className:"pt-3 border-t border-gray-100",children:t.jsx("p",{className:"text-xs text-gray-500 italic",children:"💡 Tip: Monitor daily check-ins to identify attendance patterns"})})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[t.jsx(Ts,{className:"w-5 h-5 mr-2 text-green-600"}),"Payment Status"]}),t.jsx("button",{onClick:()=>r("/admin/payments"),className:"text-xs text-green-600 hover:underline",children:"Manage Payments"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"This Month's Revenue"}),t.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-1",children:new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR",minimumFractionDigits:0}).format(l.monthlyRevenue||0)})]}),t.jsx(Ts,{className:"w-10 h-10 text-blue-500 opacity-70"})]})}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-100",children:[t.jsx("p",{className:"text-2xl font-bold text-green-600",children:R.paid}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Paid"})]}),t.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg border border-yellow-100",children:[t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:R.unpaid}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Pending"})]}),t.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg border border-red-100",children:[t.jsx("p",{className:"text-2xl font-bold text-red-600",children:R.overdue}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Overdue"})]})]}),R.overdue>0&&t.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-2",children:[t.jsx(ja,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-red-800",children:"Action Required"}),t.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[R.overdue," payment",R.overdue>1?"s":""," overdue. Follow up with parents."]})]})]}),t.jsx("div",{className:"pt-3 border-t border-gray-100",children:t.jsx("p",{className:"text-xs text-gray-500 italic",children:"💡 Tip: Follow up on overdue payments to maintain cash flow"})})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 lg:col-span-2",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h3",{className:"text-md font-semibold text-gray-800 flex items-center",children:[t.jsx(Of,{className:"w-4 h-4 mr-2 text-blue-600"}),"Revenue Trend (Last 6 Months)"]}),t.jsx("button",{onClick:()=>r("/admin/payments"),className:"text-xs text-blue-600 hover:underline",children:"View Reports"})]}),E.length>0?t.jsxs("div",{className:"h-48",children:[t.jsx("div",{className:"flex items-end justify-between h-full space-x-2",children:E.slice(-6).map((S,T)=>{const U=Math.max(...E.map(z=>z.revenue)),A=S.revenue/U*100,j=S.profit>0;return t.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[t.jsx("div",{className:"relative flex-1 w-full flex items-end",children:t.jsx("div",{className:"w-full flex flex-col items-center space-y-1",children:t.jsx("div",{className:"w-full bg-gradient-to-t from-blue-500 to-blue-400 rounded-t-lg transition-all duration-500 hover:from-blue-600 hover:to-blue-500 cursor-pointer relative group",style:{height:`${A}%`,minHeight:"20px"},title:`Revenue: ${new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR",notation:"compact"}).format(S.revenue)}`,children:t.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR",notation:"compact"}).format(S.revenue)})})})}),t.jsxs("div",{className:"mt-2 text-center",children:[t.jsx("p",{className:"text-xs font-medium text-gray-600",children:S.month}),t.jsxs("p",{className:`text-xs font-bold ${j?"text-green-600":"text-red-600"}`,children:[j?"+":"",new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR",notation:"compact"}).format(S.profit)]})]})]},T)})}),t.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-4 text-xs",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-3 h-3 rounded bg-blue-500 mr-1"}),t.jsx("span",{className:"text-gray-600",children:"Revenue"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-3 h-3 rounded bg-green-600 mr-1"}),t.jsx("span",{className:"text-gray-600",children:"Profit"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-3 h-3 rounded bg-red-600 mr-1"}),t.jsx("span",{className:"text-gray-600",children:"Loss"})]})]})]}):t.jsx("div",{className:"h-48 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Af,{className:"w-8 h-8 mx-auto text-gray-300 mb-2"}),t.jsx("p",{className:"text-xs text-gray-400",children:"No revenue data available"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Data will appear once payments are recorded"})]})})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("h3",{className:"text-md font-semibold text-gray-800",children:"Payment Distribution"})}),R.total>0?t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"relative h-32 flex items-end justify-center",children:t.jsxs("div",{className:"relative w-48 h-24 overflow-hidden",children:[t.jsxs("div",{className:"absolute bottom-0 w-full h-full",children:[t.jsx("div",{className:"absolute bottom-0 left-0 w-full h-full border-[20px] border-gray-200 rounded-t-full"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-full h-full border-[20px] border-green-500 rounded-t-full transition-all duration-700",style:{clipPath:`polygon(0 100%, 0 0, ${R.paid/R.total*100}% 0, ${R.paid/R.total*100}% 100%)`}}),t.jsx("div",{className:"absolute bottom-0 left-0 w-full h-full border-[20px] border-yellow-500 rounded-t-full transition-all duration-700",style:{clipPath:`polygon(${R.paid/R.total*100}% 100%, ${R.paid/R.total*100}% 0, ${(R.paid+R.unpaid)/R.total*100}% 0, ${(R.paid+R.unpaid)/R.total*100}% 100%)`}}),t.jsx("div",{className:"absolute bottom-0 left-0 w-full h-full border-[20px] border-red-500 rounded-t-full transition-all duration-700",style:{clipPath:`polygon(${(R.paid+R.unpaid)/R.total*100}% 100%, ${(R.paid+R.unpaid)/R.total*100}% 0, 100% 0, 100% 100%)`}})]}),t.jsxs("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 text-center mb-2",children:[t.jsx("p",{className:"text-2xl font-bold text-gray-800",children:R.total}),t.jsx("p",{className:"text-xs text-gray-500",children:"Total"})]})]})}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Paid"})]}),t.jsxs("span",{className:"text-sm font-bold text-green-600",children:[R.paid," (",Math.round(R.paid/R.total*100),"%)"]})]}),t.jsxs("div",{className:"flex items-center justify-between p-2 bg-yellow-50 rounded",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-2"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Pending"})]}),t.jsxs("span",{className:"text-sm font-bold text-yellow-600",children:[R.unpaid," (",Math.round(R.unpaid/R.total*100),"%)"]})]}),t.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 rounded",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Overdue"})]}),t.jsxs("span",{className:"text-sm font-bold text-red-600",children:[R.overdue," (",Math.round(R.overdue/R.total*100),"%)"]})]})]})]}):t.jsx("div",{className:"h-48 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ts,{className:"w-8 h-8 mx-auto text-gray-300 mb-2"}),t.jsx("p",{className:"text-xs text-gray-400",children:"No payment data available"})]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 lg:col-span-2",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h3",{className:"text-md font-semibold text-gray-800 flex items-center",children:[t.jsx(It,{className:"w-4 h-4 mr-2 text-indigo-600"}),"Enrollment Trend"]}),t.jsx("button",{onClick:()=>r("/admin/children"),className:"text-xs text-indigo-600 hover:underline",children:"View Children"})]}),k.length>0?t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"relative h-40 bg-gradient-to-b from-indigo-50 to-white rounded-lg p-4",children:t.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 300 100",preserveAspectRatio:"none",children:[t.jsx("line",{x1:"0",y1:"25",x2:"300",y2:"25",stroke:"#e5e7eb",strokeWidth:"0.5"}),t.jsx("line",{x1:"0",y1:"50",x2:"300",y2:"50",stroke:"#e5e7eb",strokeWidth:"0.5"}),t.jsx("line",{x1:"0",y1:"75",x2:"300",y2:"75",stroke:"#e5e7eb",strokeWidth:"0.5"}),(()=>{const S=Math.max(...k.map(U=>U.active)),T=k.slice(-6).map((U,A)=>{const j=A/(k.slice(-6).length-1)*300,z=100-U.active/S*90;return`${j},${z}`}).join(" ");return t.jsxs(t.Fragment,{children:[t.jsx("polygon",{points:`0,100 ${T} 300,100`,fill:"url(#gradient)",opacity:"0.3"}),t.jsx("polyline",{points:T,fill:"none",stroke:"#6366f1",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),k.slice(-6).map((U,A)=>{const j=A/(k.slice(-6).length-1)*300,z=100-U.active/S*90;return t.jsx("g",{children:t.jsx("circle",{cx:j,cy:z,r:"4",fill:"#6366f1",stroke:"white",strokeWidth:"2"})},A)})]})})(),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:"#6366f1",stopOpacity:"0.8"}),t.jsx("stop",{offset:"100%",stopColor:"#6366f1",stopOpacity:"0.1"})]})})]})}),t.jsx("div",{className:"grid grid-cols-6 gap-2 text-center",children:k.slice(-6).map((S,T)=>t.jsxs("div",{className:"text-xs",children:[t.jsx("p",{className:"font-medium text-gray-700",children:S.month}),t.jsxs("div",{className:"mt-1 space-y-0.5",children:[t.jsx("p",{className:"text-indigo-600 font-bold",children:S.active}),t.jsxs("div",{className:"flex items-center justify-center space-x-1 text-[10px]",children:[t.jsxs("span",{className:"text-green-600",children:["+",S.enrolled]}),t.jsxs("span",{className:"text-red-600",children:["-",S.withdrawn]})]})]})]},T))}),t.jsxs("div",{className:"flex items-center justify-around pt-3 border-t border-gray-100",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Current"}),t.jsx("p",{className:"text-lg font-bold text-indigo-600",children:l.totalChildren||0})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"This Month"}),t.jsxs("p",{className:"text-lg font-bold text-green-600",children:["+",((se=k[k.length-1])==null?void 0:se.enrolled)||0]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Withdrawn"}),t.jsxs("p",{className:"text-lg font-bold text-red-600",children:["-",((F=k[k.length-1])==null?void 0:F.withdrawn)||0]})]})]})]}):t.jsx("div",{className:"h-48 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(It,{className:"w-8 h-8 mx-auto text-gray-300 mb-2"}),t.jsx("p",{className:"text-xs text-gray-400",children:"No enrollment data available"})]})})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsxs("h3",{className:"text-md font-semibold text-gray-800 flex items-center",children:[t.jsx(It,{className:"w-4 h-4 mr-2 text-indigo-600"}),"Quick Stats"]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Children"}),t.jsx("p",{className:"text-5xl font-bold text-indigo-600",children:l.totalChildren||0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-teal-50 rounded-lg border border-teal-100",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-teal-500 mr-2"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Teachers"})]}),t.jsx("span",{className:"text-lg font-bold text-teal-600",children:l.activeTeachers||0})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-100",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Supervisors"})]}),t.jsx("span",{className:"text-lg font-bold text-blue-600",children:l.activeSupervisors||0})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-pink-50 rounded-lg border border-pink-100",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-pink-500 mr-2"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Parents"})]}),t.jsx("span",{className:"text-lg font-bold text-pink-600",children:l.activeParents||0})]})]}),t.jsxs("div",{className:"pt-3 border-t border-gray-100 space-y-2",children:[t.jsx("button",{onClick:()=>r("/admin/children"),className:"w-full text-sm text-indigo-600 hover:bg-indigo-50 py-2 rounded transition-colors",children:"Manage Children →"}),t.jsx("button",{onClick:()=>r("/admin/users"),className:"w-full text-sm text-teal-600 hover:bg-teal-50 py-2 rounded transition-colors",children:"Manage Staff →"})]})]})]})]})]})]})},dC=()=>{const{user:r}=La(),[l,n]=y.useState([]),[a,o]=y.useState(!1),[d,u]=y.useState(""),[m,p]=y.useState({name:"",email:"",password:"super@1234",role:"supervisor",nic:"",phone:"",address:""}),[g,x]=y.useState(!1),[v,b]=y.useState(!1),[C,N]=y.useState(""),E=y.useCallback(async()=>{o(!0),u("");try{console.log("Fetching all users from API...");const k=await fetch(`${Ce}/users/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(console.log("Users API Response Status:",k.status),!k.ok){const $=k.headers.get("content-type");if($&&$.includes("application/json")){const I=await k.json();throw new Error(I.message||`Failed to fetch users: ${k.status}`)}else throw new Error(`Server error: ${k.status} ${k.statusText}`)}const M=await k.json();console.log("Users fetched successfully:",M),console.log("Result type:",typeof M),console.log("Is array:",Array.isArray(M));let R;Array.isArray(M)?R=M:M.users&&Array.isArray(M.users)?R=M.users:M.data&&Array.isArray(M.data)?R=M.data:(console.log("Unexpected response structure:",M),R=[]);const H=R.map($=>({id:$.id||$.user_id||$.supervisor_id||Math.random().toString(),name:$.name||$.username||"Unknown",email:$.email||"No email",role:$.role||"supervisor",created_at:$.created_at||$.createdAt||new Date().toISOString()})),O=H.filter($=>$.role==="supervisor"||$.role==="teacher");console.log("Final mapped users data:",H),console.log("Filtered users (supervisors & teachers only):",O),console.log("About to set users state with:",O.length,"users"),n(O),console.log("Users state should now be updated")}catch(k){const M=k instanceof Error?k.message:"Failed to fetch users";u(M),console.error("Error fetching users:",k)}finally{o(!1)}},[]);y.useEffect(()=>{E()},[E]);const _=async k=>{k.preventDefault(),x(!0),N("");try{if(!m.name.trim())throw new Error("Name is required");if(!m.email.trim())throw new Error("Email is required");if(!m.nic.trim())throw new Error("NIC is required");if(!/^(?:\d{9}[VXvx]|\d{12})$/.test(m.nic.trim()))throw new Error("Please enter a valid NIC number (9 digits + V/X or 12 digits)");if(!m.phone.trim())throw new Error("Phone number is required");if(!/^0[0-9]{9}$/.test(m.phone.trim()))throw new Error("Please enter a valid phone number (e.g., 0771234567)");if(!m.address.trim())throw new Error("Address is required");console.log("Sending supervisor data to API:",{...m,password:"[HIDDEN]"});const H=await fetch(`${Ce}/supervisors/supervisorSignup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(m)});if(console.log("API Response Status:",H.status),console.log("API Response Headers:",H.headers.get("content-type")),!H.ok){const $=H.headers.get("content-type");if($&&$.includes("application/json")){const I=await H.json();throw new Error(I.message||`Server error: ${H.status}`)}else{const I=await H.text();throw console.log("Non-JSON error response:",I),new Error(`Server returned ${H.status}: ${H.statusText}. Check if the API endpoint exists.`)}}const O=await H.json();console.log("User created successfully:",O),p({name:"",email:"",password:"super@1234",role:"supervisor",nic:"",phone:"",address:""}),b(!1),N("User created successfully!"),await E()}catch(M){console.error("Error creating user:",M)}finally{x(!1)}};return le.useEffect(()=>{(async()=>{try{const M=await fetch(`${Ce}/getEveryone`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!M.ok)throw new Error("Failed to fetch users");const R=await M.json();n(R.data||[])}catch(M){console.error("Error fetching users:",M)}})()},[C]),(r==null?void 0:r.role)!=="admin"?t.jsx("div",{children:"Unauthorized access"}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-row justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Supervisor and Teachers Details"})}),t.jsx("button",{type:"button",className:"bg-[#6339C0] text-white py-2 px-4 rounded-lg hover:bg-[#5227a3] transition-colors",onClick:()=>b(!0),children:"Add Supervisor"})]}),v&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-md p-8 relative animate-fade-in",children:[t.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-gray-700 text-2xl",onClick:()=>b(!1),"aria-label":"Close",type:"button",children:"×"}),t.jsx("h2",{className:"text-xl font-semibold mb-6 text-center",children:"Create New Supervisor"}),t.jsxs("form",{onSubmit:_,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(jt,{className:"absolute left-3 top-3 text-[#6339C0]",size:20}),t.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg",value:m.name,onChange:k=>p({...m,name:k.target.value}),required:!0,placeholder:"Enter name",title:"Name"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(Gr,{className:"absolute left-3 top-3 text-[#6339C0]",size:20}),t.jsx("input",{type:"email",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg",value:m.email,onChange:k=>p({...m,email:k.target.value}),required:!0,placeholder:"Enter email"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"role-select",className:"block mb-2 text-sm font-medium",children:"Role"}),t.jsx("select",{id:"role-select",className:"w-full p-3 border border-gray-200 rounded-lg hidden",value:m.role,onChange:k=>p({...m,role:k.target.value}),required:!0,children:t.jsx("option",{value:"supervisor",children:"Supervisor"})})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"nic",className:"block mb-2 text-sm font-medium",children:"NIC Number"}),t.jsx("input",{type:"text",id:"nic",className:"w-full p-3 border border-gray-200 rounded-lg",value:m.nic,onChange:k=>p({...m,nic:k.target.value}),required:!0,placeholder:"Enter NIC (e.g., 123456789V or 123456789012)",maxLength:12}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter 9 digits + V/X (old format) or 12 digits (new format)"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phone",className:"block mb-2 text-sm font-medium",children:"Phone Number"}),t.jsx("input",{type:"text",id:"phone",className:"w-full p-3 border border-gray-200 rounded-lg",value:m.phone,onChange:k=>p({...m,phone:k.target.value}),required:!0,placeholder:"Enter phone number (e.g., 0771234567)",maxLength:10,pattern:"0[0-9]{9}"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter 10-digit phone number starting with 0 (e.g., 0771234567)"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"address",className:"block mb-2 text-sm font-medium",children:"Address"}),t.jsx("input",{type:"text",id:"address",className:"w-full p-3 border border-gray-200 rounded-lg",value:m.address,onChange:k=>p({...m,address:k.target.value}),required:!0,placeholder:"Enter address"})]}),t.jsx("div",{className:"hidden",children:t.jsxs("div",{className:"relative",children:[t.jsx(di,{className:"absolute left-3 top-3 text-[#6339C0]",size:20}),t.jsx("input",{type:"password",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg",value:m.password,onChange:k=>p({...m,password:k.target.value}),required:!0,minLength:6,placeholder:"Enter password"})]})}),t.jsx("button",{type:"submit",className:"bg-[#6339C0] w-full text-white py-2 px-4 rounded-lg",disabled:g,children:g?"Creating...":"Create Supervisor"})]})]})}),t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Supervisors & Teachers"}),t.jsx("div",{className:"text-sm text-gray-500",children:t.jsxs("div",{children:["Total: ",l.length," users"]})})]}),d&&t.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:d}),a?t.jsxs("div",{className:"flex justify-center items-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#6339C0]"}),t.jsx("span",{className:"ml-2 text-gray-600",children:"Loading users..."})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Created"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.length>0?l.map(k=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:k.name}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:k.email}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k.role==="supervisor"?"bg-blue-100 text-blue-800":k.role==="teacher"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.role})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:k.created_at?new Date(k.created_at).toLocaleDateString():"N/A"})]},k.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No supervisors or teachers found. Try refreshing or create a new supervisor."})})})]})})]})]})};function $y(r){var l,n,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(l=0;l<o;l++)r[l]&&(n=$y(r[l]))&&(a&&(a+=" "),a+=n)}else for(n in r)r[n]&&(a&&(a+=" "),a+=n);return a}function Rt(){for(var r,l,n=0,a="",o=arguments.length;n<o;n++)(r=arguments[n])&&(l=$y(r))&&(a&&(a+=" "),a+=l);return a}function uC(r){if(typeof document>"u")return;let l=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",l.firstChild?l.insertBefore(n,l.firstChild):l.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}uC(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var cm=r=>typeof r=="number"&&!isNaN(r),ui=r=>typeof r=="string",qy=r=>typeof r=="function",fC=r=>ui(r)||cm(r),mC=r=>y.isValidElement(r)||ui(r)||qy(r)||cm(r),hC=1,Vy=()=>`${hC++}`,Ka=new Map,Ff=[],J0=new Set,Qy=()=>Ka.size>0,pC=(r,{containerId:l})=>{var n;return(n=Ka.get(l||1))==null?void 0:n.toasts.get(r)};function xC(r,l){var n;if(l)return!!((n=Ka.get(l))!=null&&n.isToastActive(r));let a=!1;return Ka.forEach(o=>{o.isToastActive(r)&&(a=!0)}),a}function gC(r){if(!Qy()){Ff=Ff.filter(l=>r!=null&&l.options.toastId!==r);return}if(r==null||fC(r))Ka.forEach(l=>{l.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let l=Ka.get(r.containerId);l?l.removeToast(r.id):Ka.forEach(n=>{n.removeToast(r.id)})}}var yC=(r={})=>{Ka.forEach(l=>{l.props.limit&&(!r.containerId||l.id===r.containerId)&&l.clearQueue()})};function bC(r,l){mC(r)&&(Qy()||Ff.push({content:r,options:l}),Ka.forEach(n=>{n.buildToast(r,l)}))}function Gy(r,l){Ka.forEach(n=>{(l==null||!(l!=null&&l.containerId)||(l==null?void 0:l.containerId)===n.id)&&n.toggle(r,l==null?void 0:l.id)})}function vC(r){return J0.add(r),()=>{J0.delete(r)}}function wC(r){return r&&(ui(r.toastId)||cm(r.toastId))?r.toastId:Vy()}function vi(r,l){return bC(r,l),l.toastId}function Lc(r,l){return{...l,type:l&&l.type||r,toastId:wC(l)}}function Pc(r){return(l,n)=>vi(l,Lc(r,n))}function me(r,l){return vi(r,Lc("default",l))}me.loading=(r,l)=>vi(r,Lc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...l}));function NC(r,{pending:l,error:n,success:a},o){let d;l&&(d=ui(l)?me.loading(l,o):me.loading(l.render,{...o,...l}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,x,v)=>{if(x==null){me.dismiss(d);return}let b={type:g,...u,...o,data:v},C=ui(x)?{render:x}:x;return d?me.update(d,{...b,...C}):me(C.render,{...b,...C}),v},p=qy(r)?r():r;return p.then(g=>m("success",a,g)).catch(g=>m("error",n,g)),p}me.promise=NC;me.success=Pc("success");me.info=Pc("info");me.error=Pc("error");me.warning=Pc("warning");me.warn=me.warning;me.dark=(r,l)=>vi(r,Lc("default",{theme:"dark",...l}));function jC(r){gC(r)}me.dismiss=jC;me.clearWaitingQueue=yC;me.isActive=xC;me.update=(r,l={})=>{let n=pC(r,l);if(n){let{props:a,content:o}=n,d={delay:100,...a,...l,toastId:l.toastId||r,updateId:Vy()};d.toastId!==r&&(d.staleId=r);let u=d.render||o;delete d.render,vi(u,d)}};me.done=r=>{me.update(r,{progress:1})};me.onChange=vC;me.play=r=>Gy(!0,r);me.pause=r=>Gy(!1,r);const dm=`${Ce}/supervisor/children/`,SC=`${Ce}/supervisor/children/groups`,CC=`${Ce}/supervisor/children/packages`,_C=`${Ce}/supervisor/children/check-nic`,Ur=r=>{if(!r)return 0;const l=new Date(r),n=new Date;let a=n.getFullYear()-l.getFullYear();const o=n.getMonth()-l.getMonth();return(o<0||o===0&&n.getDate()<l.getDate())&&a--,Math.max(0,a)},DC=async()=>{try{const r=await fetch(SC);if(!r.ok)return console.warn("Groups API not available, will extract from students data"),[];const l=await r.json();return console.log("Groups fetched from API:",l),l.map((n,a)=>({group_id:a+1,group_name:n.name}))}catch(r){return console.error("Error fetching groups:",r),[]}},kC=async()=>{try{const r=await fetch(CC);if(!r.ok)throw console.warn("Packages API not available, using fallback packages"),new Error("Packages API not available");const l=await r.json();return console.log("Packages fetched from API:",l),l.map(n=>({name:n.name}))}catch(r){throw console.error("Error fetching packages:",r),new Error("Failed to fetch packages")}},EC=r=>{const l=new Set,n=[];return r.forEach(a=>{a.classroom&&!l.has(a.classroom)&&(l.add(a.classroom),n.push({group_name:a.classroom}))}),n.sort((a,o)=>a.group_name.localeCompare(o.group_name))},TC=async()=>{const r=await fetch(dm);if(!r.ok)throw new Error("Failed to fetch students");const l=await r.json();return console.log("Raw API response:",l),l.map(n=>{const a=n.dob?new Date(n.dob).toISOString().split("T")[0]:"",o=a?Ur(a):n.age||0,d={id:n.child_id,name:n.name||"",age:o,classroom:n.group_name||"",dob:a,gender:n.gender||"",parentName:n.parent_name||"",parentNIC:n.nic||"",parentEmail:n.parent_email||"",parentAddress:n.parent_address||"",parentContact:n.parent_phone||"",profileImage:n.image||"",packageName:n.package_name||""};return console.log("Mapped student:",d),d})},MC=async r=>{const l=r.dob?Ur(r.dob):r.age,n=await fetch(dm,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.name,age:l,gender:r.gender,dob:r.dob,group_name:r.classroom||null,image:null,bc:null,blood_type:null,mr:null,allergies:null,created_at:new Date().toISOString(),package_name:r.packageName||null,parent_name:r.parentName,nic:r.parentNIC,parent_email:r.parentEmail,parent_address:r.parentAddress,parent_phone:r.parentContact,parentName:r.parentName,parentNIC:r.parentNIC,parentEmail:r.parentEmail,parentAddress:r.parentAddress,parentContact:r.parentContact})});if(!n.ok){const u=await n.json().catch(()=>({message:"Failed to create student"}));if(n.status===400||n.status===409){if(u.message&&u.message.toLowerCase().includes("email"))throw new Error("EMAIL_DUPLICATE: "+(u.message||"Email already exists"));if(u.error&&u.error.toLowerCase().includes("email"))throw new Error("EMAIL_DUPLICATE: "+(u.error||"Email already exists"));if(u.details&&u.details.toLowerCase().includes("email"))throw new Error("EMAIL_DUPLICATE: "+(u.details||"Email already exists"))}throw new Error(u.message||u.error||`Failed to create student: ${n.statusText}`)}const a=await n.json(),o=a.dob?new Date(a.dob).toISOString().split("T")[0]:"",d=o?Ur(o):a.age||r.age;return{id:a.child_id,name:a.name,age:d,classroom:a.group_name,dob:o,gender:a.gender,parentName:r.parentName,parentNIC:r.parentNIC,parentEmail:r.parentEmail,parentAddress:r.parentAddress,parentContact:r.parentContact,profileImage:a.image,packageName:a.package_name||r.packageName}},AC=async r=>{console.log("Updating student with data:",r);const l=await fetch(`${dm}${r.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:r.name,package_name:r.packageName||null,parentContact:r.parentContact,parentAddress:r.parentAddress})});if(!l.ok){const d=await l.json().catch(()=>({message:"Failed to update student"}));throw console.error("Update failed:",d),new Error(d.message||`Failed to update student: ${l.statusText}`)}const n=await l.json();console.log("Update response:",n);const a=n.dob?new Date(n.dob).toISOString().split("T")[0]:"",o=a?Ur(a):n.age||r.age;return{id:n.child_id,name:n.name,age:o,classroom:n.group_name||"",dob:a,gender:n.gender,parentName:n.parent_name||r.parentName,parentNIC:n.nic||r.parentNIC,parentEmail:n.parent_email||r.parentEmail,parentAddress:n.parent_address||r.parentAddress,parentContact:n.parent_phone||r.parentContact,profileImage:n.image,packageName:n.package_name||r.packageName,isActive:n.is_active!==void 0?n.is_active:!0}};function RC(){const[r,l]=y.useState(""),[n,a]=y.useState([]),[o,d]=y.useState([]),[u,m]=y.useState([]),[p,g]=y.useState({name:"",age:1,classroom:"",dob:"",gender:"",parentName:"",parentNIC:"",parentEmail:"",parentAddress:"",parentContact:"",packageName:""}),[x,v]=y.useState(null),[b,C]=y.useState(!1),[N,E]=y.useState(!1);y.useEffect(()=>{b&&!x&&C(!1)},[b,x]);const[_,k]=y.useState(""),[M,R]=y.useState(""),[H,O]=y.useState(!1),$=async()=>{try{const V=await TC();a(V);let ne=await DC();ne.length===0&&(console.log("Fallback: extracting groups from students data"),ne=EC(V)),d(ne),console.log("Final groups data:",ne);const se=await kC();m(se)}catch(V){const ne=V instanceof Error?V.message:"An unknown error occurred";me.error(ne)}};y.useEffect(()=>{$()},[]);const I=async()=>{if(!p.parentNIC||p.parentNIC.trim()===""){k("Please enter a NIC number first"),me.error("Please enter a NIC number first");return}E(!0),k("");try{const V=n.find(ne=>ne.parentNIC===p.parentNIC.trim());if(V)g(ne=>({...ne,parentName:V.parentName,parentEmail:V.parentEmail,parentAddress:V.parentAddress,parentContact:V.parentContact})),k("Parent details found and auto-filled"),me.success("Parent details found and auto-filled");else try{const ne=await fetch(_C,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nic:p.parentNIC.trim()})});if(ne.ok){const se=await ne.json();g(F=>({...F,parentName:se.parent_name||se.name||"",parentEmail:se.parent_email||se.email||"",parentAddress:se.parent_address||se.address||"",parentContact:se.parent_phone||se.contact||""})),k("Parent details found and auto-filled"),me.success("Parent details found and auto-filled")}else k("This NIC does not exist in our records. Please enter parent details manually."),me.info("This NIC does not exist in our records. Please enter parent details manually.")}catch{k("This NIC does not exist in our records. Please enter parent details manually."),me.info("This NIC does not exist in our records. Please enter parent details manually.")}}catch(V){console.error("Error checking NIC:",V),k("Error checking NIC. Please try again."),me.error("Error checking NIC. Please try again.")}finally{E(!1)}},Y=V=>{const{name:ne,value:se}=V.target;ne==="parentNIC"&&k(""),ne==="parentEmail"&&R(""),g(F=>{const S={...F,[ne]:ne==="age"?Number(se):se};return ne==="dob"&&se&&(S.age=Ur(se)),S})},G=async V=>{V.preventDefault(),console.log("Form submitted with data:",p),R(""),O(!0);try{if(x){const ne=n.find(F=>F.id===x);if(!ne)throw new Error("Student not found");const se={...ne,id:x,name:p.name,packageName:p.packageName,parentContact:p.parentContact,parentAddress:p.parentAddress};console.log("Sending update with data:",se),await AC(se),me.success("Updated successfully")}else await MC(p),me.success("Created successfully");g({name:"",age:1,classroom:"",dob:"",gender:"",parentName:"",parentNIC:"",parentEmail:"",parentAddress:"",parentContact:"",packageName:""}),v(null),C(!1),R(""),await $()}catch(ne){let se="An unknown error occurred";if(ne instanceof Error&&(se=ne.message,se.startsWith("EMAIL_DUPLICATE:"))){const F=se.replace("EMAIL_DUPLICATE:","").trim();R(F||"This email is already registered. Please use a different email."),me.error("Email already exists. Please use a different email.");return}me.error(se)}finally{O(!1)}},de=V=>{console.log("Editing student:",V);const se=(S=>S?new Date(S).toISOString().split("T")[0]:"")(V.dob),F=se?Ur(se):V.age||1;g({name:V.name||"",age:F,classroom:V.classroom||"",dob:se,gender:V.gender||"",parentName:V.parentName||"",parentNIC:V.parentNIC||"",parentEmail:V.parentEmail||"",parentAddress:V.parentAddress||"",parentContact:V.parentContact||"",packageName:V.packageName||""}),v(V.id),C(!0),R(""),k("")},ue=()=>{C(!1),g({name:"",age:1,classroom:"",dob:"",gender:"",parentName:"",parentNIC:"",parentEmail:"",parentAddress:"",parentContact:"",packageName:""}),v(null),k(""),R("")};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center",children:t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Children Management"})})}),!b&&t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:t.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Jt,{className:"absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search students by name, classroom, parent or ID...",className:"pl-10 pr-4 py-2 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:r,onChange:V=>l(V.target.value)})]})})}),b?t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[t.jsx("div",{className:"flex justify-between items-center mb-6",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:x?"Edit Child Information":"Add New Child"}),x&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"As an admin, you can only edit the child's name and package."})]})}),t.jsxs("form",{onSubmit:G,className:"space-y-8",children:[t.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[t.jsx(jt,{className:"mr-2 text-blue-600",size:20}),x?"Child Information (Admin Edit Mode)":"Child Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Child Name *"}),t.jsx("input",{name:"name",value:p.name,onChange:Y,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"text",required:!0,placeholder:"Enter child's name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth *"}),t.jsx("input",{name:"dob",value:p.dob,onChange:Y,className:`block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${x?"bg-gray-50 cursor-not-allowed":""}`,type:"date",required:!0,disabled:!!x}),x&&t.jsx("p",{className:"text-xs text-gray-500",children:"Date of birth cannot be changed when editing"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Age *"}),t.jsx("input",{name:"age",value:p.age,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"number",min:0,max:15,required:!0,readOnly:!0,placeholder:"Calculated from date of birth"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender *"}),t.jsxs("select",{name:"gender",value:p.gender,onChange:Y,className:`block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${x?"bg-gray-50 cursor-not-allowed":""}`,required:!0,disabled:!!x,children:[t.jsx("option",{value:"",children:"Select gender"}),t.jsx("option",{value:"male",children:"Male"}),t.jsx("option",{value:"female",children:"Female"})]}),x&&t.jsx("p",{className:"text-xs text-gray-500",children:"Gender cannot be changed when editing"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Classroom"}),t.jsxs("select",{name:"classroom",value:p.classroom,onChange:Y,className:`block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${x?"bg-gray-50 cursor-not-allowed":""}`,disabled:!!x,children:[t.jsx("option",{value:"",children:"Select a classroom (optional)"}),o.map((V,ne)=>t.jsx("option",{value:V.group_name,children:V.group_name},ne))]}),x&&t.jsx("p",{className:"text-xs text-gray-500",children:"Classroom cannot be changed when editing"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Package *"}),t.jsxs("select",{name:"packageName",value:p.packageName,onChange:Y,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select a package (optional)"}),u.map((V,ne)=>t.jsx("option",{value:V.name,children:V.name},ne))]})]})]})]}),!x&&t.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[t.jsx(jt,{className:"mr-2 text-green-600",size:20}),"Parent Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Parent Name *"}),t.jsx("input",{name:"parentName",value:p.parentName,onChange:Y,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"text",required:!0,placeholder:"Enter parent's name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Parent NIC"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{name:"parentNIC",value:p.parentNIC,onChange:Y,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 cursor-not-allowed",type:"text",disabled:!0,placeholder:"Enter parent's NIC"}),!x&&t.jsx("button",{type:"button",onClick:I,disabled:N||!p.parentNIC.trim(),className:"px-4 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:N?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Checking..."]}):"Check"})]}),_&&t.jsx("p",{className:`text-xs ${_.includes("found")?"text-green-600":"text-red-600"}`,children:_}),x&&t.jsx("p",{className:"text-xs text-gray-500",children:"Parent NIC cannot be changed when editing"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Parent Email *"}),t.jsx("input",{name:"parentEmail",value:p.parentEmail,onChange:Y,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 cursor-not-allowed",type:"email",required:!0,disabled:!0,placeholder:"Enter parent's email"}),M&&!x&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 rounded-full bg-red-100 flex items-center justify-center",children:t.jsx(Ue,{className:"w-3 h-3 text-red-600"})}),t.jsx("p",{className:"text-xs text-red-600",children:M})]}),x&&t.jsx("p",{className:"text-xs text-gray-500",children:"Parent email cannot be changed when editing"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Parent Contact *"}),t.jsx("input",{name:"parentContact",value:p.parentContact,onChange:Y,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 cursor-not-allowed",type:"tel",required:!0,disabled:!0,placeholder:"Enter parent's contact number"})]}),t.jsxs("div",{className:"space-y-2 md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Parent Address *"}),t.jsx("textarea",{name:"parentAddress",value:p.parentAddress,onChange:Y,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 cursor-not-allowed",rows:3,required:!0,disabled:!0,placeholder:"Enter parent's address"})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:ue,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:H,className:`flex items-center px-6 py-3 rounded-lg transition-colors ${H?"bg-gray-400 cursor-not-allowed text-white":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:H?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),x?"Updating...":"Creating..."]}):x?t.jsxs(t.Fragment,{children:[t.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Update Child"]}):t.jsxs(t.Fragment,{children:[t.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Add Child"]})})]})]})]}):t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Age"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Classroom"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Package"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gender"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parent"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.filter(V=>{if(!r)return!0;const ne=r.toLowerCase();return V.name.toLowerCase().includes(ne)||V.classroom.toLowerCase().includes(ne)||V.parentName.toLowerCase().includes(ne)||V.id.toLowerCase().includes(ne)||V.gender.toLowerCase().includes(ne)||V.parentEmail.toLowerCase().includes(ne)}).map(V=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[V.profileImage?t.jsx("img",{src:V.profileImage,alt:V.name,className:"flex-shrink-0 h-10 w-10 rounded-full object-cover"}):t.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:t.jsx(jt,{className:"h-5 w-5 text-indigo-600"})}),t.jsx("div",{className:"ml-4",children:t.jsx("div",{className:"text-sm font-medium text-gray-900",children:V.name})})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V.age}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V.classroom||"Not assigned"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.jsx("div",{className:"flex items-center",children:V.packageName})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V.gender}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V.parentName}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.jsxs("button",{onClick:()=>de(V),className:"text-indigo-600 hover:text-indigo-900 flex items-center",children:[t.jsx(Sn,{className:"w-4 h-4 mr-1"}),"Edit"]})})]},V.id))})]})})})]})}const OC=()=>{const[r,l]=y.useState("all"),[n,a]=y.useState(!1),[o,d]=y.useState(""),[u,m]=y.useState([]);y.useEffect(()=>{(async()=>{a(!0),d("");try{const S=await fetch("http://localhost:5001/api/subscriptions");if(!S.ok)throw new Error("Failed to fetch subscription plans");const T=await S.json();m(T.data)}catch(S){d(S instanceof Error?S.message:"Failed to fetch subscription plans")}finally{a(!1)}})()},[]);const p=(F,S)=>{R(T=>({...T,[F]:S}))},g=async()=>{a(!0),d("");try{const F=await fetch("http://localhost:5001/api/subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});if(!F.ok)throw new Error("Failed to create subscription plan");const S=await F.json();m(T=>[S.data,...T]),C(!1)}catch(F){d(F instanceof Error?F.message:"Failed to create subscription plan")}finally{a(!1)}},x=async(F,S)=>{a(!0),d("");try{const T=await fetch(`http://localhost:5001/api/subscriptions/${F}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!T.ok)throw new Error("Failed to update subscription plan");const U=await T.json();m(A=>A.map(j=>j.plan_id===F?U.data:j))}catch(T){d(T instanceof Error?T.message:"Failed to update subscription plan")}finally{a(!1)}},v=async F=>{a(!0),d("");try{if(!(await fetch(`http://localhost:5001/api/subscriptions/${F}`,{method:"DELETE"})).ok)throw new Error("Failed to delete subscription plan");m(T=>T.filter(U=>U.plan_id!==F))}catch(S){d(S instanceof Error?S.message:"Failed to delete subscription plan")}finally{a(!1)}},[b,C]=y.useState(!1),[N,E]=y.useState(!1),[_,k]=y.useState(null),[M,R]=y.useState({name:"",type:"weekly",duration:"full-day",days:["monday","tuesday","wednesday","thursday","friday"],price:0,services:[],status:"active"}),[H,O]=y.useState(null),[$,I]=y.useState(!1),[Y,G]=y.useState(null),de=F=>{k(F),O(F),E(!0)},ue=F=>{G(F),I(!0)},V=[{id:"meals",name:"Meals",category:"basic"},{id:"snacks",name:"Snacks",category:"basic"},{id:"nap",name:"Nap Time",category:"basic"},{id:"activities",name:"Daily Activities",category:"basic"},{id:"extended-care",name:"Extended Care",category:"premium"},{id:"transport",name:"Transportation",category:"premium"},{id:"premium-activities",name:"Premium Activities",category:"premium"},{id:"weekend-care",name:"Weekend Care",category:"premium"},{id:"all-inclusive",name:"All Inclusive",category:"premium"}],ne=F=>{R(S=>({...S,services:S.services.includes(F)?S.services.filter(T=>T!==F):[...S.services,F]}))},se=F=>{R(S=>({...S,days:S.days.includes(F)?S.days.filter(T=>T!==F):[...S.days,F]}))};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Subscription Plans"})}),t.jsx("div",{className:"flex space-x-3 w-full sm:w-auto",children:t.jsx("button",{onClick:()=>C(!0),className:"bg-[#6339C0] text-white py-2 px-4 rounded-lg ",children:"Create New Plan"})})]}),t.jsxs("div",{className:"flex border-b border-gray-200",children:[t.jsx("button",{className:`px-4 py-2 text-sm font-medium ${r==="all"?"border-b-2 border-[#6339C0] text-[#6339C0]":"text-gray-500 hover:text-gray-700"}`,onClick:()=>l("all"),children:"All Plans"}),t.jsx("button",{className:`px-4 py-2 text-sm font-medium ${r==="active"?"border-b-2 border-[#6339C0] text-[#6339C0]":"text-gray-500 hover:text-gray-700"}`,onClick:()=>l("active"),children:"Active"}),t.jsx("button",{className:`px-4 py-2 text-sm font-medium ${r==="inactive"?"border-b-2 border-[#6339C0] text-[#6339C0]":"text-gray-500 hover:text-gray-700"}`,onClick:()=>l("inactive"),children:"Inactive"})]}),n&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#6339C0] mx-auto"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Loading subscription plans..."})]}),o&&t.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg",children:[o,t.jsx("button",{className:"float-right text-red-800 hover:text-red-900",onClick:()=>d(""),children:"✕"})]}),!n&&!o&&t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.filter(F=>r==="all"||F.status===r).map(F=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-all flex flex-col",children:[t.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-800",children:F.name}),t.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${F.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:F.status}),t.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:F.type})]})]}),t.jsxs("div",{className:"text-2xl font-bold text-[#6339C0]",children:["LKR ",F.price.toLocaleString(),t.jsx("span",{className:"text-sm font-normal text-gray-500",children:F.type==="weekly"?"/wk":F.type==="monthly"?"/mo":"/yr"})]})]}),t.jsxs("div",{className:"mt-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(vt,{className:"w-4 h-4 mr-2 text-[#6339C0]"}),t.jsx("span",{children:F.days.map(S=>S.charAt(0).toUpperCase()+S.slice(1)).join(", ")})]}),t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx(ss,{className:"w-4 h-4 mr-2 text-[#6339C0]"}),t.jsx("span",{children:F.duration==="full-day"?"Full Day (8am-6pm)":F.duration==="half-day"?"Half Day (8am-1pm)":F.duration==="morning"?"Morning (8am-12pm)":F.duration==="afternoon"?"Afternoon (1pm-6pm)":"Custom Hours"})]}),t.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[t.jsx(hy,{className:"w-4 h-4 mr-2 mt-0.5 text-[#6339C0]"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Includes:"}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:F.services.map(S=>{const T=V.find(U=>U.id===S);return T?t.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800",children:T.name},T.id):null})})]})]})]}),t.jsxs("div",{className:"mt-6 flex flex-wrap gap-2 items-center",children:[t.jsxs("button",{onClick:()=>de(F),className:"btn-outline flex items-center whitespace-nowrap",children:[t.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Edit"]}),t.jsxs("button",{onClick:()=>ue(F),className:"btn-outline text-red-600 border-red-200 hover:bg-red-50 flex items-center whitespace-nowrap",children:[t.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),t.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-100 flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-500",children:F.type==="yearly"?"Yearly plan":F.type==="monthly"?"Monthly billing":"Weekly billing"}),t.jsx("button",{className:"text-sm font-medium text-[#6339C0] hover:text-[#7e57ff]",children:"View Subscribers"})]})]},F.plan_id))}),"  ",$&&Y&&t.jsx("div",{className:"fixed inset-0 bg-black/60 bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Delete Subscription Plan"}),t.jsxs("div",{className:"text-gray-600 mb-6",children:[t.jsx("p",{children:"Are you sure you want to delete the subscription plan:"}),t.jsxs("p",{className:"font-semibold text-gray-800 mt-2",children:['"',Y.name,'"?']}),t.jsx("p",{className:"mt-4 text-sm text-red-600",children:"This action cannot be undone. All data associated with this plan will be permanently deleted."})]}),t.jsxs("div",{className:"flex justify-end space-x-4",children:[t.jsx("button",{onClick:()=>{I(!1),G(null)},className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors duration-200 font-medium",children:"Cancel"}),t.jsx("button",{onClick:()=>{Y&&(v(Y.plan_id),I(!1),G(null))},className:`px-6 py-2 rounded-lg font-medium text-white shadow-sm
                    bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700
                    border border-red-600 hover:border-red-700
                    transition-all duration-200 ease-in-out
                    transform hover:scale-[1.02] active:scale-[0.98]`,children:"Delete Plan"})]})]})})}),N&&H&&t.jsx("div",{className:"fixed inset-0 bg-black/60 bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Edit Subscription Plan"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plan Name"}),t.jsx("input",{type:"text",className:"w-full border rounded-lg px-4 py-2 focus:border-[#6339C0] focus:ring-2 focus:ring-[#f3eeff] outline-none",value:H.name,onChange:F=>O({...H,name:F.target.value}),placeholder:"e.g., Premium Weekday Plan"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Billing Cycle"}),t.jsxs("select",{className:"w-full border rounded-lg px-4 py-2 focus:border-[#6339C0] focus:ring-2 focus:ring-[#f3eeff] outline-none",value:H.type,onChange:F=>O({...H,type:F.target.value}),children:[t.jsx("option",{value:"weekly",children:"Weekly"}),t.jsx("option",{value:"monthly",children:"Monthly"}),t.jsx("option",{value:"yearly",children:"Yearly"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),t.jsxs("select",{className:"w-full border rounded-lg px-4 py-2 focus:border-[#6339C0] focus:ring-2 focus:ring-[#f3eeff] outline-none",value:H.duration,onChange:F=>O({...H,duration:F.target.value}),children:[t.jsx("option",{value:"full-day",children:"Full Day"}),t.jsx("option",{value:"half-day",children:"Half Day"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (LKR)"}),t.jsx("input",{type:"number",className:"w-full border rounded-lg px-4 py-2 focus:border-[#6339C0] focus:ring-2 focus:ring-[#f3eeff] outline-none",value:H.price,onChange:F=>O({...H,price:Number(F.target.value)}),placeholder:"0.00",min:"0",step:"0.01"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Days of Week"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(F=>t.jsx("button",{onClick:()=>{const S=H.days.includes(F)?H.days.filter(T=>T!==F):[...H.days,F];O({...H,days:S})},className:`px-3 py-1 rounded-full text-sm ${H.days.includes(F)?"bg-[#6339C0] text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:F.charAt(0).toUpperCase()+F.slice(1)},F))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Included Services"}),t.jsx("div",{className:"space-y-2",children:V.map(F=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:`edit-service-${F.id}`,checked:H.services.includes(F.id),onChange:()=>{const S=H.services.includes(F.id)?H.services.filter(T=>T!==F.id):[...H.services,F.id];O({...H,services:S})},className:"h-4 w-4 text-[#6339C0] border-gray-300 rounded focus:ring-[#6339C0]"}),t.jsxs("label",{htmlFor:`edit-service-${F.id}`,className:"ml-2 text-sm text-gray-700",children:[F.name,t.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded-full ${F.category==="premium"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:F.category})]})]},F.id))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plan Status"}),t.jsxs("select",{className:"w-full border rounded-lg px-4 py-2 focus:border-[#6339C0] focus:ring-2 focus:ring-[#f3eeff] outline-none",value:H.status,onChange:F=>O({...H,status:F.target.value}),children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),t.jsxs("div",{className:"mt-8 flex justify-end space-x-3",children:[t.jsx("button",{onClick:()=>{E(!1),O(null)},className:"btn-outline",children:"Cancel"}),t.jsx("button",{onClick:()=>{H&&_&&(x(_.plan_id,H),E(!1),O(null))},className:"btn-primary",children:"Save Changes"})]})]})})}),b&&t.jsx("div",{className:"fixed inset-0 bg-black/60 bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Create New Subscription Plan"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plan Name"}),t.jsx("input",{type:"text",className:"w-full border rounded-lg px-4 py-2 focus:border-[#6339C0] focus:ring-2 focus:ring-[#f3eeff] outline-none",value:M.name,onChange:F=>p("name",F.target.value),placeholder:"e.g., Premium Weekday Plan"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Billing Cycle"}),t.jsxs("select",{className:"w-full border rounded-lg px-4 py-2 focus:border-[#6339C0] focus:ring-2 focus:ring-[#f3eeff] outline-none",value:M.type,onChange:F=>R({...M,type:F.target.value}),children:[t.jsx("option",{value:"weekly",children:"Weekly"}),t.jsx("option",{value:"monthly",children:"Monthly"}),t.jsx("option",{value:"yearly",children:"Yearly"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),t.jsxs("select",{className:"w-full border rounded-lg px-4 py-2 focus:border-[#6339C0] focus:ring-2 focus:ring-[#f3eeff] outline-none",value:M.duration,onChange:F=>R({...M,duration:F.target.value}),children:[t.jsx("option",{value:"full-day",children:"Full Day"}),t.jsx("option",{value:"morning",children:"Morning Half-Day"}),t.jsx("option",{value:"afternoon",children:"Afternoon Half-Day"}),t.jsx("option",{value:"custom",children:"Custom Hours"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (LKR)"}),t.jsx("input",{type:"number",className:"w-full border rounded-lg px-4 py-2 focus:border-[#6339C0] focus:ring-2 focus:ring-[#f3eeff] outline-none",value:M.price,onChange:F=>p("price",Number(F.target.value)),placeholder:"0.00",min:"0",step:"0.01"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Days of Week"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(F=>t.jsx("button",{onClick:()=>se(F),className:`px-3 py-1 rounded-full text-sm ${M.days.includes(F)?"bg-[#6339C0] text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:F.charAt(0).toUpperCase()+F.slice(1)},F))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Included Services"}),t.jsx("div",{className:"space-y-2",children:V.map(F=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:`service-${F.id}`,checked:M.services.includes(F.id),onChange:()=>ne(F.id),className:"h-4 w-4 text-[#6339C0] border-gray-300 rounded focus:ring-[#6339C0]"}),t.jsxs("label",{htmlFor:`service-${F.id}`,className:"ml-2 text-sm text-gray-700",children:[F.name,t.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded-full ${F.category==="premium"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:F.category})]})]},F.id))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plan Status"}),t.jsxs("select",{className:"w-full border rounded-lg px-4 py-2 focus:border-[#6339C0] focus:ring-2 focus:ring-[#f3eeff] outline-none",value:M.status,onChange:F=>R({...M,status:F.target.value}),children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),t.jsxs("div",{className:"mt-8 flex justify-end space-x-3",children:[t.jsx("button",{onClick:()=>C(!1),className:"btn-outline",children:"Cancel"}),t.jsx("button",{onClick:g,className:"btn-primary",children:"Create Plan"})]})]})})})]})},LC="http://localhost:5001/api",eg={PAYMENTS:`${LC}/admin/payments`},PC=()=>{const[r,l]=y.useState([]),[n,a]=y.useState(!1),[o,d]=y.useState(""),u=()=>localStorage.getItem("token"),m=async()=>{a(!0),d("");try{const q=u();if(!q)throw new Error("No authentication token found");console.log("Fetching payments from:",eg.PAYMENTS);const he=await fetch(eg.PAYMENTS,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${q}`}});if(console.log("Response status:",he.status),!he.ok){const pe=await he.json().catch(()=>null);throw he.status===401?new Error("Unauthorized access. Please log in again."):he.status===404?new Error("API endpoint not found. Please check the server configuration."):new Error((pe==null?void 0:pe.message)||"Failed to fetch payments")}const X=await he.json();if(console.log("API Response:",X),X.success&&Array.isArray(X.data))l(X.data);else throw new Error(X.message||"Invalid data format received from server")}catch(q){console.error("Error fetching payments:",q),d(q instanceof Error?q.message:"Failed to fetch payments")}finally{a(!1)}};y.useEffect(()=>{m()},[]);const[p,g]=y.useState(""),[x,v]=y.useState(1),[b]=y.useState(10),[C,N]=y.useState({key:"created_at",direction:"desc"}),[E,_]=y.useState("all"),[k,M]=y.useState("all"),[R,H]=y.useState(!1),[O,$]=y.useState(!1),[I,Y]=y.useState(!1),[G,de]=y.useState(null),[ue,V]=y.useState(!1),ne=r.filter(q=>(q.order_id.toLowerCase().includes(p.toLowerCase())||q.transaction_ref.toLowerCase().includes(p.toLowerCase())||q.parent_id.toLowerCase().includes(p.toLowerCase())||String(q.child_id).toLowerCase().includes(p.toLowerCase())||q.parent_name&&q.parent_name.toLowerCase().includes(p.toLowerCase())||q.child_name&&q.child_name.toLowerCase().includes(p.toLowerCase())||q.method.toLowerCase().includes(p.toLowerCase()))&&(E==="all"||q.method===E)&&(k==="all"||q.status===k)).sort((q,he)=>{const X=C.key,pe=q[X],Ne=he[X];return String(pe)<String(Ne)?C.direction==="asc"?-1:1:String(pe)>String(Ne)?C.direction==="asc"?1:-1:0}),se=x*b,F=se-b,S=ne.slice(F,se),T=Math.ceil(ne.length/b),U=q=>{let he="asc";C.key===q&&C.direction==="asc"&&(he="desc"),N({key:q,direction:he})},A=q=>{de(q),Y(!0)},j=q=>{console.log(`Exporting payments as ${q}`),V(!1)},z=Array.from(new Set(r.map(q=>q.method))),W=q=>new Intl.NumberFormat("en-US",{style:"currency",currency:"LKR",minimumFractionDigits:2}).format(q),P=q=>new Date(q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Payment Management"})}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Total: ",ne.length," | Paid:"," ",ne.filter(q=>q.status==="paid").length," | Unpaid:"," ",ne.filter(q=>q.status==="unpaid").length," | Amount:"," ",W(ne.reduce((q,he)=>q+parseFloat(he.amount),0))]})]}),t.jsx("div",{className:"flex space-x-3 w-full sm:w-auto",children:t.jsxs("button",{onClick:()=>V(!0),className:"bg-[#6339C0] text-white py-2 px-4 rounded-lg hover:bg-[#5227a3] transition-colors flex items-center",children:[t.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Export"]})})]}),o&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:t.jsx("p",{className:"text-sm",children:o})}),t.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Jt,{className:"absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:"text",id:"search-payments",name:"search-payments",placeholder:"Search by order ID, transaction ref, parent, child, or method...",className:"pl-10 pr-4 py-2 w-full border rounded-lg focus:border-[#6339C0] focus:ring-2 focus:ring-[#f3eeff] outline-none",value:p,onChange:q=>g(q.target.value)})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("div",{className:"dropdown relative",children:[t.jsxs("button",{className:"btn-outline flex items-center",onClick:()=>$(q=>!q),children:[t.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Status:"," ",k==="all"?"All":k==="paid"?"Paid":"Unpaid",O?t.jsx(At,{className:"w-4 h-4 ml-2"}):t.jsx(pt,{className:"w-4 h-4 ml-2"})]}),O&&t.jsx("div",{className:"dropdown-menu absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:t.jsxs("div",{className:"p-2 space-y-1",children:[t.jsx("button",{className:`w-full text-left px-4 py-2 text-sm rounded ${k==="all"?"bg-[#f3eeff] text-[#6339C0]":"hover:bg-gray-50"}`,onClick:()=>{M("all"),$(!1)},children:"All Status"}),t.jsx("button",{className:`w-full text-left px-4 py-2 text-sm rounded ${k==="paid"?"bg-[#f3eeff] text-[#6339C0]":"hover:bg-gray-50"}`,onClick:()=>{M("paid"),$(!1)},children:"✓ Paid"}),t.jsx("button",{className:`w-full text-left px-4 py-2 text-sm rounded ${k==="unpaid"?"bg-[#f3eeff] text-[#6339C0]":"hover:bg-gray-50"}`,onClick:()=>{M("unpaid"),$(!1)},children:"✗ Unpaid"})]})})]}),t.jsxs("div",{className:"dropdown relative",children:[t.jsxs("button",{className:"btn-outline flex items-center",onClick:()=>H(q=>!q),children:[t.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Method: ",E==="all"?"All":E,R?t.jsx(At,{className:"w-4 h-4 ml-2"}):t.jsx(pt,{className:"w-4 h-4 ml-2"})]}),R&&t.jsx("div",{className:"dropdown-menu absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:t.jsxs("div",{className:"p-2 space-y-1",children:[t.jsx("button",{className:`w-full text-left px-4 py-2 text-sm rounded ${E==="all"?"bg-[#f3eeff] text-[#6339C0]":"hover:bg-gray-50"}`,onClick:()=>{_("all"),H(!1)},children:"All Methods"}),z.map(q=>t.jsx("button",{className:`w-full text-left px-4 py-2 text-sm rounded ${E===q?"bg-[#f3eeff] text-[#6339C0]":"hover:bg-gray-50"}`,onClick:()=>{_(q),H(!1)},children:q},q))]})})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>U("created_at"),children:t.jsxs("div",{className:"flex items-center",children:["Date",C.key==="created_at"&&(C.direction==="asc"?t.jsx(At,{className:"ml-1 w-4 h-4"}):t.jsx(pt,{className:"ml-1 w-4 h-4"}))]})}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>U("amount"),children:t.jsxs("div",{className:"flex items-center",children:["Amount",C.key==="amount"&&(C.direction==="asc"?t.jsx(At,{className:"ml-1 w-4 h-4"}):t.jsx(pt,{className:"ml-1 w-4 h-4"}))]})}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parent"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Child"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>U("method"),children:t.jsxs("div",{className:"flex items-center",children:["Method",C.key==="method"&&(C.direction==="asc"?t.jsx(At,{className:"ml-1 w-4 h-4"}):t.jsx(pt,{className:"ml-1 w-4 h-4"}))]})}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Loading payments..."})}):S.length>0?S.map(q=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:q.order_id}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${q.status==="paid"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:q.status==="paid"?"✓ Paid":"✗ Unpaid"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P(q.created_at)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:W(parseFloat(q.amount))}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[t.jsx("div",{children:q.parent_name||"N/A"}),t.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",q.parent_id]})]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[t.jsx("div",{children:q.child_name||"N/A"}),t.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",q.child_id]})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:q.method})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:t.jsx("button",{onClick:()=>A(q),className:"text-[#6339C0] hover:text-[#7e57ff]",title:"View details",children:t.jsx(Ta,{className:"w-5 h-5"})})})]},q.payment_id)):t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No payments found matching your criteria"})})})]})}),T>1&&t.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[t.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[t.jsx("button",{onClick:()=>v(q=>Math.max(q-1,1)),disabled:x===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),t.jsx("button",{onClick:()=>v(q=>Math.min(q+1,T)),disabled:x===T,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),t.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[t.jsx("div",{children:t.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",t.jsx("span",{className:"font-medium",children:F+1})," ","to"," ",t.jsx("span",{className:"font-medium",children:Math.min(se,ne.length)})," ","of"," ",t.jsx("span",{className:"font-medium",children:ne.length})," ","results"]})}),t.jsx("div",{children:t.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[t.jsx("button",{onClick:()=>v(q=>Math.max(q-1,1)),disabled:x===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:t.jsx(At,{className:"h-5 w-5 rotate-[-90deg]"})}),[...Array(T)].map((q,he)=>t.jsx("button",{onClick:()=>v(he+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${x===he+1?"z-10 bg-[#6339C0] border-[#6339C0] text-white":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:he+1},he+1)),t.jsx("button",{onClick:()=>v(q=>Math.min(q+1,T)),disabled:x===T,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:t.jsx(pt,{className:"h-5 w-5 rotate-[-90deg]"})})]})})]})]})]}),I&&G&&t.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Payment Details"}),t.jsx("button",{onClick:()=>Y(!1),className:"text-gray-400 hover:text-gray-500",children:t.jsx(Ta,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Tr,{className:"w-5 h-5 text-gray-500 mr-2"}),t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Order ID"})]}),t.jsx("p",{className:"text-sm text-gray-900 font-mono",children:G.order_id})]}),t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("span",{className:"w-5 h-5 text-gray-500 mr-2",children:"●"}),t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Payment Status"})]}),t.jsx("span",{className:`inline-block px-3 py-1 text-sm font-semibold rounded-full ${G.status==="paid"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:G.status==="paid"?"✓ Paid":"✗ Unpaid"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Ts,{className:"w-5 h-5 text-gray-500 mr-2"}),t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Amount"})]}),t.jsx("p",{className:"text-lg font-bold text-gray-900",children:W(parseFloat(G.amount))})]}),t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(vt,{className:"w-5 h-5 text-gray-500 mr-2"}),t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Date"})]}),t.jsx("p",{className:"text-sm text-gray-900",children:P(G.created_at)})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Tr,{className:"w-5 h-5 text-gray-500 mr-2"}),t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Payment Method"})]}),t.jsx("p",{className:"text-sm text-gray-900",children:G.method})]}),t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Tr,{className:"w-5 h-5 text-gray-500 mr-2"}),t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Transaction Reference"})]}),t.jsx("p",{className:"text-sm text-gray-900 font-mono",children:G.transaction_ref})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(jt,{className:"w-5 h-5 text-gray-500 mr-2"}),t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Parent"})]}),t.jsx("p",{className:"text-sm text-gray-900 font-medium",children:G.parent_name||"N/A"}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["ID: ",G.parent_id]})]}),t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(jt,{className:"w-5 h-5 text-gray-500 mr-2"}),t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Child"})]}),t.jsx("p",{className:"text-sm text-gray-900 font-medium",children:G.child_name||"N/A"}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["ID: ",G.child_id]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(hy,{className:"w-5 h-5 text-gray-500 mr-2"}),t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Package ID"})]}),t.jsx("p",{className:"text-sm text-gray-900",children:G.package_id})]}),t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(vt,{className:"w-5 h-5 text-gray-500 mr-2"}),t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Month"})]}),t.jsx("p",{className:"text-sm text-gray-900",children:G.month})]})]}),G.notes&&t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Notes"}),t.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-line",children:G.notes})]})]}),t.jsx("div",{className:"mt-6 flex justify-end",children:t.jsx("button",{onClick:()=>Y(!1),className:"btn-outline",children:"Close"})})]})})}),ue&&t.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Export Payments"}),t.jsx("button",{onClick:()=>V(!1),className:"text-gray-400 hover:text-gray-500",children:t.jsx(Ta,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Select the format you want to export the payment data in:"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:()=>j("csv"),className:"flex flex-col items-center justify-center p-4 border border-gray-200 rounded-lg hover:border-[#6339C0] hover:bg-[#f3eeff] transition-colors",children:[t.jsx(Jn,{className:"w-8 h-8 text-gray-600 mb-2"}),t.jsx("span",{className:"font-medium",children:"CSV Format"}),t.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Excel, Numbers, etc."})]}),t.jsxs("button",{onClick:()=>j("pdf"),className:"flex flex-col items-center justify-center p-4 border border-gray-200 rounded-lg hover:border-[#6339C0] hover:bg-[#f3eeff] transition-colors",children:[t.jsx(Jn,{className:"w-8 h-8 text-gray-600 mb-2"}),t.jsx("span",{className:"font-medium",children:"PDF Format"}),t.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Adobe Reader, etc."})]})]})]}),t.jsx("div",{className:"mt-6 flex justify-end space-x-3",children:t.jsx("button",{type:"button",onClick:()=>V(!1),className:"btn-outline",children:"Cancel"})})]})})})]})},tg="http://localhost:5001/api",ei={COMPLAINTS:`${tg}/admin/complaints`,CHILDREN:`${tg}/parent/children`},UC=()=>{const[r,l]=y.useState([]),[n,a]=y.useState(!1),[o,d]=y.useState(""),u=()=>localStorage.getItem("token"),m=y.useCallback(async()=>{a(!0),d("");try{const J=u();if(!J)throw new Error("No authentication token found");console.log("Fetching complaints from:",ei.COMPLAINTS);const xe=await fetch(ei.COMPLAINTS,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${J}`}});if(console.log("Response status:",xe.status),!xe.ok){const ze=await xe.json().catch(()=>null);throw xe.status===401?new Error("Unauthorized access. Please log in again."):xe.status===403?new Error("You do not have permission to view complaints."):xe.status===404?new Error("API endpoint not found. Please check the server configuration."):new Error((ze==null?void 0:ze.message)||`Failed to fetch complaints (${xe.status})`)}const Se=await xe.json();if(console.log("API Response:",Se),Se.success&&Array.isArray(Se.data))l(Se.data),console.log(`Successfully loaded ${Se.data.length} complaints`);else throw new Error(Se.message||"Invalid data format received from server")}catch(J){console.error("Error fetching complaints:",J);const xe=J instanceof Error?J.message:"Failed to fetch complaints";d(xe)}finally{a(!1)}},[]),p=async(J,xe)=>{a(!0),d("");try{const Se=u();if(!Se)throw new Error("No authentication token found");const ze=await fetch(`${ei.COMPLAINTS}/${J}/status`,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${Se}`},body:JSON.stringify({status:xe})});if(!ze.ok){const Je=await ze.json().catch(()=>null);throw ze.status===401?new Error("Unauthorized access. Please log in again."):new Error((Je==null?void 0:Je.message)||"Failed to update complaint status")}const Ze=await ze.json();if(Ze.success)return l(Je=>Je.map(Yt=>Yt.complaint_id===J?Ze.data:Yt)),console.log("Complaint status updated successfully:",Ze.data),Ze.data;throw new Error(Ze.message||"Failed to update complaint status")}catch(Se){const ze=Se instanceof Error?Se.message:"Failed to update complaint status";throw d(ze),Se}finally{a(!1)}},g=async(J,xe)=>{a(!0),d("");try{const Se=u();if(!Se)throw new Error("No authentication token found");const ze=await fetch(`${ei.COMPLAINTS}/${J}/action`,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${Se}`},body:JSON.stringify({action:xe})});if(!ze.ok){const Je=await ze.json().catch(()=>null);throw ze.status===401?new Error("Unauthorized access. Please log in again."):new Error((Je==null?void 0:Je.message)||"Failed to update complaint action")}const Ze=await ze.json();if(Ze.success)return l(Je=>Je.map(Yt=>Yt.complaint_id===J?Ze.data:Yt)),console.log("Complaint action updated successfully:",Ze.data),Ze.data;throw new Error(Ze.message||"Failed to update complaint action")}catch(Se){const ze=Se instanceof Error?Se.message:"Failed to update complaint action";throw d(ze),Se}finally{a(!1)}},x=async J=>{a(!0),d("");try{const xe=u();if(!xe)throw new Error("No authentication token found");const Se=await fetch(`${ei.COMPLAINTS}/${J}`,{method:"DELETE",headers:{Authorization:`Bearer ${xe}`}});if(!Se.ok){const Ze=await Se.json().catch(()=>null);throw Se.status===401?new Error("Unauthorized access. Please log in again."):new Error((Ze==null?void 0:Ze.message)||"Failed to delete complaint")}const ze=await Se.json();if(ze.success)l(Ze=>Ze.filter(Je=>Je.complaint_id!==J)),console.log("Complaint deleted successfully");else throw new Error(ze.message||"Failed to delete complaint")}catch(xe){const Se=xe instanceof Error?xe.message:"Failed to delete complaint";throw d(Se),xe}finally{a(!1)}};y.useEffect(()=>{m()},[]);const[v,b]=y.useState(""),[C,N]=y.useState(1),[E]=y.useState(10),[_,k]=y.useState({key:"date",direction:"desc"}),[M,R]=y.useState("all"),[H,O]=y.useState([]),[$,I]=y.useState(!1),[Y,G]=y.useState(!1),[de,ue]=y.useState(!1),[V,ne]=y.useState(!1),[se,F]=y.useState(null),[S,T]=y.useState(""),U=r.filter(J=>(J.description.toLowerCase().includes(v.toLowerCase())||J.subject.toLowerCase().includes(v.toLowerCase())||J.recipient.toLowerCase().includes(v.toLowerCase()))&&(M==="all"||J.status===M)).sort((J,xe)=>{const Se=_.key,ze=J[Se],Ze=xe[Se];return String(ze)<String(Ze)?_.direction==="asc"?-1:1:String(ze)>String(Ze)?_.direction==="asc"?1:-1:0}),A=C*E,j=A-E,z=U.slice(j,A),W=Math.ceil(U.length/E),P=J=>{let xe="asc";_.key===J&&_.direction==="asc"&&(xe="desc"),k({key:J,direction:xe})},q=J=>{O(xe=>xe.includes(J)?xe.filter(Se=>Se!==J):[...xe,J])},he=()=>{H.length===z.length&&z.length>0?O([]):O(z.map(J=>J.complaint_id))},X=J=>{const xe={Pending:"bg-yellow-100 text-yellow-800",Investigating:"bg-blue-100 text-blue-800",Solved:"bg-green-100 text-green-800"},Se={Pending:t.jsx(ss,{className:"w-4 h-4 mr-1"}),Investigating:t.jsx(ja,{className:"w-4 h-4 mr-1"}),Solved:t.jsx(ci,{className:"w-4 h-4 mr-1"})};return t.jsxs("span",{className:`px-2 py-1 text-xs rounded-full inline-flex items-center ${xe[J]}`,children:[Se[J],J]})},pe=J=>{F(J),G(!0)},Ne=J=>{F(J),T(J.action||""),ue(!0)},We=async()=>{if(se)try{await x(se.complaint_id),G(!1),F(null)}catch(J){console.error("Failed to delete complaint:",J)}},fe=async()=>{if(se)try{await p(se.complaint_id,"Solved"),await g(se.complaint_id,S),ue(!1),F(null),T("")}catch(J){console.error("Failed to resolve complaint:",J)}},te=J=>{console.log(`Exporting complaints as ${J}`),ne(!1)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Complaints Management"})}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n?"Loading...":`Total: ${r.length} complaint${r.length!==1?"s":""}`})]}),t.jsxs("div",{className:"flex space-x-3 w-full sm:w-auto",children:[t.jsxs("button",{onClick:m,disabled:n,className:"bg-[#6339C0] text-white py-2 px-4 rounded-lg hover:bg-[#5227a3] transition-colors flex items-center disabled:opacity-50",children:[t.jsx("svg",{className:`w-4 h-4 mr-2 ${n?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),t.jsxs("button",{onClick:()=>ne(!0),className:"bg-[#6339C0] text-white py-2 px-4 rounded-lg hover:bg-[#5227a3] transition-colors flex items-center",children:[t.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),o&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[t.jsx(ja,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),t.jsx("p",{className:"text-sm text-red-700 mt-1",children:o})]}),t.jsx("button",{onClick:()=>d(""),className:"text-red-400 hover:text-red-500",children:t.jsx(Ue,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Jt,{className:"absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:"text",id:"search-complaints",name:"search-complaints",placeholder:"Search complaints by description, subject, or recipient...",className:"pl-10 pr-4 py-2 w-full border rounded-lg focus:border-[#6339C0] focus:ring-2 focus:ring-[#f3eeff] outline-none",value:v,onChange:J=>b(J.target.value)})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("div",{className:"dropdown relative",children:[t.jsxs("button",{className:"btn-outline flex items-center",onClick:()=>I(J=>!J),children:[t.jsx(Lr,{className:"w-4 h-4 mr-2"}),M==="all"?"All Status":M,$?t.jsx(At,{className:"w-4 h-4 ml-2"}):t.jsx(pt,{className:"w-4 h-4 ml-2"})]}),$&&t.jsx("div",{className:"dropdown-menu absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:t.jsxs("div",{className:"p-2 space-y-1",children:[t.jsx("button",{className:`w-full text-left px-4 py-2 text-sm rounded ${M==="all"?"bg-[#f3eeff] text-[#6339C0]":"hover:bg-gray-50"}`,onClick:()=>{R("all"),I(!1)},children:"All Complaints"}),t.jsx("button",{className:`w-full text-left px-4 py-2 text-sm rounded ${M==="Pending"?"bg-[#f3eeff] text-[#6339C0]":"hover:bg-gray-50"}`,onClick:()=>{R("Pending"),I(!1)},children:"Pending"}),t.jsx("button",{className:`w-full text-left px-4 py-2 text-sm rounded ${M==="Investigating"?"bg-[#f3eeff] text-[#6339C0]":"hover:bg-gray-50"}`,onClick:()=>{R("Investigating"),I(!1)},children:"Investigating"}),t.jsx("button",{className:`w-full text-left px-4 py-2 text-sm rounded ${M==="Solved"?"bg-[#f3eeff] text-[#6339C0]":"hover:bg-gray-50"}`,onClick:()=>{R("Solved"),I(!1)},children:"Solved"})]})})]}),H.length>0&&t.jsx("div",{className:"flex items-center",children:t.jsxs("span",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-2 rounded-lg",children:[H.length," selected"]})})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t.jsx("input",{type:"checkbox",id:"select-all-complaints",name:"select-all-complaints",checked:H.length===z.length&&z.length>0,onChange:he,className:"h-4 w-4 text-[#6339C0] border-gray-300 rounded focus:ring-[#6339C0]"})}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>P("date"),children:t.jsxs("div",{className:"flex items-center",children:["Date",_.key==="date"&&(_.direction==="asc"?t.jsx(At,{className:"ml-1 w-4 h-4"}):t.jsx(pt,{className:"ml-1 w-4 h-4"}))]})}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>P("subject"),children:t.jsxs("div",{className:"flex items-center",children:["Subject",_.key==="subject"&&(_.direction==="asc"?t.jsx(At,{className:"ml-1 w-4 h-4"}):t.jsx(pt,{className:"ml-1 w-4 h-4"}))]})}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recipient"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>P("status"),children:t.jsxs("div",{className:"flex items-center",children:["Status",_.key==="status"&&(_.direction==="asc"?t.jsx(At,{className:"ml-1 w-4 h-4"}):t.jsx(pt,{className:"ml-1 w-4 h-4"}))]})}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-6 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center justify-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#6339C0]"}),t.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Loading complaints..."})]})})}):z.length>0?z.map(J=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("input",{type:"checkbox",checked:H.includes(J.complaint_id),onChange:()=>q(J.complaint_id),className:"h-4 w-4 text-[#6339C0] border-gray-300 rounded focus:ring-[#6339C0]"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(J.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:J.subject}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:J.recipient}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",title:J.description,children:J.description})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:X(J.status)}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",title:J.action||"",children:J.action||"-"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx("button",{onClick:()=>{var xe;F(J),(xe=document.getElementById("complaint-details"))==null||xe.classList.remove("hidden")},className:"text-[#6339C0] hover:text-[#7e57ff] transition-colors",title:"View details",children:t.jsx(Rf,{className:"w-5 h-5"})}),J.status!=="Solved"&&t.jsx("button",{onClick:()=>Ne(J),className:"text-green-600 hover:text-green-800 transition-colors",title:"Resolve complaint",children:t.jsx(ci,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>pe(J),className:"text-red-500 hover:text-red-700 transition-colors",title:"Delete complaint",children:t.jsx(Hs,{className:"w-5 h-5"})})]})})]},J.complaint_id)):t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-6 py-12 text-center",children:t.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[t.jsx(ja,{className:"w-12 h-12 mb-3 text-gray-400"}),t.jsx("p",{className:"text-sm font-medium",children:"No complaints found"}),t.jsx("p",{className:"text-xs mt-1",children:v||M!=="all"?"Try adjusting your search or filters":"No complaints have been submitted yet"})]})})})})]})}),t.jsx("div",{id:"complaint-details",className:"hidden border-t border-gray-200 bg-gray-50 p-6",children:se&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Complaint Details"}),t.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",se.complaint_id]})]}),t.jsx("button",{onClick:()=>{var J;return(J=document.getElementById("complaint-details"))==null?void 0:J.classList.add("hidden")},className:"text-gray-400 hover:text-gray-500",children:t.jsx(Ue,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Subject"}),t.jsx("p",{className:"mt-1 text-sm text-gray-900",children:se.subject})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Recipient"}),t.jsx("p",{className:"mt-1 text-sm text-gray-900",children:se.recipient})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Description"}),t.jsx("p",{className:"mt-1 text-sm text-gray-900 whitespace-pre-line",children:se.description})]}),se.action&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Action Taken"}),t.jsx("p",{className:"mt-1 text-sm text-gray-900 whitespace-pre-line",children:se.action})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Status"}),t.jsx("div",{className:"mt-1",children:X(se.status)})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Date"}),t.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(se.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),t.jsx("div",{className:"pt-4 border-t border-gray-200 flex justify-end space-x-3",children:se.status!=="Solved"&&t.jsx("button",{onClick:()=>Ne(se),className:"btn-primary",children:"Resolve Complaint"})})]})}),W>1&&t.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[t.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[t.jsx("button",{onClick:()=>N(J=>Math.max(J-1,1)),disabled:C===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),t.jsx("button",{onClick:()=>N(J=>Math.min(J+1,W)),disabled:C===W,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),t.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[t.jsx("div",{children:t.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",t.jsx("span",{className:"font-medium",children:j+1})," ","to"," ",t.jsx("span",{className:"font-medium",children:Math.min(A,U.length)})," ","of"," ",t.jsx("span",{className:"font-medium",children:U.length})," ","results"]})}),t.jsx("div",{children:t.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[t.jsxs("button",{onClick:()=>N(J=>Math.max(J-1,1)),disabled:C===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx("span",{className:"sr-only",children:"Previous"}),t.jsx(At,{className:"h-5 w-5 rotate-[-90deg]"})]}),[...Array(W)].map((J,xe)=>t.jsx("button",{onClick:()=>N(xe+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${C===xe+1?"z-10 bg-[#6339C0] border-[#6339C0] text-white":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:xe+1},xe+1)),t.jsxs("button",{onClick:()=>N(J=>Math.min(J+1,W)),disabled:C===W,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx("span",{className:"sr-only",children:"Next"}),t.jsx(pt,{className:"h-5 w-5 rotate-[-90deg]"})]})]})})]})]})]}),Y&&se&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Confirm Deletion"}),t.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-gray-500",children:t.jsx(Ue,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Are you sure you want to delete this complaint?"}),t.jsx("div",{className:"bg-red-50 p-4 rounded-lg",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx(ja,{className:"h-5 w-5 text-red-400 mr-3 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-red-800",children:"This action cannot be undone"}),t.jsx("p",{className:"mt-2 text-sm text-red-700",children:"All records of this complaint will be permanently removed from the system."})]})]})})]}),t.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[t.jsx("button",{type:"button",onClick:()=>G(!1),className:"btn-outline",disabled:n,children:"Cancel"}),t.jsx("button",{type:"button",onClick:We,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",disabled:n,children:n?"Deleting...":"Delete Complaint"})]})]})})}),de&&se&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:se.status==="Solved"?"Update Resolution":"Resolve Complaint"}),t.jsx("button",{onClick:()=>ue(!1),className:"text-gray-400 hover:text-gray-500",children:t.jsx(Ue,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Complaint Details"}),t.jsxs("p",{className:"text-sm text-gray-900",children:[t.jsx("span",{className:"font-medium",children:"Subject:"})," ",se.subject]}),t.jsxs("p",{className:"text-sm text-gray-900",children:[t.jsx("span",{className:"font-medium",children:"Recipient:"})," ",se.recipient]}),t.jsx("p",{className:"mt-2 text-sm text-gray-900 whitespace-pre-line",children:se.description})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"resolution",className:"block text-sm font-medium text-gray-700 mb-1",children:"Resolution Details *"}),t.jsx("textarea",{id:"resolution",name:"resolution",rows:6,value:S,onChange:J=>T(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#6339C0] focus:border-transparent",placeholder:"Describe how the complaint was resolved...",required:!0})]})]}),t.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[t.jsx("button",{type:"button",onClick:()=>ue(!1),className:"btn-outline",disabled:n,children:"Cancel"}),t.jsx("button",{type:"button",onClick:fe,className:"btn-primary disabled:opacity-50",disabled:n||!S.trim(),children:n?"Resolving...":se.status==="Solved"?"Update Resolution":"Resolve Complaint"})]})]})})}),V&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Export Complaints"}),t.jsx("button",{onClick:()=>ne(!1),className:"text-gray-400 hover:text-gray-500",children:t.jsx(Ue,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600",children:"Select the format you want to export the complaints data in:"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:()=>te("csv"),className:"flex flex-col items-center justify-center p-4 border border-gray-200 rounded-lg hover:border-[#6339C0] hover:bg-[#f3eeff] transition-colors",children:[t.jsx(da,{className:"w-8 h-8 text-gray-600 mb-2"}),t.jsx("span",{className:"font-medium",children:"CSV Format"}),t.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Excel, Numbers, etc."})]}),t.jsxs("button",{onClick:()=>te("pdf"),className:"flex flex-col items-center justify-center p-4 border border-gray-200 rounded-lg hover:border-[#6339C0] hover:bg-[#f3eeff] transition-colors",children:[t.jsx(da,{className:"w-8 h-8 text-gray-600 mb-2"}),t.jsx("span",{className:"font-medium",children:"PDF Format"}),t.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Adobe Reader, etc."})]})]}),t.jsxs("div",{className:"mt-4 space-y-2",children:[t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",className:"h-4 w-4 text-[#6339C0] focus:ring-[#6339C0] border-gray-300 rounded",defaultChecked:!0}),t.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Include all complaint details"})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",className:"h-4 w-4 text-[#6339C0] focus:ring-[#6339C0] border-gray-300 rounded",checked:H.length>0,disabled:H.length===0}),t.jsxs("span",{className:`ml-2 text-sm ${H.length===0?"text-gray-400":"text-gray-700"}`,children:["Export only selected complaints (",H.length,")"]})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",className:"h-4 w-4 text-[#6339C0] focus:ring-[#6339C0] border-gray-300 rounded",defaultChecked:!0}),t.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Include resolution details"})]})]})]}),t.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[t.jsx("button",{type:"button",onClick:()=>ne(!1),className:"btn-outline",children:"Cancel"}),t.jsx("button",{type:"button",onClick:()=>te("csv"),className:"btn-primary",children:"Export Data"})]})]})})})]})},Io="http://localhost:5001/api",$o={ATTENDANCE:`${Io}/api/admin/attendance`,CHILDREN:`${Io}/api/admin/children`,SCHEDULES:`${Io}/api/admin/schedules`,USERS:`${Io}/api/admin/users`},zC=()=>{const[r,l]=y.useState(new Date().toISOString().split("T")[0]),[n,a]=y.useState("summary"),[o,d]=y.useState(!0),[u,m]=y.useState(""),[p,g]=y.useState(!1),[x,v]=y.useState(""),[b,C]=y.useState([]),[N,E]=y.useState([]),[_,k]=y.useState({totalPresent:0,totalAbsent:0,totalChildren:0}),M=async()=>{try{const T=await fetch($o.CHILDREN,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!T.ok){console.warn("Children endpoint not available");return}const U=await T.json();if(U.success&&Array.isArray(U.data)){const A=U.data.map(j=>({id:j.child_id||j.id,name:j.child_name||j.name||`${j.first_name} ${j.last_name}`,type:"child",classroom:j.classroom||j.group_name,photo:j.photo_url||j.photo,child_id:j.child_id}));C(j=>[...j.filter(z=>z.type!=="child"),...A])}}catch(T){console.error("Error fetching children:",T)}},R=async()=>{try{const T=await fetch($o.USERS,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!T.ok){console.warn("Users endpoint not available");return}const U=await T.json();if(U.success&&Array.isArray(U.data)){const A=U.data.filter(j=>j.role==="teacher"||j.role==="supervisor").map(j=>({id:j.user_id||j.id,name:j.full_name||j.name||`${j.first_name} ${j.last_name}`,type:j.role,role:j.role,photo:j.photo_url||j.avatar,user_id:j.user_id}));C(j=>[...j.filter(z=>z.type==="child"),...A])}}catch(T){console.error("Error fetching staff:",T)}},H=async T=>{try{const U=await fetch(`${$o.ATTENDANCE}?date=${T}`,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!U.ok){console.warn("Attendance endpoint not available"),E([]);return}const A=await U.json();if(A.success&&Array.isArray(A.data)){const j=A.data.map(P=>({id:P.attendance_id||P.id,date:P.date||P.attendance_date,personId:P.child_id||P.user_id,status:P.status,checkIn:P.check_in_time||P.checkIn,checkOut:P.check_out_time||P.checkOut,notes:P.notes,attendance_id:P.attendance_id,child_id:P.child_id}));E(j);const z=j.filter(P=>P.status==="present").length,W=j.filter(P=>P.status==="absent").length;k({totalPresent:z,totalAbsent:W,totalChildren:z+W})}}catch(U){console.error("Error fetching attendance:",U),E([])}},O=async T=>{try{let U=`${$o.ATTENDANCE}/history?limit=50`;T&&(U+=`&date=${T}`);const A=await fetch(U,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!A.ok){console.warn("Attendance history endpoint not available");return}const j=await A.json();if(j.success&&Array.isArray(j.data)){const z=j.data.map(W=>({id:W.attendance_id||W.id,date:W.date||W.attendance_date,personId:W.child_id||W.user_id,status:W.status,checkIn:W.check_in_time||W.checkIn,checkOut:W.check_out_time||W.checkOut,notes:W.notes,attendance_id:W.attendance_id,child_id:W.child_id}));n==="history"&&E(z)}}catch(U){console.error("Error fetching attendance history:",U)}},$=async()=>{d(!0),m("");try{await Promise.allSettled([M(),R(),H(r)])}catch(T){console.error("Error loading data:",T),m("Failed to load some data. Please refresh the page.")}finally{d(!1)}},I=async()=>{g(!0),await $(),g(!1)};y.useEffect(()=>{$()},[]),y.useEffect(()=>{n==="summary"&&H(r)},[r,n]),y.useEffect(()=>{n==="history"&&O(x)},[n]),y.useEffect(()=>{n==="history"&&x!==""&&O(x)},[x]);const de=N.filter(T=>T.date===r).map(T=>{const U=b.find(A=>String(A.id)===String(T.personId));return{...T,person:U}}).filter(T=>{var U;return((U=T.person)==null?void 0:U.type)==="child"}),ue=_.totalPresent,V=_.totalAbsent,ne=T=>{const U={present:"bg-green-100 text-green-800",absent:"bg-red-100 text-red-800"},A={present:t.jsx(ci,{className:"w-4 h-4 mr-1"}),absent:t.jsx(f1,{className:"w-4 h-4 mr-1"})};return t.jsxs("span",{className:`px-2 py-1 text-xs rounded-full inline-flex items-center ${U[T]}`,children:[A[T],T]})},se=()=>{const T=new Date(r);T.setDate(T.getDate()-1),l(T.toISOString().split("T")[0])},F=()=>{const T=new Date(r);T.setDate(T.getDate()+1),l(T.toISOString().split("T")[0])},S=()=>{l(new Date().toISOString().split("T")[0])};return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("header",{className:"bg-white shadow-sm",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Attendance Management"})}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{onClick:I,disabled:p,className:"bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center disabled:opacity-50",children:[t.jsx(Ec,{className:`w-4 h-4 mr-2 ${p?"animate-spin":""}`}),p?"Refreshing...":"Refresh"]}),t.jsxs("button",{className:"bg-[#6339C0] text-white py-2 px-4 rounded-lg hover:bg-[#5227a3] transition-colors flex items-center",children:[t.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})}),t.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[u&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:t.jsx("p",{className:"text-sm",children:u})}),o&&!p?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500 mx-auto"}),t.jsx("p",{className:"mt-4 text-gray-500",children:"Loading attendance data..."})]})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 mb-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("button",{onClick:se,className:"p-2 rounded-full hover:bg-gray-100",children:t.jsx(qj,{className:"w-5 h-5 text-gray-600"})}),t.jsx("button",{onClick:S,className:"btn-outline",children:"Today"}),t.jsx("button",{onClick:F,className:"p-2 rounded-full hover:bg-gray-100",children:t.jsx(Qj,{className:"w-5 h-5 text-gray-600"})})]}),t.jsx("div",{className:"text-center",children:t.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:new Date(r).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})})]})}),t.jsx("div",{className:"border-b border-gray-200 mb-6",children:t.jsxs("nav",{className:"-mb-px flex space-x-8",children:[t.jsx("button",{onClick:()=>a("summary"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${n==="summary"?"border-[#6339C0] text-[#6339C0]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(ss,{className:"w-4 h-4 mr-2"}),"Summary"]})}),t.jsx("button",{onClick:()=>a("history"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${n==="history"?"border-[#6339C0] text-[#6339C0]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(da,{className:"w-4 h-4 mr-2"}),"History"]})})]})}),n==="summary"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Present"}),t.jsx("p",{className:"text-2xl font-bold text-gray-800",children:ue})]}),t.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:t.jsx(Lf,{className:"w-6 h-6"})})]})}),t.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Absent"}),t.jsx("p",{className:"text-2xl font-bold text-gray-800",children:V})]}),t.jsx("div",{className:"p-3 rounded-full bg-red-100 text-red-600",children:t.jsx(c2,{className:"w-6 h-6"})})]})})]}),t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsxs("div",{className:"bg-indigo-50 px-6 py-3 border-b border-indigo-100 flex items-center",children:[t.jsx(sm,{className:"w-5 h-5 text-indigo-600 mr-2"}),t.jsx("h3",{className:"text-lg font-medium text-indigo-800",children:"Today's Attendance"})]}),t.jsx("div",{className:"p-4",children:de.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:de.map(T=>{var U,A;return t.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:((U=T.person)==null?void 0:U.name)||"-"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(A=T.person)!=null&&A.classroom?`${T.person.classroom} Classroom`:"-"}),t.jsx("div",{className:"mt-3",children:ne(T.status)}),T.checkIn&&t.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[t.jsx("span",{className:"text-green-600",children:T.checkIn})," -",t.jsxs("span",{className:"text-red-600",children:[" ",T.checkOut||"--:--"]})]}),T.notes&&t.jsxs("p",{className:"text-xs text-gray-500 mt-2 italic",children:['"',T.notes,'"']})]})},T.id)})}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Lf,{className:"mx-auto h-12 w-12 text-gray-400"}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No attendance records for today"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Attendance data will appear here when available."})]})})]})})]}),n==="history"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsxs("div",{className:"px-6 py-3 border-b border-gray-100 bg-gray-50 flex items-center justify-between",children:[t.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Attendance History"}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("label",{htmlFor:"history-date-filter",className:"text-sm font-medium text-gray-700",children:"Filter by Date:"}),t.jsx("input",{id:"history-date-filter",type:"date",value:x,onChange:T=>v(T.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),x&&t.jsx("button",{onClick:()=>v(""),className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:"Clear"})]})})]}),t.jsx("div",{className:"p-4",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check In/Out"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.length>0?N.map(T=>{const U=b.find(A=>A.id===T.personId);return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(T.date).toLocaleDateString()}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:(U==null?void 0:U.name)||"-"}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(U==null?void 0:U.classroom)||(U==null?void 0:U.role)||"-"})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize",children:(U==null?void 0:U.type)||"-"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ne(T.status)}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[T.checkIn?t.jsx("span",{className:"text-green-600",children:T.checkIn}):t.jsx("span",{className:"text-gray-400",children:"-"})," / ",T.checkOut?t.jsx("span",{className:"text-red-600",children:T.checkOut}):t.jsx("span",{className:"text-gray-400",children:"-"})]}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:T.notes||"-"})]},T.id)}):t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:t.jsxs("div",{className:"text-gray-500",children:[t.jsx(da,{className:"mx-auto h-12 w-12 text-gray-400 mb-2"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"No attendance records found"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:x?"Try selecting a different date or clear the filter.":"Attendance history will appear here when available."})]})})})})]})})})]})]})]})]})},YC={1:"All",2:"Teachers",3:"Parents"},ag={All:1,Teachers:2,Parents:3},HC=({message:r,type:l,onClose:n})=>(y.useEffect(()=>{const a=setTimeout(n,3e3);return()=>clearTimeout(a)},[n]),t.jsx("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300 ${l==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:r}),t.jsx("button",{onClick:n,className:"ml-2 text-white hover:text-gray-200",title:"Close notification",children:t.jsx(Ue,{className:"w-4 h-4"})})]})})),FC=()=>{const{user:r}=La(),[l,n]=y.useState([]),[a,o]=y.useState([]),[d,u]=y.useState(""),[m,p]=y.useState(""),[g,x]=y.useState(!1),[v,b]=y.useState(!1),[C,N]=y.useState(null),[E,_]=y.useState(!1),[k,M]=y.useState({title:"",details:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),audience:"All",user_id:"",attachment:""}),[R,H]=y.useState(!1),[O,$]=y.useState(!1),[I,Y]=y.useState(null),G=`${Ce}/announcements`,de=X=>{if(!X)return{date:"N/A",time:"N/A"};try{let pe;return typeof X=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(X)?pe=new Date(X+"T00:00:00Z"):pe=new Date(X),isNaN(pe.getTime())?{date:"Invalid Date",time:"N/A"}:{date:pe.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"}),time:pe.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",timeZone:"UTC"})}}catch(pe){return console.error("Error formatting date:",pe,X),{date:String(X),time:"N/A"}}},ue=X=>X?typeof X=="string"&&X.includes("T")?X.split("T")[0]:String(X):"N/A",V=(X,pe)=>{Y({message:X,type:pe})},ne=y.useCallback(async()=>{H(!0);try{const X=await fetch(G);if(!X.ok)throw new Error("Failed to fetch announcements");const pe=await X.json(),We=(Array.isArray(pe)?pe:pe.data||[]).map(fe=>({ann_id:fe.ann_id,title:fe.title,details:fe.details,date:fe.date,time:fe.time,audience:YC[Number(fe.audience)]||"All",created_at:fe.created_at,attachment:fe.attachment,session_id:fe.session_id,user_id:fe.user_id,updated_at:fe.updated_at}));n(We),o(We)}catch(X){console.error("Error fetching announcements:",X),V("Failed to load announcements","error")}finally{H(!1),$(!1)}},[G]),se=y.useCallback(()=>{if(!d&&!m){o(l);return}$(!0);const X=setTimeout(()=>{const pe=l.filter(Ne=>{const We=d?Ne.title.toLowerCase().includes(d.toLowerCase())||Ne.details.toLowerCase().includes(d.toLowerCase()):!0,fe=m?Ne.date&&Ne.date.includes(m):!0;return We&&fe});o(pe),$(!1)},300);return()=>clearTimeout(X)},[d,m,l]),F=async X=>{const pe=await fetch(G,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({...X,published_by:{id:r==null?void 0:r.id,name:(r==null?void 0:r.name)||"Unknown",role:(r==null?void 0:r.role)||"Admin"},audience:ag[X.audience]||1})});if(!pe.ok){const Ne=await pe.json();throw new Error(Ne.message||"Failed to create announcement")}return await pe.json()},S=async(X,pe)=>{const Ne=r!=null&&r.session_id?typeof r.session_id=="number"?r.session_id:Number(r.session_id):null,We={...pe,audience:ag[pe.audience]||1,session_id:Ne};try{const fe=await fetch(`${G}/${X}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(We)});if(!fe.ok){const te=await fe.json().catch(()=>({}));throw new Error(te.message||"Failed to update announcement")}return await fe.json()}catch(fe){throw console.error("Update announcement error:",fe),fe}},T=async X=>{const pe=await fetch(`${G}/${X}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!pe.ok)throw new Error("Failed to delete announcement");return await pe.json()};y.useEffect(()=>{ne()},[ne]),y.useEffect(()=>{se()},[d,m,se]),y.useEffect(()=>{r!=null&&r.id&&M(X=>({...X,user_id:String(r.id)}))},[r]);const U=X=>{const{name:pe,value:Ne}=X.target;M({...k,[pe]:Ne})},A=()=>{x(!0),_(!1),M({title:"",details:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),audience:"All",user_id:r!=null&&r.id?String(r.id):"",attachment:""})},j=X=>{x(!0),_(!0),N(X),M({title:X.title,details:X.details,date:ue(X.date),time:X.time&&typeof X.time=="string"?X.time.slice(0,5):new Date().toTimeString().slice(0,5),audience:X.audience,user_id:X.user_id?String(X.user_id):"",attachment:X.attachment||""})},z=X=>{b(!0),N(X)},W=()=>{x(!1),b(!1),N(null)},P=async X=>{X.preventDefault();try{let pe;E&&C?(pe=await S(C.ann_id,{...k}),n(l.map(Ne=>Ne.ann_id===pe.ann_id?pe:Ne)),V("Announcement updated successfully!","success")):(pe=await F({...k}),n([pe,...l]),V("Announcement added successfully!","success")),W(),ne()}catch(pe){pe instanceof Error?V(pe.message||"An error occurred","error"):V("An error occurred","error")}},q=async()=>{if(C)try{await T(C.ann_id),n(l.filter(X=>X.ann_id!==C.ann_id)),V("Announcement deleted successfully!","success"),W(),ne()}catch(X){const pe=X instanceof Error?X.message:"Failed to delete announcement";V(pe,"error")}},he=()=>{u(""),p("")};return R?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs("div",{className:"space-y-6",children:[I&&t.jsx(HC,{message:I.message,type:I.type,onClose:()=>Y(null)}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Announcements"})}),(r==null?void 0:r.session_id)&&t.jsxs("span",{className:"text-sm text-gray-500",children:["Session: ",r.session_id]})]}),t.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Jt,{className:"absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search by topic or content...",className:"pl-10 pr-10 py-2 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:d,onChange:X=>u(X.target.value)}),O&&t.jsx("span",{className:"absolute right-3 top-3",children:t.jsxs("svg",{className:"animate-spin h-5 w-5 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]})})]}),t.jsxs("div",{className:"relative flex-1",children:[t.jsx(vt,{className:"absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:"date",placeholder:"Filter by date...",className:"pl-10 pr-4 py-2 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:m,onChange:X=>p(X.target.value)})]}),t.jsxs("button",{onClick:A,className:"btn-primary flex items-center justify-center bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg transition-colors whitespace-nowrap",children:[t.jsx(Wt,{className:"w-4 h-4 mr-2"}),"New Announcement"]})]}),(d||m)&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-sm text-gray-500",children:["Showing ",a.length," results",d&&` for "${d}"`,m&&` on ${m}`]}),t.jsx("button",{onClick:he,className:"text-sm text-indigo-600 hover:text-indigo-800",children:"Clear filters"})]})]})}),t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:a.length>0?t.jsx("div",{className:"space-y-4",children:a.map(X=>{var pe,Ne;return t.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:[t.jsx("div",{className:"flex justify-between items-start",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:X.title}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:X.details}),t.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["To: ",X.audience]}),t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Time: ",X.time&&typeof X.time=="string"?X.time.slice(0,5):"N/A"]}),X.time&&t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Time: ",X.time.slice(0,5)]}),X.session_id&&t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"}),X.attachment&&t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Attachment"})]})]})}),t.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["Published by: ",((pe=X.published_by)==null?void 0:pe.name)||"Unknown","(",((Ne=X.published_by)==null?void 0:Ne.role)||"Admin",")"]})}),t.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:[t.jsx("div",{className:"flex items-center"}),X.updated_at&&t.jsx("div",{className:"flex items-center mt-1",children:t.jsxs("span",{children:["Updated: ",X.updated_at?`${de(X.updated_at).date} at ${de(X.updated_at).time}`:"N/A"]})})]}),t.jsxs("div",{className:"flex mt-4 space-x-3",children:[t.jsxs("button",{onClick:()=>j(X),className:"text-gray-600 hover:text-gray-900 flex items-center text-sm font-medium hover:bg-gray-50 px-2 py-1 rounded transition-colors",children:[t.jsx(Sn,{className:"w-4 h-4 mr-1"}),"Edit"]}),t.jsxs("button",{onClick:()=>z(X),className:"text-red-600 hover:text-red-900 flex items-center text-sm font-medium hover:bg-red-50 px-2 py-1 rounded transition-colors",children:[t.jsx(Hs,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]},X.ann_id)})}):t.jsxs("div",{className:"text-center py-10",children:[t.jsx("p",{className:"text-gray-500",children:O?"Searching...":d||m?"No matching announcements found":"No announcements found"}),d||m?t.jsx("button",{onClick:he,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Clear search filters"}):t.jsxs("button",{onClick:A,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[t.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Create New Announcement"]})]})}),g&&t.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:E?"Edit Announcement":"New Announcement"}),t.jsx("button",{onClick:W,className:"text-gray-400 hover:text-gray-500",title:"Close",children:t.jsx(Ue,{className:"h-6 w-6"})})]}),t.jsxs("form",{onSubmit:P,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),t.jsx("input",{type:"text",name:"title",value:k.title,onChange:U,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter a title",maxLength:100,required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Details*"}),t.jsx("textarea",{name:"details",value:k.details,onChange:U,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,placeholder:"Enter announcement details"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Audience*"}),t.jsxs("select",{name:"audience",value:k.audience,onChange:U,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,title:"Select target audience",children:[t.jsx("option",{value:"All",children:"All"}),t.jsx("option",{value:"Teachers",children:"Teachers"}),t.jsx("option",{value:"Parents",children:"Parents"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date*"}),t.jsx("input",{type:"date",name:"date",value:k.date,onChange:U,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,title:"Select announcement date"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time*"}),t.jsx("input",{type:"time",name:"time",value:k.time,onChange:U,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,title:"Select announcement time"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (optional)"}),t.jsx("input",{type:"file",name:"attachment",accept:"*",onChange:X=>{const pe=X.target.files&&X.target.files[0];pe&&M({...k,attachment:pe.name})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",title:"Upload attachment file"}),k.attachment&&t.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Selected: ",k.attachment]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:W,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsxs("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:[E?"Update":"Create"," Announcement"]})]})]})]})})}),v&&t.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Confirm Deletion"}),t.jsxs("button",{onClick:W,className:"text-gray-400 hover:text-gray-500",title:"Close",children:[t.jsx(Ue,{className:"w-6 h-6"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]}),t.jsxs("p",{className:"mb-6 text-gray-600",children:["Are you sure you want to delete announcement"," ",t.jsxs("span",{className:"font-semibold",children:['"',C==null?void 0:C.title,'"']}),"? This action cannot be undone."]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx("button",{onClick:W,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:q,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})})]})};function BC(){const[r,l]=y.useState(null),n=async(o,d)=>{l(o);try{const u=await fetch(`${Ce}/admin/reports/${o}/download`);if(!u.ok)throw new Error("Download failed");const m=await u.blob(),p=window.URL.createObjectURL(m),g=document.createElement("a");g.href=p,g.download=`${o}-report-${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(g),g.click(),window.URL.revokeObjectURL(p),document.body.removeChild(g)}catch{alert(`Failed to download ${d}`)}finally{l(null)}},a=[{id:"children",name:"Child Details",icon:It,desc:"All children with enrollment details",color:"blue"},{id:"attendance",name:"Attendance Records",icon:h1,desc:"Check-in/out history",color:"purple"},{id:"subscriptions",name:"Subscription Plans",icon:da,desc:"Active and expired plans",color:"indigo"},{id:"payments",name:"Payment Records",icon:Ts,desc:"Revenue and payment status",color:"green"},{id:"complaints",name:"Complaints Log",icon:ja,desc:"Submitted complaints",color:"red"}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Reports & Records"})}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Download complete data records for all categories"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(o=>{const d=o.icon;return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[t.jsx("div",{className:"flex items-start justify-between mb-4",children:t.jsx("div",{className:`bg-${o.color}-100 p-3 rounded-lg`,children:t.jsx(d,{className:`w-6 h-6 text-${o.color}-600`})})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:o.name}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:o.desc}),t.jsx("button",{onClick:()=>n(o.id,o.name),disabled:r===o.id,className:`w-full py-2.5 px-4 rounded-lg font-medium text-white flex items-center justify-center gap-2 ${r===o.id?"bg-gray-400":`bg-${o.color}-600 hover:bg-${o.color}-700`}`,children:r===o.id?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Downloading..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Jn,{className:"w-4 h-4"}),"Download Report"]})})]},o.id)})}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx(da,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-1",children:"About Downloaded Reports"}),t.jsx("p",{className:"text-sm text-blue-800",children:"Reports are downloaded as Excel files (.xlsx) with complete data and timestamps."})]})]})})]})}function IC(){return t.jsxs("div",{className:"p-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Activities"})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:t.jsx("p",{children:"Activities management content will go here"})})]})}const $C=()=>{var v,b;const[r,l]=y.useState("account"),[n,a]=y.useState({name:"LittleSteps Daycare",email:"nimantha@gmail.com",phone:"766804944",address:"123 Preschool Lane, Education City",currentPassword:"",newPassword:"",confirmPassword:"",twoFactorAuth:!0}),[o,d]=y.useState(!1),[u,m]=y.useState(!1),p=C=>{const{name:N,value:E,type:_,checked:k}=C.target;a(M=>({...M,[N]:_==="checkbox"?k:E}))},g=C=>{C.preventDefault(),d(!0),setTimeout(()=>{d(!1),m(!0),setTimeout(()=>m(!1),3e3)},1500)},x=[{id:"account",name:"Account",icon:t.jsx(jt,{size:18})},{id:"security",name:"Security",icon:t.jsx(di,{size:18})}];return t.jsxs("div",{className:"flex h-screen bg-gray-50",children:[t.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-4",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center",children:[t.jsx(py,{className:"mr-2"})," System Settings"]}),t.jsx("nav",{className:"space-y-1",children:x.map(C=>t.jsxs("button",{onClick:()=>l(C.id),className:`w-full flex items-center px-4 py-2 text-sm rounded-lg transition-colors ${r===C.id?"bg-purple-100 text-purple-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[t.jsx("span",{className:"mr-3",children:C.icon}),C.name]},C.id))})]}),t.jsx("div",{className:"flex-1 p-8 overflow-y-auto",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t.jsxs("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:[(v=x.find(C=>C.id===r))==null?void 0:v.name," Settings"]})}),t.jsxs("p",{className:"text-gray-500",children:["Configure your daycare system ",(b=x.find(C=>C.id===r))==null?void 0:b.name.toLowerCase()," preferences"]})]}),r!=="billing"&&r!=="backup"&&t.jsx("button",{onClick:g,disabled:o,className:"bg-[#6339C0] text-white py-2 px-6 rounded-lg hover:bg-[#5227a3] transition-colors font-medium flex items-center disabled:opacity-50",children:o?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})]}),u&&t.jsx("div",{className:"mb-6 p-4 bg-green-50 text-green-700 rounded-lg border border-green-200",children:"Settings saved successfully!"}),r==="account"&&t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Organization Information"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Daycare Name"}),t.jsx("input",{type:"text",name:"name",value:n.name,onChange:p,className:"input-field"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),t.jsx("input",{type:"email",name:"email",value:n.email,onChange:p,className:"input-field"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),t.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:p,className:"input-field"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),t.jsx("input",{type:"text",name:"address",value:n.address,onChange:p,className:"input-field"})]})]})]}),r==="security"&&t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Password"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),t.jsx("input",{type:"password",name:"currentPassword",value:n.currentPassword,onChange:p,className:"input-field",placeholder:"Enter current password"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),t.jsx("input",{type:"password",name:"newPassword",value:n.newPassword,onChange:p,className:"input-field",placeholder:"Enter new password"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),t.jsx("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:p,className:"input-field",placeholder:"Confirm new password"})]})]})]})})]})})]})};function qC(){return t.jsxs("div",{className:"p-6",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Support"}),t.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:t.jsx("p",{children:"Support and help content will go here"})})]})}const VC=async()=>{try{console.log("� Fetching dashboard statistics from:",`${Ce}/dashboard/stats`);const r=await fetch(`${Ce}/dashboard/stats`);if(!r.ok){const a=await r.text();throw console.error("❌ API Error:",{status:r.status,statusText:r.statusText,body:a}),new Error(`Failed to fetch dashboard stats: ${r.statusText}`)}const l=await r.json();return console.log("✅ Dashboard stats fetched successfully:",l.data.overview),{totalChildren:l.data.overview.totalChildren,activeParents:l.data.overview.activeParents,activeTeachers:l.data.overview.activeTeachers,activeSupervisors:l.data.overview.activeSupervisors,todayAttendance:l.data.overview.todayAttendance,monthlyRevenue:l.data.overview.monthlyRevenue,upcomingEvents:l.data.overview.upcomingEvents,pendingComplaints:l.data.overview.pendingComplaints,totalComplaints:l.data.overview.totalComplaints}}catch(r){return console.error("❌ Error fetching dashboard stats:",r),{totalChildren:0,activeParents:0,activeTeachers:0,todayAttendance:0,monthlyRevenue:0,upcomingEvents:0,pendingComplaints:0,activeSupervisors:0,totalComplaints:0}}},QC=async()=>{try{console.log("� Fetching upcoming events from:",`${Ce}/dashboard/stats`);const r=await fetch(`${Ce}/dashboard/stats`);if(!r.ok)throw new Error(`Failed to fetch events: ${r.statusText}`);const n=(await r.json()).data.events.map(a=>({id:a.event_id,title:a.topic,date:a.date,time:a.time,location:a.venue,description:a.description}));return console.log("📅 Upcoming events fetched:",{count:n.length,events:n}),n}catch(r){return console.error("❌ Error fetching events:",r),[]}},GC=async r=>{try{console.log(`📊 Fetching stats for period: ${r}`);const l=await fetch(`${Ce}/dashboard/stats/period?period=${r}`);if(!l.ok)throw new Error(`Failed to fetch period stats: ${l.statusText}`);const n=await l.json();return console.log(`✅ Period stats (${r}) fetched:`,n.data),n.data}catch(l){return console.error("❌ Error fetching period stats:",l),{totalChildren:0,checkIns:0,revenue:0}}},XC=async r=>{try{console.log(`📊 Fetching chart data for period: ${r}`);const l=await fetch(`${Ce}/dashboard/charts?period=${r}`);if(!l.ok)throw new Error(`Failed to fetch chart data: ${l.statusText}`);const n=await l.json();return console.log(`✅ Chart data (${r}) fetched:`,n.data),n.data}catch(l){return console.error("❌ Error fetching chart data:",l),{revenue:[],attendance:[],complaints:[]}}},KC=async()=>{try{console.log("💳 Fetching payment status from:",`${Ce}/admin/dashboard/analytics/payments`);const r=await fetch(`${Ce}/admin/dashboard/analytics/payments`);if(!r.ok)throw new Error(`Failed to fetch payment status: ${r.statusText}`);const l=await r.json();return console.log("✅ Payment status fetched:",l.data),l.data||{paid:0,unpaid:0,overdue:0,total:0}}catch(r){return console.error("❌ Error fetching payment status:",r),{paid:0,unpaid:0,overdue:0,total:0}}},WC=async()=>{var r,l,n;try{console.log("💰 Fetching revenue data from:",`${Ce}/dashboard/stats/period?period=today`,"and",`${Ce}/dashboard/stats`);const a=await fetch(`${Ce}/dashboard/stats/period?period=today`);if(!a.ok)throw new Error(`Failed to fetch today revenue: ${a.statusText}`);const d=((r=(await a.json()).data)==null?void 0:r.revenue)||0,u=await fetch(`${Ce}/dashboard/stats`);if(!u.ok)throw new Error(`Failed to fetch monthly revenue: ${u.statusText}`);const p=((n=(l=(await u.json()).data)==null?void 0:l.overview)==null?void 0:n.monthlyRevenue)||0;return console.log("✅ Revenue data fetched:",{today:d,monthly:p}),{today:d,monthly:p}}catch(a){return console.error("❌ Error fetching revenue data:",a),{today:0,monthly:0}}},ZC=()=>{const[r,l]=y.useState({totalChildren:0,activeParents:0,activeTeachers:0,todayAttendance:0,monthlyRevenue:0,upcomingEvents:0,pendingComplaints:0}),[n,a]=y.useState([]),[o,d]=y.useState(!0),[u,m]=y.useState("today"),[p,g]=y.useState(null),[x,v]=y.useState("week"),[b,C]=y.useState(null),[N,E]=y.useState(!1),[,_]=y.useState({paid:0,unpaid:0,overdue:0,total:0}),[k,M]=y.useState({today:0,monthly:0});y.useEffect(()=>{(async()=>{try{d(!0),console.log("Starting to load dashboard data...");const[Y,G]=await Promise.all([VC(),QC()]);console.log("Dashboard data loaded:",{statsData:Y,eventsData:G}),l(Y),a(G)}catch(Y){console.error("Error loading dashboard data:",Y),me.error("Failed to load dashboard data"),l({totalChildren:0,activeParents:0,activeTeachers:0,todayAttendance:0,monthlyRevenue:0,upcomingEvents:0,pendingComplaints:0})}finally{d(!1)}})()},[]),y.useEffect(()=>{(async()=>{try{const Y=await GC(u);g(Y)}catch(Y){console.error("Error loading period stats:",Y)}})()},[u]),y.useEffect(()=>{(async()=>{try{E(!0);const Y=await XC(x);C(Y)}catch(Y){console.error("Error loading chart data:",Y),me.error("Failed to load chart data")}finally{E(!1)}})()},[x]),y.useEffect(()=>{(async()=>{try{const Y=await KC();_(Y)}catch(Y){console.error("Error loading payment status:",Y)}})()},[]),y.useEffect(()=>{(async()=>{try{const Y=await WC();M(Y)}catch(Y){console.error("Error loading revenue data:",Y)}})()},[]);const R=(I,Y)=>{const[G,de,ue]=I.split("-").map(Number),V=new Date(G,de-1,ue),ne=new Date,se=new Date(ne);se.setDate(se.getDate()+1);const S=(T=>{if(!T)return"";const[U,A]=T.split(":"),j=parseInt(U),z=j>=12?"PM":"AM";return`${j%12||12}:${A} ${z}`})(Y);return V.toDateString()===ne.toDateString()?`Today, ${S}`:V.toDateString()===se.toDateString()?`Tomorrow, ${S}`:`${V.toLocaleDateString("en-US",{month:"short",day:"numeric"})}, ${S}`},H=I=>{m(I)},O=I=>{v(I)},$=({data:I,labels:Y,label:G,color:de})=>{const ue=Math.max(...I,1),V=Math.ceil(ue*1.2/10)*10;return t.jsxs("div",{className:"h-full flex flex-col",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-800 text-center mb-4",children:G}),t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsxs("div",{className:"relative flex items-end justify-between gap-3 h-64 px-6 pb-2",children:[t.jsxs("div",{className:"absolute left-0 top-0 bottom-10 flex flex-col justify-between text-xs text-gray-500 pr-2 w-8",children:[t.jsx("span",{className:"text-right w-full",children:V}),t.jsx("span",{className:"text-right w-full",children:Math.round(V*.75)}),t.jsx("span",{className:"text-right w-full",children:Math.round(V*.5)}),t.jsx("span",{className:"text-right w-full",children:Math.round(V*.25)}),t.jsx("span",{className:"text-right w-full",children:"0"})]}),t.jsx("div",{className:"absolute left-8 right-0 top-0 bottom-10 pointer-events-none",children:[0,.25,.5,.75,1].map((ne,se)=>t.jsx("div",{className:"absolute w-full border-t border-gray-100",style:{bottom:`${ne*100}%`}},se))}),t.jsx("div",{className:"relative flex-1 flex items-end justify-around gap-2 h-full ml-8",children:I.map((ne,se)=>{const F=V>0?ne/V*100:0,S=ne>0?4:0;return t.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end h-full max-w-[60px]",children:[ne>0&&t.jsx("div",{className:"text-xs font-bold text-gray-700 mb-1",children:ne.toLocaleString()}),t.jsx("div",{className:`w-full ${de} rounded-t-lg transition-all duration-300 hover:opacity-80 cursor-pointer shadow-md relative`,style:{height:`max(${F}%, ${S}px)`},title:`${Y[se]}: ${ne.toLocaleString()}`,children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-transparent via-white/10 to-white/20 rounded-t-lg"})})]},se)})})]}),t.jsx("div",{className:"flex justify-around px-6 mt-3 border-t border-gray-200 pt-2 ml-8",children:Y.map((ne,se)=>t.jsx("div",{className:"flex-1 text-center max-w-[60px]",children:t.jsx("span",{className:"text-xs text-gray-600 font-medium",children:ne})},se))})]})]})};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:t.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Supervisor Dashboard"})}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs("div",{className:"relative",children:[t.jsx(vt,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),t.jsxs("select",{className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4f46e5] text-sm","aria-label":"Select date range",value:u,onChange:I=>H(I.target.value),children:[t.jsx("option",{value:"today",children:"Today"}),t.jsx("option",{value:"week",children:"This Week"}),t.jsx("option",{value:"month",children:"This Month"})]})]})})]}),o?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#4f46e5]"})}):t.jsxs(t.Fragment,{children:[t.jsx(Iy,{stats:{...r,todayCheckIns:r.todayAttendance,monthlyRevenue:k.monthly}}),p&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500",children:["Attendance (",u,")"]}),t.jsx("p",{className:"text-2xl font-bold text-gray-800",children:p.checkIns})]}),t.jsx(ja,{className:"text-green-500",size:32})]})}),t.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-500",children:["Revenue (",u,")"]}),t.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["Rs. ",p.revenue.toLocaleString()]})]}),t.jsx(Of,{className:"text-purple-500",size:32})]})})]}),t.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 col-span-2",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[t.jsx(Af,{className:"mr-2 text-[#4f46e5]",size:20}),"Weekly/Monthly Overview"]}),t.jsx("div",{className:"flex space-x-2",children:t.jsxs("select",{className:"select-small","aria-label":"Select time period",value:x,onChange:I=>O(I.target.value),children:[t.jsx("option",{value:"week",children:"This Week"}),t.jsx("option",{value:"month",children:"This Month"})]})})]}),N?t.jsx("div",{className:"h-80 flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4f46e5]"})}):b?t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-white p-5 rounded-lg border border-blue-100 shadow-sm",children:t.jsx($,{data:b.revenue.map(I=>I.revenue),labels:b.revenue.map((I,Y,G)=>I.day_name?I.day_name.trim().substring(0,3):I.date_label&&(Y===0||Y===G.length-1||Y%5===0)?I.date_label.trim().split(" ")[1]:""),label:"Revenue (Rs.)",color:"bg-gradient-to-t from-blue-600 to-blue-400"})}),t.jsx("div",{className:"bg-gradient-to-br from-green-50 to-white p-5 rounded-lg border border-green-100 shadow-sm",children:t.jsx($,{data:b.attendance.map(I=>I.check_ins),labels:b.attendance.map((I,Y,G)=>I.day_name?I.day_name.trim().substring(0,3):I.date_label&&(Y===0||Y===G.length-1||Y%5===0)?I.date_label.trim().split(" ")[1]:""),label:"Attendance (Check-ins)",color:"bg-gradient-to-t from-green-600 to-green-400"})}),t.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-white p-5 rounded-lg border border-purple-100 shadow-sm",children:t.jsx($,{data:b.complaints.map(I=>I.complaint_count),labels:b.complaints.map((I,Y,G)=>I.day_name?I.day_name.trim().substring(0,3):I.date_label&&(Y===0||Y===G.length-1||Y%5===0)?I.date_label.trim().split(" ")[1]:""),label:"Complaints",color:"bg-gradient-to-t from-purple-600 to-purple-400"})})]})}):t.jsx("div",{className:"h-80 bg-gradient-to-br from-[#f0f5ff] to-[#e6eeff] rounded-xl flex items-center justify-center",children:t.jsxs("div",{className:"text-center p-6",children:[t.jsx(Af,{className:"w-12 h-12 mx-auto text-[#4f46e5]"}),t.jsx("p",{className:"mt-2 text-gray-500",children:"Loading chart data..."})]})})]})}),t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[t.jsx(vt,{className:"mr-2 text-[#4f46e5]",size:20}),"Upcoming Events"]}),t.jsx("button",{className:"text-sm text-[#4f46e5] hover:underline",children:"View Calendar"})]}),n.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:n.map(I=>t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[t.jsx("h3",{className:"font-medium text-gray-900",children:I.title}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:R(I.date,I.time)}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:I.location}),I.description&&t.jsx("p",{className:"text-xs text-gray-400 mt-2 line-clamp-2",children:I.description}),t.jsx("button",{className:"mt-3 text-xs text-[#4f46e5] hover:underline",children:"View Details"})]},I.id))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(vt,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),t.jsx("p",{className:"text-gray-500",children:"No upcoming events scheduled"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Check back later for new events"})]})]})]})]})})},ng=`${Ce}/supervisor/children/parent`,JC=()=>{const[r,l]=y.useState([]),[n,a]=y.useState(""),[o,d]=y.useState(!1),[u,m]=y.useState(!1),[p,g]=y.useState(!1),[x,v]=y.useState(null),[b,C]=y.useState(!1),[N,E]=y.useState(""),_=async()=>{C(!0);try{const O=await fetch(ng,{method:"GET",headers:{"Content-Type":"application/json"}});if(!O.ok)throw new Error(`HTTP error! status: ${O.status}`);const $=await O.json();console.log("Raw API response:",$);const I=$.map(Y=>({id:Y.user_id,nic:Y.nic||"",name:Y.name||"",email:Y.email||"",phone:Y.phone||"",children:parseInt(Y.child_count.toString())||0,profile_image:Y.image||"",created_at:Y.created_at||new Date().toISOString()}));console.log("Transformed parents:",I),l(I)}catch(O){console.error("Error fetching parents:",O),me.error("Failed to load parents")}finally{C(!1)}};y.useEffect(()=>{_()},[]);const k=O=>{m(!0),v(O)},M=()=>{d(!1),m(!1),g(!1),v(null)},R=async()=>{if(x)try{const O=await fetch(`${ng}/${x.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!O.ok)throw new Error(`HTTP error! status: ${O.status}`);l(r.filter($=>$.id!==x.id)),me.success("Parent deleted successfully!"),M()}catch(O){console.error("Error deleting parent:",O),me.error("Failed to delete parent")}},H=async()=>{if(!(!x||!N.trim()))try{console.log(`Sending message to ${x.phone}: ${N}`),me.success(`Message sent to ${x.name}`),M()}catch{me.error("Failed to send message")}};return b?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs("div",{className:"space-y-6 p-4",children:[t.jsx("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Parents"})}),!b&&t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[r.length," parent",r.length!==1?"s":""," found",n&&t.jsxs("span",{children:[" ","•"," ",r.filter(O=>{const $=n.toLowerCase();return O.name.toLowerCase().includes($)||O.email.toLowerCase().includes($)||O.phone.toLowerCase().includes($)||O.nic.toLowerCase().includes($)}).length," ","matching search"]})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Jt,{className:"absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search parents by name, email, phone, or NIC...",className:"pl-10 pr-4 py-2 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:n,onChange:O=>a(O.target.value)})]}),t.jsxs("button",{onClick:_,disabled:b,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:[t.jsx(Ec,{className:`w-4 h-4 mr-2 ${b?"animate-spin":""}`}),b?"Loading...":"Refresh"]})]})}),t.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 relative",children:[b&&t.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10 rounded-xl",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500 mb-2"}),t.jsx("p",{className:"text-gray-600",children:"Loading parents..."})]})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profile"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NIC"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Children"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0&&!b?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(It,{className:"w-12 h-12 text-gray-300 mb-2"}),t.jsx("p",{className:"text-lg font-medium",children:"No parents found"}),t.jsx("p",{className:"text-sm",children:"Try refreshing the page or check your connection"})]})})}):r.filter(O=>{if(!n)return!0;const $=n.toLowerCase();return O.name.toLowerCase().includes($)||O.email.toLowerCase().includes($)||O.phone.toLowerCase().includes($)||O.nic.toLowerCase().includes($)}).map(O=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:O.profile_image?t.jsx("img",{src:O.profile_image,alt:O.name,className:"h-10 w-10 rounded-full object-cover"}):t.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:t.jsx(It,{className:"h-5 w-5 text-gray-500"})})})})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 font-mono",children:O.nic}),t.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.name}),t.jsxs("div",{className:"text-sm text-gray-500",children:["Joined:"," ",new Date(O.created_at).toLocaleDateString()]})]}),t.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm text-gray-900",children:O.email}),t.jsx("div",{className:"text-sm text-gray-500",children:O.phone})]}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:O.children}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:t.jsx("div",{className:"flex space-x-2",children:t.jsx("button",{onClick:()=>k(O),className:"text-red-600 hover:text-red-900 p-1.5 rounded-md hover:bg-red-50 transition-colors",title:"Delete",children:t.jsx(Hs,{className:"w-4 h-4"})})})})]},O.id))})]})})]}),o&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"flex justify-between items-center mb-4",children:t.jsx("button",{onClick:M,className:"text-gray-400 hover:text-gray-500 rounded-full p-1 hover:bg-gray-100",title:"Close",children:t.jsx(Ue,{className:"w-5 h-5"})})})})})}),u&&t.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Confirm Deletion"}),t.jsx("button",{onClick:M,className:"text-gray-400 hover:text-gray-500 rounded-full p-1 hover:bg-gray-100",title:"Close",children:t.jsx(Ue,{className:"w-5 h-5"})})]}),t.jsxs("p",{className:"mb-6 text-gray-600",children:["Are you sure you want to delete parent"," ",t.jsx("span",{className:"font-semibold text-gray-800",children:x==null?void 0:x.name}),"? This action cannot be undone."]}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:M,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),t.jsx("button",{onClick:R,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete"})]})]})})}),p&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Send Message"}),t.jsx("button",{onClick:M,className:"text-gray-400 hover:text-gray-500 rounded-full p-1 hover:bg-gray-100",title:"Close",children:t.jsx(Ue,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[x!=null&&x.profile_image?t.jsx("img",{src:x.profile_image,alt:x.name,className:"h-10 w-10 rounded-full object-cover"}):t.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:t.jsx(It,{className:"h-5 w-5 text-gray-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:x==null?void 0:x.name}),t.jsx("p",{className:"text-sm text-gray-500",children:x==null?void 0:x.phone})]})]})}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),t.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:4,value:N,onChange:O=>E(O.target.value),placeholder:"Type your message here..."})]}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:M,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),t.jsxs("button",{onClick:H,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 flex items-center gap-1",children:[t.jsx(V1,{className:"w-4 h-4"}),t.jsx("span",{children:"Send"})]})]})]})})})]})},Uc=`${Ce}/supervisor/children/`,e4=`${Ce}/supervisor/children/groups`,t4=`${Ce}/supervisor/children/packages`,a4=`${Ce}/supervisor/children/check-nic`,Ps=r=>{if(!r)return 0;const l=new Date(r),n=new Date;let a=n.getFullYear()-l.getFullYear();const o=n.getMonth()-l.getMonth();return(o<0||o===0&&n.getDate()<l.getDate())&&a--,Math.max(0,a)},n4=async()=>{try{const r=await fetch(e4);if(!r.ok)return console.warn("Groups API not available, will extract from students data"),[];const l=await r.json();return console.log("Groups fetched from API:",l),l.map((n,a)=>({group_id:a+1,group_name:n.name}))}catch(r){return console.error("Error fetching groups:",r),[]}},s4=async()=>{try{const r=await fetch(t4);if(!r.ok)throw console.warn("Packages API not available, using fallback packages"),new Error("Packages API not available");const l=await r.json();return console.log("Packages fetched from API:",l),l.map(n=>({name:n.name}))}catch(r){throw console.error("Error fetching packages:",r),new Error("Failed to fetch packages")}},r4=r=>{const l=new Set,n=[];return r.forEach(a=>{a.classroom&&!l.has(a.classroom)&&(l.add(a.classroom),n.push({group_name:a.classroom}))}),n.sort((a,o)=>a.group_name.localeCompare(o.group_name))},l4=async()=>{const r=await fetch(Uc);if(!r.ok)throw new Error("Failed to fetch students");const l=await r.json();return console.log("Raw API response:",l),l.map(n=>{const a=n.dob?new Date(n.dob).toISOString().split("T")[0]:"",o=a?Ps(a):n.age||0,d={id:n.child_id,name:n.name||"",age:o,classroom:n.group_name||"",dob:a,gender:n.gender||"",parentName:n.parent_name||"",parentNIC:n.nic||"",parentEmail:n.parent_email||"",parentAddress:n.parent_address||"",parentContact:n.parent_phone||"",profileImage:n.image||"",packageName:n.package_name||""};return console.log("Mapped student:",d),d})},i4=async r=>{const l=r.dob?Ps(r.dob):r.age,n=await fetch(Uc,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.name,age:l,gender:r.gender,dob:r.dob,group_name:r.classroom||null,image:null,bc:null,blood_type:null,mr:null,allergies:null,created_at:new Date().toISOString(),package_name:r.packageName||null,parent_name:r.parentName,nic:r.parentNIC,parent_email:r.parentEmail,parent_address:r.parentAddress,parent_phone:r.parentContact,parentName:r.parentName,parentNIC:r.parentNIC,parentEmail:r.parentEmail,parentAddress:r.parentAddress,parentContact:r.parentContact})});if(!n.ok){const u=await n.json().catch(()=>({message:"Failed to create student"}));if(n.status===400||n.status===409){if(u.message&&u.message.toLowerCase().includes("email"))throw new Error("EMAIL_DUPLICATE: "+(u.message||"Email already exists"));if(u.error&&u.error.toLowerCase().includes("email"))throw new Error("EMAIL_DUPLICATE: "+(u.error||"Email already exists"));if(u.details&&u.details.toLowerCase().includes("email"))throw new Error("EMAIL_DUPLICATE: "+(u.details||"Email already exists"))}throw new Error(u.message||u.error||`Failed to create student: ${n.statusText}`)}const a=await n.json(),o=a.dob?new Date(a.dob).toISOString().split("T")[0]:"",d=o?Ps(o):a.age||r.age;return{id:a.child_id,name:a.name,age:d,classroom:a.group_name,dob:o,gender:a.gender,parentName:r.parentName,parentNIC:r.parentNIC,parentEmail:r.parentEmail,parentAddress:r.parentAddress,parentContact:r.parentContact,profileImage:a.image,packageName:a.package_name||r.packageName}},o4=async r=>{console.log("Updating student with data:",r);const l=r.dob?Ps(r.dob):r.age,n=await fetch(`${Uc}${r.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.name,age:l,gender:r.gender,dob:r.dob,group_name:r.classroom,image:null,bc:null,blood_type:null,mr:null,allergies:null,created_at:new Date().toISOString(),package_name:r.packageName||null,parent_name:r.parentName,parent_email:r.parentEmail,parent_phone:r.parentContact,parent_address:r.parentAddress,nic:r.parentNIC,parentContact:r.parentContact,parentAddress:r.parentAddress})});if(!n.ok){const u=await n.json().catch(()=>({message:"Failed to update student"}));throw console.error("Update failed:",u),new Error(u.message||`Failed to update student: ${n.statusText}`)}const a=await n.json();console.log("Update response:",a);const o=a.dob?new Date(a.dob).toISOString().split("T")[0]:"",d=o?Ps(o):a.age||r.age;return{id:a.child_id,name:a.name,age:d,classroom:a.group_name||"",dob:o,gender:a.gender,parentName:a.parent_name||r.parentName,parentNIC:a.nic||r.parentNIC,parentEmail:a.parent_email||r.parentEmail,parentAddress:a.parent_address||r.parentAddress,parentContact:a.parent_phone||r.parentContact,profileImage:a.image,packageName:a.package_name||r.packageName}},c4=async r=>{if(!(await fetch(`${Uc}${r}`,{method:"DELETE"})).ok)throw new Error("Failed to delete student")};function d4(){const[r,l]=y.useState(""),[n,a]=y.useState([]),[o,d]=y.useState([]),[u,m]=y.useState([]),[p,g]=y.useState({name:"",age:1,classroom:"",dob:"",gender:"",parentName:"",parentNIC:"",parentEmail:"",parentAddress:"",parentContact:"",packageName:""}),[x,v]=y.useState(null),[b,C]=y.useState(!1),[N,E]=y.useState(!1),[_,k]=y.useState(null),[M,R]=y.useState(!1),[H,O]=y.useState(""),[$,I]=y.useState(""),[Y,G]=y.useState(!1),de=async()=>{try{const A=await l4();a(A);let j=await n4();j.length===0&&(console.log("Fallback: extracting groups from students data"),j=r4(A)),d(j),console.log("Final groups data:",j);const z=await s4();m(z)}catch(A){const j=A instanceof Error?A.message:"An unknown error occurred";me.error(j)}};y.useEffect(()=>{de()},[]);const ue=async()=>{if(!p.parentNIC||p.parentNIC.trim()===""){O("Please enter a NIC number first"),me.error("Please enter a NIC number first");return}R(!0),O("");try{const A=n.find(j=>j.parentNIC===p.parentNIC.trim());if(A)g(j=>({...j,parentName:A.parentName,parentEmail:A.parentEmail,parentAddress:A.parentAddress,parentContact:A.parentContact})),O("Parent details found and auto-filled"),me.success("Parent details found and auto-filled");else try{const j=await fetch(a4,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nic:p.parentNIC.trim()})});if(j.ok){const z=await j.json();g(W=>({...W,parentName:z.parent_name||z.name||"",parentEmail:z.parent_email||z.email||"",parentAddress:z.parent_address||z.address||"",parentContact:z.parent_phone||z.contact||""})),O("Parent details found and auto-filled"),me.success("Parent details found and auto-filled")}else O("This NIC does not exist in our records. Please enter parent details manually."),me.info("This NIC does not exist in our records. Please enter parent details manually.")}catch{O("This NIC does not exist in our records. Please enter parent details manually."),me.info("This NIC does not exist in our records. Please enter parent details manually.")}}catch(A){console.error("Error checking NIC:",A),O("Error checking NIC. Please try again."),me.error("Error checking NIC. Please try again.")}finally{R(!1)}},V=A=>{const{name:j,value:z}=A.target;j==="parentNIC"&&O(""),j==="parentEmail"&&I(""),g(W=>{const P={...W,[j]:j==="age"?Number(z):z};return j==="dob"&&z&&(P.age=Ps(z)),P})},ne=async A=>{A.preventDefault(),I(""),G(!0);try{x?(await o4({...p,id:x}),me.success("Updated successfully")):(await i4(p),me.success("Created successfully")),g({name:"",age:1,classroom:"",dob:"",gender:"",parentName:"",parentNIC:"",parentEmail:"",parentAddress:"",parentContact:"",packageName:""}),v(null),C(!1),I(""),await de()}catch(j){let z="An unknown error occurred";if(j instanceof Error&&(z=j.message,z.startsWith("EMAIL_DUPLICATE:"))){const W=z.replace("EMAIL_DUPLICATE:","").trim();I(W||"This email is already registered. Please use a different email."),me.error("Email already exists. Please use a different email.");return}me.error(z)}finally{G(!1)}},se=A=>{console.log("Editing student:",A);const z=(P=>P?new Date(P).toISOString().split("T")[0]:"")(A.dob),W=z?Ps(z):A.age||1;g({name:A.name||"",age:W,classroom:A.classroom||"",dob:z,gender:A.gender||"",parentName:A.parentName||"",parentNIC:A.parentNIC||"",parentEmail:A.parentEmail||"",parentAddress:A.parentAddress||"",parentContact:A.parentContact||"",packageName:A.packageName||""}),v(A.id),C(!0),I(""),O("")},F=A=>{k(A),E(!0)},S=async()=>{if(_)try{await c4(_.id),me.success("Deleted successfully"),E(!1),k(null),await de()}catch(A){const j=A instanceof Error?A.message:"An unknown error occurred";me.error(j)}},T=()=>{C(!0),g({name:"",age:1,classroom:"",dob:"",gender:"",parentName:"",parentNIC:"",parentEmail:"",parentAddress:"",parentContact:"",packageName:""}),v(null),O(""),I("")},U=()=>{C(!1),E(!1),k(null),g({name:"",age:1,classroom:"",dob:"",gender:"",parentName:"",parentNIC:"",parentEmail:"",parentAddress:"",parentContact:"",packageName:""}),v(null),O(""),I("")};return t.jsxs("div",{className:"space-y-6 p-6",children:[t.jsx("div",{className:"flex justify-between items-center",children:t.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[t.jsx(jt,{className:"mr-2 text-[#4f46e5]",size:24}),"Children Management"]})}),!b&&t.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Jt,{className:"absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search students by name, classroom, parent or ID...",className:"pl-10 pr-4 py-2 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:r,onChange:A=>l(A.target.value)})]}),t.jsxs("button",{onClick:T,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[t.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Add New Child"]})]})}),b?t.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"flex justify-between items-center mb-6",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:x?"Edit Child":"Add New Child"}),x&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Only child name, package, parent contact, and parent address can be updated"})]})}),t.jsxs("form",{onSubmit:ne,className:"space-y-8",children:[t.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[t.jsx(jt,{className:"mr-2 text-blue-600",size:20}),"Child Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Child Name *"}),t.jsx("input",{name:"name",value:p.name,onChange:V,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"text",required:!0,placeholder:"Enter child's name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth *"}),t.jsx("input",{name:"dob",value:p.dob,onChange:V,className:`block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${x?"bg-gray-50 cursor-not-allowed":""}`,type:"date",required:!0,disabled:!!x}),x&&t.jsx("p",{className:"text-xs text-gray-500",children:"Date of birth cannot be changed when editing"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Age *"}),t.jsx("input",{name:"age",value:p.age,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"number",min:0,max:15,required:!0,readOnly:!0,placeholder:"Calculated from date of birth"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender *"}),t.jsxs("select",{name:"gender",value:p.gender,onChange:V,className:`block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${x?"bg-gray-50 cursor-not-allowed":""}`,required:!0,disabled:!!x,children:[t.jsx("option",{value:"",children:"Select gender"}),t.jsx("option",{value:"male",children:"Male"}),t.jsx("option",{value:"female",children:"Female"})]}),x&&t.jsx("p",{className:"text-xs text-gray-500",children:"Gender cannot be changed when editing"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Classroom"}),t.jsxs("select",{name:"classroom",value:p.classroom,onChange:V,className:`block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${x?"bg-gray-50 cursor-not-allowed":""}`,disabled:!!x,children:[t.jsx("option",{value:"",children:"Select a classroom (optional)"}),o.map((A,j)=>t.jsx("option",{value:A.group_name,children:A.group_name},j))]}),x&&t.jsx("p",{className:"text-xs text-gray-500",children:"Classroom cannot be changed when editing"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Package *"}),t.jsxs("select",{name:"packageName",value:p.packageName,onChange:V,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select a package (optional)"}),u.map((A,j)=>t.jsx("option",{value:A.name,children:A.name},j))]})]})]})]}),t.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[t.jsx(jt,{className:"mr-2 text-green-600",size:20}),"Parent Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Parent Name *"}),t.jsx("input",{name:"parentName",value:p.parentName,onChange:V,className:`block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${x?"bg-gray-50 cursor-not-allowed":""}`,type:"text",required:!0,disabled:!!x,placeholder:"Enter parent's name"}),x&&t.jsx("p",{className:"text-xs text-gray-500",children:"Parent name cannot be changed when editing"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Parent NIC"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{name:"parentNIC",value:p.parentNIC,onChange:V,className:`flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${x?"bg-gray-50 cursor-not-allowed":""}`,type:"text",disabled:!!x,placeholder:"Enter parent's NIC"}),!x&&t.jsx("button",{type:"button",onClick:ue,disabled:M||!p.parentNIC.trim(),className:"px-4 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:M?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Checking..."]}):"Check"})]}),H&&t.jsx("p",{className:`text-xs ${H.includes("found")?"text-green-600":"text-red-600"}`,children:H}),x&&t.jsx("p",{className:"text-xs text-gray-500",children:"Parent NIC cannot be changed when editing"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Parent Email *"}),t.jsx("input",{name:"parentEmail",value:p.parentEmail,onChange:V,className:`block w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent ${x?"bg-gray-50 cursor-not-allowed border-gray-300 focus:ring-indigo-500":$?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-indigo-500"}`,type:"email",required:!0,disabled:!!x,placeholder:"Enter parent's email"}),$&&!x&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 rounded-full bg-red-100 flex items-center justify-center",children:t.jsx(Ue,{className:"w-3 h-3 text-red-600"})}),t.jsx("p",{className:"text-xs text-red-600",children:$})]}),x&&t.jsx("p",{className:"text-xs text-gray-500",children:"Parent email cannot be changed when editing"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Parent Contact *"}),t.jsx("input",{name:"parentContact",value:p.parentContact,onChange:V,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"tel",required:!0,placeholder:"Enter parent's contact number"})]}),t.jsxs("div",{className:"space-y-2 md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Parent Address *"}),t.jsx("textarea",{name:"parentAddress",value:p.parentAddress,onChange:V,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:3,required:!0,placeholder:"Enter parent's address"})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:U,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:Y,className:`flex items-center px-6 py-3 rounded-lg transition-colors ${Y?"bg-gray-400 cursor-not-allowed text-white":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:Y?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),x?"Updating...":"Creating..."]}):x?t.jsxs(t.Fragment,{children:[t.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Update Child"]}):t.jsxs(t.Fragment,{children:[t.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Add Child"]})})]})]})]}):t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Age"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Classroom"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Package"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gender"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parent"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.filter(A=>{if(!r)return!0;const j=r.toLowerCase();return A.name.toLowerCase().includes(j)||A.classroom.toLowerCase().includes(j)||A.parentName.toLowerCase().includes(j)||A.id.toLowerCase().includes(j)||A.gender.toLowerCase().includes(j)||A.parentEmail.toLowerCase().includes(j)}).map(A=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[A.profileImage?t.jsx("img",{src:A.profileImage,alt:A.name,className:"flex-shrink-0 h-10 w-10 rounded-full object-cover"}):t.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:t.jsx(jt,{className:"h-5 w-5 text-indigo-600"})}),t.jsx("div",{className:"ml-4",children:t.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name})})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.age}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.classroom||"Not assigned"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.jsx("div",{className:"flex items-center",children:A.packageName})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.gender}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.parentName}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>se(A),className:"p-2 text-indigo-600 hover:text-indigo-900 hover:bg-indigo-50 rounded-full transition-colors",title:"Edit",children:t.jsx(Sn,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>F(A),className:"p-2 text-red-600 hover:text-red-900 hover:bg-red-50 rounded-full transition-colors",title:"Delete",children:t.jsx(Hs,{className:"w-5 h-5"})})]})})]},A.id))})]})})}),N&&t.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Confirm Deletion"}),t.jsx("button",{onClick:U,className:"text-gray-400 hover:text-gray-500 rounded-full p-1 hover:bg-gray-100",title:"Close",children:t.jsx(Ue,{className:"w-5 h-5"})})]}),t.jsxs("p",{className:"mb-6 text-gray-600",children:["Are you sure you want to delete child"," ",t.jsx("span",{className:"font-semibold text-gray-800",children:_==null?void 0:_.name}),"? This action cannot be undone."]}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:U,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),t.jsx("button",{onClick:S,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete"})]})]})})})]})}const sg="/assets/user-Ci1GeHlm.png",js=`${Ce}/teachers`,Dr={async createTeacher(r){const l=await fetch(`${js}/teacherRegister`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);return await l.json()},async getAllTeachers(){const r=await fetch(`${js}/teachers`);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()},async searchTeachers(r){const l=await fetch(`${js}/teachers/search?search=${encodeURIComponent(r)}`);if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);return await l.json()},async getTeacherById(r){const l=await fetch(`${js}/teachers/${r}`);if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);return await l.json()},async getAvailableGroups(){const r=await fetch(`${js}/available-groups`);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()},async updateTeacher(r,l){const n=await fetch(`${js}/teachers/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()},async deleteTeacher(r){const l=await fetch(`${js}/teachers/${r}`,{method:"DELETE"});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);return await l.json()}},u4=()=>{const[r,l]=y.useState([]),[n,a]=y.useState(""),[o,d]=y.useState(!1),[u,m]=y.useState(!1),[p,g]=y.useState(null),[x,v]=y.useState(!1),[b,C]=y.useState([]),[N,E]=y.useState(!1),[_,k]=y.useState({name:"",email:"",password:"teacher@123",nic:void 0,address:"",phone:void 0,image:"",cv:"",group_id:void 0}),[M,R]=y.useState(!1),[H,O]=y.useState(!1);y.useEffect(()=>{$()},[]),y.useEffect(()=>{const S=setTimeout(()=>{n.trim()?I():H&&$()},500);return()=>{clearTimeout(S)}},[n]);const $=async()=>{R(!0);try{const S=await Dr.getAllTeachers();S.success?l(S.teachers||[]):me.error(S.message||"Failed to load teachers")}catch(S){console.error("Error fetching teachers:",S),me.error("Failed to load teachers")}finally{R(!1),O(!1)}},I=async()=>{if(!n.trim()){$();return}R(!0),O(!0);try{const S=await Dr.searchTeachers(n);S.success?l(S.teachers||[]):me.error(S.message||"Search failed")}catch(S){console.error("Error searching teachers:",S),me.error("Search failed")}finally{R(!1)}},Y=S=>{const{name:T,value:U}=S.target;k({..._,[T]:T==="nic"||T==="phone"||T==="group_id"?U?parseInt(U):void 0:U})},G=async S=>{S.preventDefault(),R(!0);try{if(x&&p){const{password:T,...U}=_,A=await Dr.updateTeacher(p.id,U);A.success?(me.success("Teacher updated successfully!"),ue(),$()):me.error(A.message||"Failed to update teacher")}else{const T=await Dr.createTeacher(_);T.success?(me.success("Teacher added successfully!"),ue(),$()):me.error(T.message||"Failed to add teacher")}}catch(T){console.error("Error submitting form:",T),me.error("Failed to save teacher")}finally{R(!1)}},de=async()=>{if(p){R(!0);try{const S=await Dr.deleteTeacher(p.id);S.success?(me.success("Teacher deleted successfully!"),ue(),$()):me.error(S.message||"Failed to delete teacher")}catch(S){console.error("Error deleting teacher:",S),me.error("Failed to delete teacher")}finally{R(!1)}}},ue=()=>{d(!1),m(!1),g(null)},V=async()=>{E(!0);try{const S=await Dr.getAvailableGroups();S.success?C(S.groups||[]):(console.error("Failed to fetch available groups:",S.message),C([]))}catch(S){console.error("Error fetching available groups:",S),C([])}finally{E(!1)}},ne=async()=>{d(!0),v(!1),k({name:"",email:"",password:"teacher@123",nic:void 0,address:"",phone:void 0,image:"",cv:"",group_id:void 0}),await V()},se=S=>{d(!0),v(!0),g(S),k({name:S.name,email:S.email,password:"",nic:S.nic,address:S.address||"",phone:S.phone,image:S.image||"",cv:S.cv||"",group_id:S.group_id})},F=S=>{m(!0),g(S)};return M?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center",children:t.jsx("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Teachers"})})}),t.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Jt,{className:"absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search teachers by name, email, phone, classroom or subjects...",className:"pl-10 pr-4 py-2 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:n,onChange:S=>a(S.target.value)})]}),t.jsxs("button",{onClick:ne,className:"btn-primary flex items-center justify-center bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg transition-colors whitespace-nowrap",children:[t.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Add Teacher"]})]})}),t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:r.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Teacher"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(S=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full overflow-hidden",children:t.jsx("img",{src:S.image&&S.image.trim()!==""?S.image:sg,alt:S.name,onError:T=>{T.target.src=sg}})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.name}),t.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",S.id]})]})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[t.jsx(Gr,{className:"mr-2 w-4 h-4"}),S.email]}),t.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[t.jsx(kc,{className:"mr-2 w-4 h-4"}),S.phone||"N/A"]})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm text-gray-900",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"NIC:"})," ",S.nic||"N/A"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Address:"})," ",S.address||"N/A"]}),S.group_name&&t.jsxs("div",{children:[t.jsx("strong",{children:"Group:"})," ",S.group_name]})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[t.jsx("button",{onClick:()=>se(S),className:"text-indigo-600 hover:text-indigo-900 p-1 rounded hover:bg-indigo-50",title:"Edit",children:t.jsx(Sn,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>F(S),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Delete",children:t.jsx(Hs,{className:"w-4 h-4"})})]})]},S.id))})]})}):t.jsxs("div",{className:"text-center py-10",children:[t.jsx("p",{className:"text-gray-500",children:H?"No matching teachers found":"No teachers found"}),t.jsxs("button",{onClick:ne,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[t.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Add New Teacher"]})]})}),o&&t.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:x?"Edit Teacher":"Add New Teacher"}),t.jsx("button",{onClick:ue,className:"text-gray-400 hover:text-gray-500",title:"Close",children:t.jsx(Ue,{className:"h-6 w-6"})})]}),t.jsx("form",{onSubmit:G,className:"space-y-5 bg-white rounded-lg shadow-sm p-6 ",children:t.jsx("div",{children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-medium text-indigo-700 border-b border-indigo-100 pb-2",children:"Teacher Information"}),t.jsxs("div",{className:"flex flex-row gap-10 justify-between",children:[t.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),t.jsx("input",{type:"text",name:"name",value:_.name,onChange:Y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,placeholder:"Enter full name",title:"Full Name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),t.jsx("input",{type:"email",name:"email",value:_.email,onChange:Y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,placeholder:"Enter email address"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 hidden",children:"Password"}),t.jsx("input",{type:"password",name:"password",value:"teacher@123",onChange:Y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 hidden",required:!x,minLength:6,placeholder:x?"Leave blank to keep current password":"Enter password (min 6 characters)"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIC *"}),t.jsx("input",{type:"number",name:"nic",value:_.nic||"",onChange:Y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter NIC number",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),t.jsx("input",{type:"text",name:"address",value:_.address,onChange:Y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,placeholder:"Enter address"})]})]}),t.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),t.jsx("input",{type:"tel",name:"phone",value:_.phone||"",onChange:Y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter phone number"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CV URL (Optional)"}),t.jsx("input",{type:"url",name:"cv",value:_.cv||"",onChange:Y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter CV URL"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 hidden",children:"Profile Image URL (Optional)"}),t.jsx("input",{type:"url",name:"image",value:_.image||"https://pixabay.com/vectors/blank-profile-picture-mystery-man-973460/",onChange:Y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 hidden",placeholder:"Enter profile image URL"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign to Group (Optional)"}),N?t.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500",children:"Loading available groups..."}):b.length===0?t.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500",children:"No groups available for assignment"}):t.jsxs("select",{name:"group_id",value:_.group_id||"",onChange:Y,"aria-label":"Select group for teacher assignment",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"",children:"Select a group (optional)"}),b.map(S=>t.jsxs("option",{value:S.group_id,children:[S.name," (Age: ",S.age_category,") -",S.available_position==="main_teacher"?" Main Teacher":" Co-Teacher"," ","position"]},S.group_id))]}),b.length>0&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only groups with available teacher positions are shown"})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:ue,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsxs("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:[x?"Update":"Add"," Teacher"]})]})]})]})]})})})]})})}),u&&t.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Confirm Deletion"}),t.jsxs("button",{onClick:ue,className:"text-gray-400 hover:text-gray-500",title:"Close",children:[t.jsx(Ue,{className:"w-6 h-6"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]}),t.jsxs("p",{className:"mb-6 text-gray-600",children:["Are you sure you want to delete teacher"," ",t.jsx("span",{className:"font-semibold",children:p==null?void 0:p.name}),"? This action cannot be undone."]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx("button",{onClick:ue,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:de,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})})]})},qo="http://localhost:5001/api",ti=10,f4=()=>{const[r,l]=y.useState([]),[n,a]=y.useState({totalRevenue:0,paidAmount:0,pendingAmount:0}),[o,d]=y.useState(!1),[u,m]=y.useState(""),[p,g]=y.useState(""),[x,v]=y.useState(1),[b,C]=y.useState(!1),[N,E]=y.useState("all"),[_,k]=y.useState(!1),[M,R]=y.useState(null),[H,O]=y.useState(!1),[$,I]=y.useState({key:"created_at",direction:"desc"}),[Y,G]=y.useState({method:"Cash",transaction_ref:"",notes:""}),de=y.useCallback(async()=>{d(!0),m("");try{const A=await fetch(`${qo}/supervisor/payments`,{headers:{Accept:"application/json"}});if(!A.ok){const z=await A.text();throw new Error(`Failed to fetch payments: ${A.status} ${z}`)}const j=await A.json();if(j.success)l(j.data);else throw new Error(j.message||"Failed to fetch payments")}catch(A){console.error("Error in fetchPayments:",A),m(A instanceof Error?A.message:"An error occurred")}finally{d(!1)}},[]),ue=y.useCallback(async()=>{try{const A=await fetch(`${qo}/supervisor/payments/stats`,{headers:{Accept:"application/json"}});if(!A.ok)throw new Error("Failed to fetch payment statistics");const j=await A.json();if(j.success){const z=j.data.reduce((W,P)=>{const q=parseFloat(P.total_amount)||0;return P.status.toLowerCase()==="paid"?W.paidAmount=q:P.status.toLowerCase()==="pending"&&(W.pendingAmount=q),W.totalRevenue=W.paidAmount+W.pendingAmount,W},{totalRevenue:0,paidAmount:0,pendingAmount:0});a(z)}}catch(A){console.error("Error fetching payment stats:",A)}},[]),V=async()=>{if(M)try{const A=await fetch(`${qo}/supervisor/payments/${M.payment_id}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({status:"Paid",...Y})});if(!A.ok)throw new Error("Failed to process payment");(await A.json()).success&&(k(!1),R(null),G({method:"Cash",transaction_ref:"",notes:""}),de(),ue())}catch(A){m(A instanceof Error?A.message:"Failed to process payment")}},ne=async A=>{try{const j=await fetch(`${qo}/supervisor/payments`,{headers:{Accept:"application/json"}});if(!j.ok)throw new Error(`Failed to export payments as ${A}`);const z=await j.blob(),W=window.URL.createObjectURL(z),P=document.createElement("a");P.href=W,P.download=`payments-${new Date().toISOString().split("T")[0]}.${A}`,document.body.appendChild(P),P.click(),window.URL.revokeObjectURL(W),document.body.removeChild(P)}catch(j){m(j instanceof Error?j.message:`Failed to export payments as ${A}`)}O(!1)};y.useEffect(()=>{de(),ue()},[de,ue]);const se=r.filter(A=>{var W,P;const j=p===""||((W=A.parent_name)==null?void 0:W.toLowerCase().includes(p.toLowerCase()))||((P=A.child_name)==null?void 0:P.toLowerCase().includes(p.toLowerCase()))||A.payment_id.toString().includes(p),z=N==="all"||A.status===N;return j&&z}).sort((A,j)=>{const z=A[$.key],W=j[$.key];return z===void 0&&W===void 0?0:z===void 0?1:W===void 0?-1:$.direction==="asc"?z<W?-1:1:z>W?-1:1}),F=Math.ceil(se.length/ti),S=se.slice((x-1)*ti,x*ti),T=A=>new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR"}).format(A),U=A=>{I(j=>({key:A,direction:j.key===A&&j.direction==="asc"?"desc":"asc"}))};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Payments"})}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o?"Loading...":`${r.length} total payments`})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs("button",{onClick:()=>O(!0),className:"btn-outline",children:[t.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Export"]}),t.jsx("button",{onClick:()=>{de(),ue()},className:"btn-primary",disabled:o,children:"Refresh"})]})]}),u&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[t.jsx(ja,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),t.jsx("p",{className:"text-sm text-red-700 mt-1",children:u})]}),t.jsx("button",{onClick:()=>m(""),className:"text-red-400 hover:text-red-500",children:t.jsx(Ue,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[t.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ts,{className:"text-indigo-600 mr-2"}),t.jsx("h3",{className:"font-medium",children:"Total Revenue"})]}),t.jsx("p",{className:"text-2xl font-bold mt-2",children:T(n.totalRevenue)})]}),t.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(ci,{className:"text-green-600 mr-2"}),t.jsx("h3",{className:"font-medium",children:"Paid"})]}),t.jsx("p",{className:"text-2xl font-bold mt-2",children:T(n.paidAmount)})]}),t.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(ss,{className:"text-yellow-600 mr-2"}),t.jsx("h3",{className:"font-medium",children:"Pending"})]}),t.jsx("p",{className:"text-2xl font-bold mt-2",children:T(n.pendingAmount)})]})]}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{className:"relative flex-1 max-w-md",children:[t.jsx(Jt,{className:"absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search payments...",className:"pl-10 pr-4 py-2 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:p,onChange:A=>g(A.target.value)})]}),t.jsx("div",{className:"flex space-x-2",children:t.jsxs("div",{className:"relative",children:[t.jsxs("button",{className:"btn-outline flex items-center",onClick:()=>C(!b),children:[t.jsx(Lr,{className:"w-4 h-4 mr-2"}),N==="all"?"All Status":N==="paid"?"Paid":"Pending",b?t.jsx(At,{className:"w-4 h-4 ml-2"}):t.jsx(pt,{className:"w-4 h-4 ml-2"})]}),b&&t.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:t.jsxs("div",{className:"p-2 space-y-1",children:[t.jsx("button",{className:`w-full text-left px-4 py-2 text-sm rounded hover:bg-gray-50 ${N==="all"?"bg-indigo-50 text-indigo-600":""}`,onClick:()=>{E("all"),C(!1)},children:"All Payments"}),t.jsx("button",{className:`w-full text-left px-4 py-2 text-sm rounded hover:bg-gray-50 ${N==="paid"?"bg-indigo-50 text-indigo-600":""}`,onClick:()=>{E("paid"),C(!1)},children:"Paid"}),t.jsx("button",{className:`w-full text-left px-4 py-2 text-sm rounded hover:bg-gray-50 ${N==="pending"?"bg-indigo-50 text-indigo-600":""}`,onClick:()=>{E("pending"),C(!1)},children:"Pending"})]})})]})})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>U("payment_id"),children:t.jsxs("div",{className:"flex items-center",children:["Payment ID",$.key==="payment_id"&&($.direction==="asc"?t.jsx(At,{className:"ml-1 w-4 h-4"}):t.jsx(pt,{className:"ml-1 w-4 h-4"}))]})}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parent"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Child"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>U("amount"),children:t.jsxs("div",{className:"flex items-center",children:["Amount",$.key==="amount"&&($.direction==="asc"?t.jsx(At,{className:"ml-1 w-4 h-4"}):t.jsx(pt,{className:"ml-1 w-4 h-4"}))]})}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>U("created_at"),children:t.jsxs("div",{className:"flex items-center",children:["Date",$.key==="created_at"&&($.direction==="asc"?t.jsx(At,{className:"ml-1 w-4 h-4"}):t.jsx(pt,{className:"ml-1 w-4 h-4"}))]})}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>U("status"),children:t.jsxs("div",{className:"flex items-center",children:["Status",$.key==="status"&&($.direction==="asc"?t.jsx(At,{className:"ml-1 w-4 h-4"}):t.jsx(pt,{className:"ml-1 w-4 h-4"}))]})}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o?t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-6 py-4 text-center",children:t.jsx("div",{className:"flex justify-center items-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})})})}):S.length>0?S.map(A=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.payment_id}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.parent_name}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.child_name||`Child ${A.child_id}`}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T(parseFloat(A.amount))}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(A.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${A.status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:A.status==="paid"?"Paid":"Pending"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:A.status==="pending"&&t.jsx("button",{onClick:()=>{R(A),k(!0)},className:"text-indigo-600 hover:text-indigo-900",children:"Process Payment"})})]},A.payment_id)):t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No payments found"})})})]})}),F>1&&t.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 px-4 py-3 sm:px-6 mt-4",children:[t.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[t.jsx("button",{onClick:()=>v(A=>Math.max(A-1,1)),disabled:x===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),t.jsx("button",{onClick:()=>v(A=>Math.min(A+1,F)),disabled:x===F,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),t.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[t.jsx("div",{children:t.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",t.jsx("span",{className:"font-medium",children:(x-1)*ti+1})," ","to"," ",t.jsx("span",{className:"font-medium",children:Math.min(x*ti,se.length)})," ","of"," ",t.jsx("span",{className:"font-medium",children:se.length})," ","results"]})}),t.jsx("div",{children:t.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[t.jsxs("button",{onClick:()=>v(A=>Math.max(A-1,1)),disabled:x===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[t.jsx("span",{className:"sr-only",children:"Previous"}),t.jsx(At,{className:"h-5 w-5 rotate-[-90deg]"})]}),[...Array(F)].map((A,j)=>t.jsx("button",{onClick:()=>v(j+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${x===j+1?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:j+1},j+1)),t.jsxs("button",{onClick:()=>v(A=>Math.min(A+1,F)),disabled:x===F,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[t.jsx("span",{className:"sr-only",children:"Next"}),t.jsx(pt,{className:"h-5 w-5 rotate-[-90deg]"})]})]})})]})]})]}),_&&M&&t.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Process Payment"}),t.jsx("button",{onClick:()=>k(!1),children:t.jsx(Ue,{className:"w-6 h-6 text-gray-400 hover:text-gray-500"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Parent"}),t.jsx("p",{className:"mt-1 text-sm text-gray-900",children:M.parent_name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),t.jsx("p",{className:"mt-1 text-sm text-gray-900",children:T(parseFloat(M.amount))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),t.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:Y.method,onChange:A=>G(j=>({...j,method:A.target.value})),children:[t.jsx("option",{value:"Cash",children:"Cash"}),t.jsx("option",{value:"Card",children:"Card"}),t.jsx("option",{value:"Online",children:"Online"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transaction Reference"}),t.jsx("input",{type:"text",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:Y.transaction_ref,onChange:A=>G(j=>({...j,transaction_ref:A.target.value})),placeholder:"Enter transaction reference"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),t.jsx("textarea",{rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:Y.notes,onChange:A=>G(j=>({...j,notes:A.target.value})),placeholder:"Add any additional notes"})]})]}),t.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[t.jsx("button",{onClick:()=>k(!1),className:"btn-outline",children:"Cancel"}),t.jsx("button",{onClick:V,className:"btn-primary",disabled:o,children:o?"Processing...":"Process Payment"})]})]})}),H&&t.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Export Payments"}),t.jsx("button",{onClick:()=>O(!1),children:t.jsx(Ue,{className:"w-6 h-6 text-gray-400 hover:text-gray-500"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Choose a format to export the payments data:"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:()=>ne("csv"),className:"flex flex-col items-center justify-center p-4 border border-gray-200 rounded-lg hover:border-indigo-500 hover:bg-indigo-50",children:[t.jsx(da,{className:"w-8 h-8 text-gray-400 mb-2"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:"CSV Format"}),t.jsx("span",{className:"text-xs text-gray-500",children:"Spreadsheet"})]}),t.jsxs("button",{onClick:()=>ne("pdf"),className:"flex flex-col items-center justify-center p-4 border border-gray-200 rounded-lg hover:border-indigo-500 hover:bg-indigo-50",children:[t.jsx(da,{className:"w-8 h-8 text-gray-400 mb-2"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:"PDF Format"}),t.jsx("span",{className:"text-xs text-gray-500",children:"Document"})]})]})]})]})})]})},m4={1:"All",2:"Teachers",3:"Parents"},h4={All:1,Teachers:2,Parents:3},p4=({message:r,type:l,onClose:n})=>(y.useEffect(()=>{const a=setTimeout(n,3e3);return()=>clearTimeout(a)},[n]),t.jsx("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300 ${l==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:r}),t.jsx("button",{onClick:n,className:"ml-2 text-white hover:text-gray-200",title:"Close notification",children:t.jsx(Ue,{className:"w-4 h-4"})})]})})),x4=()=>{const{user:r}=La(),l=()=>{const P=new Date,q=P.getFullYear(),he=String(P.getMonth()+1).padStart(2,"0"),X=String(P.getDate()).padStart(2,"0");return`${q}-${he}-${X}`},[n,a]=y.useState([]),[o,d]=y.useState([]),[u,m]=y.useState(""),[p,g]=y.useState(""),[x,v]=y.useState(!1),[b,C]=y.useState(!1),[N,E]=y.useState(null),[_,k]=y.useState(()=>{const P=new Date;return{title:"",details:"",date:l(),time:P.toTimeString().slice(0,5),audience:"All",user_id:r!=null&&r.id?String(r.id):"",attachment:""}}),[M,R]=y.useState(!1),[H,O]=y.useState(!1),[$,I]=y.useState(null),Y=`${Ce}/announcements`;y.useEffect(()=>{r!=null&&r.id&&k(P=>({...P,user_id:String(r.id)}))},[r==null?void 0:r.id]);const G=P=>P?typeof P=="string"&&P.includes("T")?P.split("T")[0]:String(P):"N/A",de=P=>{if(!P)return"N/A";try{let q;return typeof P=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(P)?q=new Date(P+"T00:00:00Z"):q=new Date(P),isNaN(q.getTime())?String(P):q.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"})}catch(q){return console.error("Error formatting date:",q,P),String(P)}},ue=P=>{if(!P)return{date:"N/A",time:"N/A"};try{let q;return typeof P=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(P)?q=new Date(P+"T00:00:00Z"):q=new Date(P),isNaN(q.getTime())?{date:"Invalid Date",time:"N/A"}:{date:q.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"}),time:q.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",timeZone:"UTC"})}}catch(q){return console.error("Error formatting date:",q,P),{date:String(P),time:"N/A"}}},V=(P,q)=>{I({message:P,type:q})},ne=y.useCallback(async()=>{R(!0);try{const P=await fetch(Y);if(!P.ok)throw new Error("Failed to fetch announcements");const q=await P.json(),X=(Array.isArray(q)?q:q.data||[]).map((pe,Ne)=>({ann_id:pe.ann_id||`ann_${Ne}`,title:pe.title||"",details:pe.details||"",date:pe.date||"",time:pe.time||"",audience:m4[Number(pe.audience)]||"All",created_at:pe.created_at||new Date().toISOString(),attachment:pe.attachment||"",session_id:pe.session_id||"",user_id:pe.user_id||"",updated_at:pe.updated_at||""}));a(X),d(X)}catch(P){V("Failed to load announcements","error"),console.error("Error fetching announcements:",P)}finally{R(!1),O(!1)}},[Y]),se=y.useCallback(()=>{if(!u&&!p){d(n);return}O(!0);const P=setTimeout(()=>{const q=n.filter(he=>{const X=u?he.title.toLowerCase().includes(u.toLowerCase())||he.details.toLowerCase().includes(u.toLowerCase()):!0,pe=p?he.date&&typeof he.date=="string"&&G(he.date).includes(p):!0;return X&&pe});d(q),O(!1)},300);return()=>clearTimeout(P)},[u,p,n]),F=async P=>{const q={title:P.title,details:P.details,date:P.date,time:P.time,audience:h4[P.audience]||1,user_id:P.user_id},he=await fetch(Y,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(q)});if(!he.ok){const X=await he.json();throw new Error(X.message||"Failed to create announcement")}return await he.json()},S=async P=>{const q=await fetch(`${Y}/${P}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!q.ok)throw new Error("Failed to delete announcement");return await q.json()};y.useEffect(()=>{ne()},[ne]),y.useEffect(()=>{se()},[u,p,se]);const T=P=>{const{name:q,value:he}=P.target;k({..._,[q]:he})},U=()=>{const P=new Date;v(!0),k({title:"",details:"",date:l(),time:P.toTimeString().slice(0,5),audience:"All",user_id:r!=null&&r.id?String(r.id):"",attachment:""})},A=()=>{v(!1),C(!1),E(null)},j=async P=>{if(P.preventDefault(),!_.title.trim()||!_.details.trim()||!_.date||!_.time||!_.user_id){V("Please fill in all required fields","error");return}const q=l();if(_.date!==q){V("Can only create announcements for today","error");return}if(!r){V("You must be logged in to create announcements","error");return}try{const he=await F({..._}),X=he.data||he;a([X,...n]),V("Announcement created successfully!","success"),A(),ne()}catch(he){he instanceof Error?V(he.message||"An error occurred","error"):V("An error occurred","error")}},z=async()=>{if(N)try{await S(N.ann_id),a(n.filter(P=>P.ann_id!==N.ann_id)),V("Announcement deleted successfully!","success"),A(),ne()}catch{V("Failed to delete announcement","error")}},W=()=>{m(""),g("")};return M?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs("div",{className:"space-y-6",children:[$&&t.jsx(p4,{message:$.message,type:$.type,onClose:()=>I(null)}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Announcements"})}),(r==null?void 0:r.session_id)&&t.jsxs("span",{className:"text-sm text-gray-500",children:["Session: ",r.session_id]})]}),t.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Jt,{className:"absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search by topic or content...",className:"pl-10 pr-10 py-2 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:u,onChange:P=>m(P.target.value)}),H&&t.jsx("span",{className:"absolute right-3 top-3",children:t.jsxs("svg",{className:"animate-spin h-5 w-5 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]})})]}),t.jsxs("div",{className:"relative flex-1",children:[t.jsx(vt,{className:"absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:"date",placeholder:"Filter by date...",className:"pl-10 pr-4 py-2 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:p,onChange:P=>g(P.target.value)})]}),t.jsxs("button",{onClick:U,className:"btn-primary flex items-center justify-center bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg transition-colors whitespace-nowrap",children:[t.jsx(Wt,{className:"w-4 h-4 mr-2"}),"New Announcement"]})]}),(u||p)&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-sm text-gray-500",children:["Showing ",o.length," results",u&&` for "${u}"`,p&&` on ${p}`]}),t.jsx("button",{onClick:W,className:"text-sm text-indigo-600 hover:text-indigo-800",children:"Clear filters"})]})]})}),t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:o.length>0?t.jsx("div",{className:"space-y-4",children:o.map(P=>t.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:[t.jsx("div",{className:"flex justify-between items-start",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:P.title}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:P.details}),t.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["To: ",P.audience]}),t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Date: ",de(P.date)]}),P.time&&t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Time:"," ",typeof P.time=="string"?P.time.slice(0,5):P.time]}),P.session_id&&t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"}),P.attachment&&t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Attachment"})]})]})}),t.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:[t.jsx("div",{className:"flex items-center"}),P.updated_at&&t.jsx("div",{className:"flex items-center mt-1",children:t.jsxs("span",{children:["Updated:"," ",ue(P.updated_at).date," at"," ",ue(P.updated_at).time]})})]})]},P.ann_id))}):t.jsxs("div",{className:"text-center py-10",children:[t.jsx("p",{className:"text-gray-500",children:H?"Searching...":u||p?"No matching announcements found":"No announcements found"}),u||p?t.jsx("button",{onClick:W,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Clear search filters"}):t.jsxs("button",{onClick:U,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[t.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Create New Announcement"]})]})}),x&&t.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"New Announcement"}),t.jsx("button",{onClick:A,className:"text-gray-400 hover:text-gray-500",title:"Close",children:t.jsx(Ue,{className:"h-6 w-6"})})]}),t.jsxs("form",{onSubmit:j,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title*"}),t.jsx("input",{type:"text",name:"title",value:_.title,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter a title",maxLength:100,required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Details*"}),t.jsx("textarea",{name:"details",value:_.details,onChange:T,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,placeholder:"Enter announcement details"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Audience*"}),t.jsxs("select",{name:"audience",value:_.audience,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,title:"Select target audience",children:[t.jsx("option",{value:"All",children:"All"}),t.jsx("option",{value:"Teachers",children:"Teachers"}),t.jsx("option",{value:"Parents",children:"Parents"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date*"}),t.jsx("input",{type:"text",name:"date",value:new Date(_.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),readOnly:!0,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 cursor-not-allowed text-gray-700",title:"Date is automatically set to today"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Automatically set to today"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time*"}),t.jsx("input",{type:"time",name:"time",value:_.time,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,title:"Select announcement time"})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Create Announcement"})]})]})]})})}),b&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Confirm Deletion"}),t.jsxs("button",{onClick:A,className:"text-gray-400 hover:text-gray-500",title:"Close",children:[t.jsx(Ue,{className:"w-6 h-6"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]}),t.jsxs("p",{className:"mb-6 text-gray-600",children:["Are you sure you want to delete announcement"," ",t.jsxs("span",{className:"font-semibold",children:['"',N==null?void 0:N.title,'"']}),"? This action cannot be undone."]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx("button",{onClick:A,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:z,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})})]})},g4=()=>{const[r,l]=iy(),[n,a]=y.useState([]),[o,d]=y.useState(""),[u,m]=y.useState("All Status"),[p,g]=y.useState(!1),[x,v]=y.useState(!1),[b,C]=y.useState(!1),[N,E]=y.useState(null),[_]=y.useState(!1),[k,M]=y.useState({child_id:0,recipient:"supervisor",meeting_date:"",meeting_time:"",reason:"",response:""}),[R,H]=y.useState(!1),[O,$]=y.useState(!1),[I,Y]=y.useState(!1),[G,de]=y.useState(!1),[ue,V]=y.useState(""),[ne,se]=y.useState(null),F=[{child_id:1,name:"Damsara Perera",parent_name:"Malith Perera"},{child_id:2,name:"Mohomad Ahmed",parent_name:"Farshad Ahmed"},{child_id:3,name:"Silva Silva",parent_name:"Chathumini Silva"},{child_id:4,name:"Lakshmi Fernando",parent_name:"Priya Fernando"}],S={total:n.length,confirmed:n.filter(te=>te.status==="confirmed").length,pending:n.filter(te=>te.status==="pending").length,cancelled:n.filter(te=>te.status==="cancelled").length},T=y.useCallback(async()=>{H(!0);try{const te=await $a.getMeetingsByRecipient("supervisor");a(te)}catch(te){console.error("Error fetching supervisor meetings:",te),me.error("Failed to load supervisor meetings")}finally{H(!1),$(!1)}},[]);y.useEffect(()=>{T()},[T]),y.useEffect(()=>{const te=r.get("meeting_id");if(te&&n.length>0){const J=n.find(xe=>xe.meeting_id===parseInt(te));J&&(C(!0),E(J),j(J.meeting_id),l({}))}},[r,n]);const U=y.useCallback(async()=>{if(!o.trim()&&u==="All Status"){T();return}H(!0),$(!0);try{const te={};o.trim()&&(te.searchTerm=o),u!=="All Status"&&(te.status=u.toLowerCase());const J=await $a.searchMeetings(te);a(J)}catch(te){console.error("Error searching supervisor meetings:",te),me.error("Search failed")}finally{H(!1)}},[o,u,T]);y.useEffect(()=>{const te=setTimeout(()=>{(o.trim()||u!=="All Status"||O)&&U()},500);return()=>{clearTimeout(te)}},[U,o,u,O]);const A=te=>{const{name:J,value:xe}=te.target;M({...k,[J]:xe})},j=async te=>{Y(!0);try{const J=await $a.getMeetingById(te);E(J),me.success("Meeting details loaded successfully")}catch(J){console.error("Error fetching meeting details:",J);const xe=J instanceof Error?J.message:"Failed to load meeting details";me.error(xe)}finally{Y(!1)}},z=async te=>{C(!0),E(te),await j(te.meeting_id)},W=async()=>{N&&await j(N.meeting_id)},P=()=>{g(!1),v(!1),C(!1),de(!1),E(null),V(""),se(null)},q=te=>{if(te.status!=="confirmed"&&te.status!=="cancelled"){me.warning("Can only add notes to Confirmed or Cancelled meetings");return}de(!0),E(te),se(te.meeting_id),V(te.response||"")},he=async()=>{if(!ue.trim()){me.error("Please enter a response or note");return}if(ne!==null)try{const te=await $a.updateMeetingResponse(ne,ue.trim());a(n.map(J=>J.meeting_id===ne?te:J)),N&&N.meeting_id===ne&&E(te),me.success("Response updated successfully!"),P()}catch(te){console.error("Error saving response:",te);const J=te instanceof Error?te.message:"Failed to save response";me.error(J)}},X=async()=>{if(ne!==null)try{const te=await $a.updateMeetingResponse(ne,"");a(n.map(J=>J.meeting_id===ne?te:J)),N&&N.meeting_id===ne&&E(te),me.success("Response deleted successfully!"),P()}catch(te){console.error("Error deleting response:",te);const J=te instanceof Error?te.message:"Failed to delete response";me.error(J)}},pe=async(te,J)=>{console.log("=== FRONTEND: updateMeetingStatus ==="),console.log("Meeting ID:",te),console.log("New Status:",J);try{const xe=await $a.updateMeetingStatus(te,J);console.log("Updated meeting received:",xe),a(n.map(Se=>Se.meeting_id===te?xe:Se)),N&&N.meeting_id===te&&(console.log("Updating current meeting in view modal"),E(xe)),me.success(`Meeting ${J} successfully!`),console.log("Status update completed successfully")}catch(xe){console.error("Error updating status:",xe);const Se=xe instanceof Error?xe.message:`Failed to update status to ${J}`;me.error(Se)}},Ne=async te=>{te.preventDefault();try{let J;if(_&&N){const xe={meeting_date:k.meeting_date,meeting_time:k.meeting_time,reason:k.reason,response:k.response};J=await $a.updateMeeting(N.meeting_id,xe),a(n.map(Se=>Se.meeting_id===J.meeting_id?J:Se)),me.success("Supervisor meeting updated successfully!")}else J=await $a.createMeeting(k),a([J,...n]),me.success("Supervisor meeting scheduled successfully!");P()}catch(J){console.error("Error submitting meeting:",J);const xe=J instanceof Error?J.message:"An error occurred";me.error(xe)}},We=async()=>{if(N)try{await $a.deleteMeeting(N.meeting_id),a(n.filter(te=>te.meeting_id!==N.meeting_id)),me.success("Supervisor meeting deleted successfully!"),P()}catch(te){console.error("Error deleting meeting:",te);const J=te instanceof Error?te.message:"Failed to delete meeting";me.error(J)}},fe=()=>{d(""),m("All Status"),T()};return R?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center",children:t.jsx("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Supervisor Appointments"})})}),t.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Jt,{className:"absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search supervisor appointments by child name, parent name, or reason...",className:"pl-10 pr-4 py-2 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:o,onChange:te=>d(te.target.value)})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Lr,{className:"absolute left-3 top-3 text-gray-400 w-4 h-4"}),t.jsxs("select",{value:u,onChange:te=>m(te.target.value),className:"pl-10 pr-8 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 appearance-none bg-white",title:"Filter by status","aria-label":"Filter meetings by status",children:[t.jsx("option",{value:"All Status",children:"All Status"}),t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Confirmed",children:"Confirmed"}),t.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),t.jsx("button",{onClick:fe,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"Clear"})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"border p-4 rounded-lg bg-white",children:[t.jsx("h3",{className:"text-sm text-gray-500",children:"Total Appointments"}),t.jsx("p",{className:"text-2xl font-bold",children:S.total})]}),t.jsxs("div",{className:"border p-4 rounded-lg bg-white",children:[t.jsx("h3",{className:"text-sm text-gray-500",children:"Confirmed"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:S.confirmed})]}),t.jsxs("div",{className:"border p-4 rounded-lg bg-white",children:[t.jsx("h3",{className:"text-sm text-gray-500",children:"Pending"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:S.pending})]}),t.jsxs("div",{className:"border p-4 rounded-lg bg-white",children:[t.jsx("h3",{className:"text-sm text-gray-500",children:"Cancelled"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:S.cancelled})]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:n.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full table-auto",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Parent & Child"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[12%]",children:"Date & Time"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[23%]",children:"Reason"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[10%]",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4",children:"Response/Notes"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[10%]",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(te=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-4 align-top",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx(jt,{className:"flex-shrink-0 h-8 w-8 text-indigo-600 mt-1"}),t.jsxs("div",{className:"ml-4 min-w-0 flex-1",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 break-words mb-1",children:te.parent_name}),t.jsxs("div",{className:"text-sm text-gray-500 break-words",children:[te.child_name," (",te.child_age," years)"]})]})]})}),t.jsxs("td",{className:"px-4 py-4 align-top",children:[t.jsx("div",{className:"text-sm text-gray-900",children:new Date(te.meeting_date).toLocaleDateString()}),t.jsx("div",{className:"text-sm text-gray-500",children:te.meeting_time})]}),t.jsx("td",{className:"px-4 py-4 align-top",children:t.jsx("div",{className:"text-sm text-gray-900 break-words leading-relaxed",children:te.reason})}),t.jsx("td",{className:"px-4 py-4 align-top",children:t.jsx("span",{className:`inline-flex px-2 py-1 text-xs rounded-full font-medium ${te.status==="confirmed"?"bg-green-100 text-green-800":te.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:te.status?te.status.charAt(0).toUpperCase()+te.status.slice(1):"Pending"})}),t.jsx("td",{className:"px-4 py-4 align-top",children:t.jsx("div",{className:"text-sm text-gray-700 break-words max-w-xs",children:te.response?te.response:t.jsx("span",{className:"text-gray-400 italic",children:"No notes"})})}),t.jsx("td",{className:"px-4 py-4 align-top",children:t.jsxs("div",{className:"flex flex-col space-y-1",children:[t.jsxs("button",{onClick:()=>z(te),className:"text-blue-600 hover:text-blue-900 flex items-center text-sm",title:"View Details",children:[t.jsx(Ta,{className:"w-4 h-4 mr-1"}),"View"]}),te.status==="pending"?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>pe(te.meeting_id,"confirmed"),className:"text-green-600 hover:text-green-900 flex items-center text-sm",title:"Confirm this meeting",children:"✓ Confirm"}),t.jsx("button",{onClick:()=>pe(te.meeting_id,"cancelled"),className:"text-red-600 hover:text-red-900 flex items-center text-sm",title:"Cancel this meeting",children:"✕ Cancel"})]}):t.jsxs("button",{onClick:()=>q(te),className:"text-purple-600 hover:text-purple-900 flex items-center text-sm",title:"Add/Edit Response",children:[t.jsx(Rf,{className:"w-4 h-4 mr-1"}),"Response"]})]})})]},te.meeting_id))})]})}):t.jsx("div",{className:"text-center py-10",children:t.jsx("p",{className:"text-gray-500",children:O?"No matching supervisor appointments found":"No supervisor appointments found"})})}),b&&N&&t.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Supervisor Appointment Details",I&&t.jsx("span",{className:"ml-2 text-sm text-blue-600",children:"(Loading...)"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:W,className:"text-blue-600 hover:text-blue-800 p-2 rounded-lg hover:bg-blue-50",title:"Refresh Data",disabled:I,children:t.jsx(Ec,{className:`h-5 w-5 ${I?"animate-spin":""}`})}),t.jsx("button",{onClick:P,className:"text-gray-400 hover:text-gray-500",title:"Close",children:t.jsx(Ue,{className:"h-6 w-6"})})]})]}),I&&t.jsxs("div",{className:"flex justify-center items-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-500"}),t.jsx("span",{className:"ml-3 text-gray-600",children:"Loading appointment details..."})]}),t.jsxs("div",{className:`space-y-6 ${I?"opacity-50":""}`,children:[t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Basic Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Parent Name"}),t.jsx("p",{className:"text-sm text-gray-900",children:N.parent_name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Child Name"}),t.jsx("p",{className:"text-sm text-gray-900",children:N.child_name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Child Age"}),t.jsxs("p",{className:"text-sm text-gray-900",children:[N.child_age," years"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Child Gender"}),t.jsx("p",{className:"text-sm text-gray-900",children:N.child_gender})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Recipient"}),t.jsx("p",{className:"text-sm text-gray-900 capitalize",children:N.recipient})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Status"}),t.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${N.status==="confirmed"?"bg-green-100 text-green-800":N.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:N.status?N.status.charAt(0).toUpperCase()+N.status.slice(1):"Pending"})]})]})]}),t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Contact Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(kc,{className:"w-4 h-4 text-gray-400 mr-2"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Phone"}),t.jsx("p",{className:"text-sm text-gray-900",children:N.parent_phone})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Email"}),t.jsx("p",{className:"text-sm text-gray-900",children:N.parent_email})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Address"}),t.jsx("p",{className:"text-sm text-gray-900",children:N.parent_address})]})]})]}),t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Meeting Details"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Date"}),t.jsx("p",{className:"text-sm text-gray-900",children:new Date(N.meeting_date).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Time"}),t.jsx("p",{className:"text-sm text-gray-900",children:N.meeting_time})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Reason"}),t.jsx("p",{className:"text-sm text-gray-900",children:N.reason})]}),N.response&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Response"}),t.jsx("p",{className:"text-sm text-gray-900",children:N.response})]})]})]})]}),t.jsx("div",{className:"flex justify-end space-x-3 pt-6",children:t.jsx("button",{onClick:P,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Close"})})]})})}),p&&t.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:_?"Edit Supervisor Appointment (Reason Only)":"Schedule New Supervisor Appointment"}),t.jsx("button",{onClick:P,className:"text-gray-400 hover:text-gray-500",title:"Close",children:t.jsx(Ue,{className:"h-6 w-6"})})]}),t.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[!_&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Child *"}),t.jsxs("select",{name:"child_id",value:k.child_id,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,title:"Select a child",children:[t.jsx("option",{value:0,children:"Select a child"}),F.map(te=>t.jsxs("option",{value:te.child_id,children:[te.name," - ",te.parent_name]},te.child_id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipient *"}),t.jsx("select",{name:"recipient",value:k.recipient,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,title:"Select recipient",children:t.jsx("option",{value:"supervisor",children:"Supervisor"})})]})]})}),!_&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),t.jsx("input",{type:"date",name:"meeting_date",value:k.meeting_date,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,placeholder:"Select date",title:"Select appointment date"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time *"}),t.jsx("input",{type:"time",name:"meeting_time",value:k.meeting_time,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,placeholder:"Select time",title:"Select appointment time"})]})]}),_&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Date"}),t.jsx("input",{type:"text",value:new Date((N==null?void 0:N.meeting_date)||"").toLocaleDateString(),className:"w-full px-3 py-2 border border-gray-200 rounded-md bg-gray-50 text-gray-600",readOnly:!0,title:"Current appointment date (read-only)"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Time"}),t.jsx("input",{type:"text",value:(N==null?void 0:N.meeting_time)||"",className:"w-full px-3 py-2 border border-gray-200 rounded-md bg-gray-50 text-gray-600",readOnly:!0,title:"Current appointment time (read-only)"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),t.jsx("textarea",{name:"reason",value:k.reason,onChange:A,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,placeholder:"Enter the reason for the meeting",title:"Meeting reason"})]}),!_&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Response (Optional)"}),t.jsx("textarea",{name:"response",value:k.response,onChange:A,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Add any initial response or notes",title:"Initial response or notes"})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsxs("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:[_?"Update":"Schedule"," Appointment"]})]})]})]})})}),x&&t.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Confirm Deletion"}),t.jsxs("button",{onClick:P,className:"text-gray-400 hover:text-gray-500",title:"Close",children:[t.jsx(Ue,{className:"w-6 h-6"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]}),t.jsxs("p",{className:"mb-6 text-gray-600",children:["Are you sure you want to delete the supervisor appointment with ",t.jsx("span",{className:"font-semibold",children:N==null?void 0:N.parent_name}),"? This action cannot be undone."]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx("button",{onClick:P,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:We,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})}),G&&N&&t.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Add/Edit Response & Notes"}),t.jsx("button",{onClick:P,className:"text-gray-400 hover:text-gray-500",title:"Close",children:t.jsx(Ue,{className:"h-6 w-6"})})]}),t.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Meeting Details"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-600",children:"Parent"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.parent_name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-600",children:"Child"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.child_name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-600",children:"Date & Time"}),t.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[new Date(N.meeting_date).toLocaleDateString()," at ",N.meeting_time]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-600",children:"Status"}),t.jsx("span",{className:`inline-flex px-2 py-1 text-xs rounded-full font-medium ${N.status==="confirmed"?"bg-green-100 text-green-800":N.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:N.status?N.status.charAt(0).toUpperCase()+N.status.slice(1):"Pending"})]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Response & Notes *"}),t.jsx("textarea",{value:ue,onChange:te=>V(te.target.value),rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none",placeholder:"Enter your response or notes for this meeting...",title:"Enter response or notes"}),t.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:[ue.length," characters"]})]}),t.jsxs("div",{className:"flex justify-between space-x-3 pt-6 border-t border-gray-200",children:[t.jsx("div",{children:N.response&&t.jsxs("button",{onClick:X,className:"px-4 py-2 border border-red-300 text-red-600 hover:bg-red-50 rounded-md flex items-center text-sm",title:"Delete Response",children:[t.jsx(Hs,{className:"w-4 h-4 mr-1"}),"Delete Response"]})}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:P,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsxs("button",{onClick:he,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 flex items-center",children:[t.jsx(Rf,{className:"w-4 h-4 mr-1"}),"Save Response"]})]})]})]})})})]})},y4=()=>{const[r,l]=y.useState(!1),[n,a]=y.useState(""),[o,d]=y.useState({child:"",age:"",allergies:"",medications:"",lastCheckup:"",notes:"",immunizationStatus:"Up to date"}),[u,m]=y.useState([{id:1,child:"Emma Johnson",age:4,allergies:"Peanuts",medications:"None",lastCheckup:"2023-04-15",status:"Up to date",notes:"No issues noted in last checkup"},{id:2,child:"Liam Chen",age:3,allergies:"None",medications:"Asthma inhaler",lastCheckup:"2023-05-10",status:"Needs update",notes:"Asthma checkup needed next month"},{id:3,child:"Olivia Smith",age:5,allergies:"Dairy",medications:"Antihistamines",lastCheckup:"2023-03-22",status:"Up to date",notes:"Managing dairy allergy well"}]),p=()=>{l(!0)},g=()=>{l(!1),d({child:"",age:"",allergies:"",medications:"",lastCheckup:"",notes:"",immunizationStatus:"Up to date"})},x=C=>{const{name:N,value:E}=C.target;d(_=>({..._,[N]:E}))},v=C=>{C.preventDefault();const N=o.immunizationStatus==="Up to date"?"Up to date":"Needs update",E={id:u.length+1,child:o.child,age:parseInt(o.age),allergies:o.allergies,medications:o.medications,lastCheckup:o.lastCheckup,status:N,notes:o.notes};m([E,...u]),g()},b=u.filter(C=>C.child.toLowerCase().includes(n.toLowerCase())||C.allergies.toLowerCase().includes(n.toLowerCase())||C.medications.toLowerCase().includes(n.toLowerCase()));return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[t.jsx(D1,{className:"mr-2 text-[#4f46e5]",size:24}),"Health Records"]}),t.jsxs("button",{onClick:p,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[t.jsx(Wt,{className:"w-4 h-4 mr-2"}),"New Record"]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"flex items-center mb-6",children:t.jsxs("div",{className:"relative flex-1 max-w-md",children:[t.jsx(Jt,{className:"absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search health records...",className:"pl-10 pr-4 py-2 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:n,onChange:C=>a(C.target.value)})]})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Child"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Allergies"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medications"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Checkup"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(C=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.child}),t.jsxs("div",{className:"text-sm text-gray-500",children:["Age: ",C.age]})]})})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.allergies}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.medications}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.lastCheckup}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${C.status==="Up to date"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:C.status})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[t.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"View"}),t.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:"Update"})]})]},C.id))})]})})]}),r&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[t.jsx(Wt,{className:"mr-2 text-indigo-600",size:20}),"New Health Record"]}),t.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-500",children:t.jsx(Ue,{className:"h-6 w-6"})})]}),t.jsxs("form",{onSubmit:v,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Child Name"}),t.jsx("input",{type:"text",name:"child",value:o.child,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age"}),t.jsx("input",{type:"number",name:"age",value:o.age,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Allergies"}),t.jsx("input",{type:"text",name:"allergies",value:o.allergies,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"None if no allergies"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medications"}),t.jsx("input",{type:"text",name:"medications",value:o.medications,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"None if no medications"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Checkup Date"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"date",name:"lastCheckup",value:o.lastCheckup,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 pl-10"}),t.jsx(vt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Immunization Status"}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{name:"immunizationStatus",value:o.immunizationStatus,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:[t.jsx("option",{value:"Up to date",children:"Up to date"}),t.jsx("option",{value:"Needs update",children:"Needs update"})]}),t.jsx(pt,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"})]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),t.jsx("textarea",{name:"notes",value:o.notes,onChange:x,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:g,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Save Record"})]})]})]})})})]})},b4=()=>{const r=[{id:1,name:"Art Class",date:"2023-05-18",time:"10:00 AM",duration:"1 hour",participants:12,location:"Art Room"},{id:2,name:"Music Lesson",date:"2023-05-19",time:"02:30 PM",duration:"45 mins",participants:8,location:"Music Room"},{id:3,name:"Outdoor Play",date:"2023-05-20",time:"11:15 AM",duration:"1.5 hours",participants:18,location:"Playground"}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[t.jsx(Ij,{className:"mr-2 text-[#4f46e5]",size:24}),"Activities Schedule"]}),t.jsxs("button",{className:"btn-primary",children:[t.jsx(Wt,{className:"w-4 h-4 mr-2"}),"New Activity"]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"flex items-center mb-6",children:t.jsxs("div",{className:"relative flex-1 max-w-md",children:[t.jsx(Jt,{className:"absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search activities...",className:"pl-10 pr-4 py-2 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(l=>t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:l.name}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(vt,{className:"mr-2 w-4 h-4 text-indigo-600"}),l.date," at ",l.time]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(ss,{className:"mr-2 w-4 h-4 text-indigo-600"}),"Duration: ",l.duration]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(It,{className:"mr-2 w-4 h-4 text-indigo-600"}),"Participants: ",l.participants]}),t.jsxs("div",{className:"flex items-center",children:[t.jsxs("svg",{className:"mr-2 w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Location: ",l.location]})]}),t.jsxs("div",{className:"mt-4 flex space-x-2",children:[t.jsx("button",{className:"text-sm text-indigo-600 hover:text-indigo-900",children:"Edit"}),t.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900",children:"Participants"}),t.jsx("button",{className:"text-sm text-red-600 hover:text-red-900",children:"Cancel"})]})]},l.id))})]})]})},Ss=`${Ce}/supervisor-reports`;class v4{async getAllReports(){try{return(await Ee.get(Ss)).data.data}catch(l){throw console.error("Error fetching supervisor reports:",l),l}}async getReportById(l){try{return(await Ee.get(`${Ss}/${l}`)).data.data}catch(n){throw console.error("Error fetching supervisor report:",n),n}}async getReportsByMonthYear(l,n){try{return(await Ee.get(`${Ss}/month/${l}/year/${n}`)).data.data}catch(a){throw console.error("Error fetching reports by month/year:",a),a}}async getMonthlyDataPreview(l,n){try{return(await Ee.get(`${Ss}/preview/${l}/${n}`)).data.data}catch(a){throw console.error("Error fetching monthly data preview:",a),a}}async generateMonthlyReport(l){try{return(await Ee.post(`${Ss}/generate`,l)).data.data}catch(n){throw console.error("Error generating monthly report:",n),n}}async updateReportPdf(l,n){try{return(await Ee.patch(`${Ss}/${l}/pdf`,{pdf_path:n})).data.data}catch(a){throw console.error("Error updating report PDF path:",a),a}}async deleteReport(l){try{await Ee.delete(`${Ss}/${l}`)}catch(n){throw console.error("Error deleting supervisor report:",n),n}}getMonthName(l){return["January","February","March","April","May","June","July","August","September","October","November","December"][l-1]||""}formatDate(l){return new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}formatFileSize(l){if(l===0)return"0 Bytes";const n=1024,a=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(l)/Math.log(n));return Math.round(l/Math.pow(n,o)*100)/100+" "+a[o]}}const yf=new v4,w4=()=>{var k;const[r,l]=y.useState(!1),[n,a]=y.useState(null),[o,d]=y.useState([]),[u,m]=y.useState(!1),[p,g]=y.useState(0),[x,v]=y.useState(new Date().getFullYear());y.useEffect(()=>{b()},[]);const b=async()=>{m(!0);try{const M=await yf.getAllReports();d(M)}catch(M){console.error("Error fetching reports:",M),me.error("Failed to load reports")}finally{m(!1)}},C=M=>{a(M),l(!0)},N=()=>{l(!1),a(null)},E=o.filter(M=>{const R=p===0||M.month===p,H=M.year===x;return R&&H}),_=Array.from(new Set(o.map(M=>M.year))).sort((M,R)=>R-M);return _.length===0&&_.push(new Date().getFullYear()),t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center",children:t.jsx("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Monthly Reports"})})}),t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:p,onChange:M=>g(parseInt(M.target.value)),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",title:"Filter by month","aria-label":"Filter by month",children:[t.jsx("option",{value:0,children:"All Months"}),t.jsx("option",{value:1,children:"January"}),t.jsx("option",{value:2,children:"February"}),t.jsx("option",{value:3,children:"March"}),t.jsx("option",{value:4,children:"April"}),t.jsx("option",{value:5,children:"May"}),t.jsx("option",{value:6,children:"June"}),t.jsx("option",{value:7,children:"July"}),t.jsx("option",{value:8,children:"August"}),t.jsx("option",{value:9,children:"September"}),t.jsx("option",{value:10,children:"October"}),t.jsx("option",{value:11,children:"November"}),t.jsx("option",{value:12,children:"December"})]}),t.jsx(pt,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400 pointer-events-none"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("select",{value:x,onChange:M=>v(parseInt(M.target.value)),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",title:"Filter by year","aria-label":"Filter by year",children:_.map(M=>t.jsx("option",{value:M,children:M},M))}),t.jsx(pt,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsx("tr",{children:t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Report Name"})})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u?t.jsx("tr",{children:t.jsx("td",{colSpan:1,className:"px-6 py-8 text-center",children:t.jsx("div",{className:"flex justify-center items-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-500"})})})}):E.length>0?E.map(M=>t.jsx("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>C(M),children:t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(da,{className:"flex-shrink-0 h-6 w-6 text-indigo-600 mr-3"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 hover:text-indigo-600",children:M.report_name}),t.jsxs("div",{className:"text-xs text-gray-500",children:[yf.getMonthName(M.month)," ",M.year]})]})]})})},M.report_id)):t.jsx("tr",{children:t.jsx("td",{colSpan:1,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No reports found matching your search criteria."})})})]})})]}),r&&n&&t.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[t.jsx(da,{className:"mr-2 text-indigo-600",size:20}),n.report_name]}),t.jsx("button",{onClick:N,className:"text-gray-400 hover:text-gray-500",title:"Close modal",children:t.jsx(Ue,{className:"h-6 w-6"})})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 p-4 rounded-lg border border-indigo-100",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Report Period"}),t.jsxs("p",{className:"text-lg font-semibold text-indigo-600",children:[yf.getMonthName(n.month)," ",n.year]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Report Summary"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[t.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"New Admissions"}),t.jsx("p",{className:"text-xl font-bold text-blue-600",children:n.report_data.children.newAdmissions})]}),t.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Total Enrolled"}),t.jsx("p",{className:"text-xl font-bold text-green-600",children:n.report_data.children.totalEnrolled})]}),t.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-100",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Total Complaints"}),t.jsx("p",{className:"text-xl font-bold text-yellow-600",children:n.report_data.complaints.total})]}),t.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-100",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Total Meetings"}),t.jsx("p",{className:"text-xl font-bold text-purple-600",children:n.report_data.meetings.total})]}),t.jsxs("div",{className:"bg-pink-50 p-3 rounded-lg border border-pink-100",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Total Events"}),t.jsx("p",{className:"text-xl font-bold text-pink-600",children:((k=n.report_data.events)==null?void 0:k.total)||0})]}),t.jsxs("div",{className:"bg-indigo-50 p-3 rounded-lg border border-indigo-100",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Avg. Attendance"}),t.jsxs("p",{className:"text-xl font-bold text-indigo-600",children:[n.report_data.attendance.averageRate,"%"]})]})]})]})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-4 mb-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Detailed Metrics"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"👶 Children & Admissions"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"New Admissions"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.report_data.children.newAdmissions})]}),t.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Total Enrolled"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.report_data.children.totalEnrolled})]}),t.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Avg. Attendance"}),t.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[n.report_data.attendance.averageRate,"%"]})]})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"📝 Complaints"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Total"}),t.jsx("p",{className:"text-xl font-bold text-gray-700",children:n.report_data.complaints.total})]}),t.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Pending"}),t.jsx("p",{className:"text-xl font-bold text-yellow-600",children:n.report_data.complaints.pending})]}),t.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"In Progress"}),t.jsx("p",{className:"text-xl font-bold text-orange-600",children:n.report_data.complaints.inProgress})]}),t.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Solved"}),t.jsx("p",{className:"text-xl font-bold text-green-600",children:n.report_data.complaints.solved})]}),t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Closed"}),t.jsx("p",{className:"text-xl font-bold text-gray-600",children:n.report_data.complaints.closed})]})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"📅 Meetings & Appointments"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Total"}),t.jsx("p",{className:"text-xl font-bold text-gray-700",children:n.report_data.meetings.total})]}),t.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Pending"}),t.jsx("p",{className:"text-xl font-bold text-yellow-600",children:n.report_data.meetings.pending})]}),t.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Confirmed"}),t.jsx("p",{className:"text-xl font-bold text-green-600",children:n.report_data.meetings.confirmed})]}),t.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Cancelled"}),t.jsx("p",{className:"text-xl font-bold text-red-600",children:n.report_data.meetings.cancelled})]})]})]})]}),t.jsx("div",{className:"flex justify-end border-t border-gray-200 pt-4",children:t.jsx("button",{onClick:N,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Close"})})]})})})]})},Xy=6048e5,N4=864e5,zc=6e4,Yc=36e5,j4=1e3,rg=Symbol.for("constructDateFrom");function Ke(r,l){return typeof r=="function"?r(l):r&&typeof r=="object"&&rg in r?r[rg](l):r instanceof Date?new r.constructor(l):new Date(l)}function ve(r,l){return Ke(l||r,r)}function Ma(r,l,n){const a=ve(r,n==null?void 0:n.in);return isNaN(l)?Ke((n==null?void 0:n.in)||r,NaN):(l&&a.setDate(a.getDate()+l),a)}function Aa(r,l,n){const a=ve(r,n==null?void 0:n.in);if(isNaN(l))return Ke(r,NaN);if(!l)return a;const o=a.getDate(),d=Ke(r,a.getTime());d.setMonth(a.getMonth()+l+1,0);const u=d.getDate();return o>=u?d:(a.setFullYear(d.getFullYear(),d.getMonth(),o),a)}function Ky(r,l,n){return Ke(r,+ve(r)+l)}function S4(r,l,n){return Ky(r,l*Yc)}let C4={};function Fs(){return C4}function Cn(r,l){var m,p,g,x;const n=Fs(),a=(l==null?void 0:l.weekStartsOn)??((p=(m=l==null?void 0:l.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((x=(g=n.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??0,o=ve(r,l==null?void 0:l.in),d=o.getDay(),u=(d<a?7:0)+d-a;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function zr(r,l){return Cn(r,{...l,weekStartsOn:1})}function Wy(r,l){const n=ve(r,l==null?void 0:l.in),a=n.getFullYear(),o=Ke(n,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);const d=zr(o),u=Ke(n,0);u.setFullYear(a,0,4),u.setHours(0,0,0,0);const m=zr(u);return n.getTime()>=d.getTime()?a+1:n.getTime()>=m.getTime()?a:a-1}function mc(r){const l=ve(r),n=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()));return n.setUTCFullYear(l.getFullYear()),+r-+n}function _n(r,...l){const n=Ke.bind(null,l.find(a=>typeof a=="object"));return l.map(n)}function Us(r,l){const n=ve(r,l==null?void 0:l.in);return n.setHours(0,0,0,0),n}function Yr(r,l,n){const[a,o]=_n(n==null?void 0:n.in,r,l),d=Us(a),u=Us(o),m=+d-mc(d),p=+u-mc(u);return Math.round((m-p)/N4)}function _4(r,l){const n=Wy(r,l),a=Ke(r,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),zr(a)}function Bf(r,l,n){const a=ve(r,n==null?void 0:n.in);return a.setTime(a.getTime()+l*zc),a}function um(r,l,n){return Aa(r,l*3,n)}function D4(r,l,n){return Ky(r,l*1e3)}function hc(r,l,n){return Ma(r,l*7,n)}function yn(r,l,n){return Aa(r,l*12,n)}function lg(r,l){let n,a=l==null?void 0:l.in;return r.forEach(o=>{!a&&typeof o=="object"&&(a=Ke.bind(null,o));const d=ve(o,a);(!n||n<d||isNaN(+d))&&(n=d)}),Ke(a,n||NaN)}function ig(r,l){let n,a=l==null?void 0:l.in;return r.forEach(o=>{!a&&typeof o=="object"&&(a=Ke.bind(null,o));const d=ve(o,a);(!n||n>d||isNaN(+d))&&(n=d)}),Ke(a,n||NaN)}function k4(r,l,n){const[a,o]=_n(n==null?void 0:n.in,r,l);return+Us(a)==+Us(o)}function bn(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function pc(r){return!(!bn(r)&&typeof r!="number"||isNaN(+ve(r)))}function xc(r,l,n){const[a,o]=_n(n==null?void 0:n.in,r,l),d=a.getFullYear()-o.getFullYear(),u=a.getMonth()-o.getMonth();return d*12+u}function As(r,l){const n=ve(r,l==null?void 0:l.in);return Math.trunc(n.getMonth()/3)+1}function gc(r,l,n){const[a,o]=_n(n==null?void 0:n.in,r,l),d=a.getFullYear()-o.getFullYear(),u=As(a)-As(o);return d*4+u}function yc(r,l,n){const[a,o]=_n(n==null?void 0:n.in,r,l);return a.getFullYear()-o.getFullYear()}function E4(r,l,n){const[a,o]=_n(n==null?void 0:n.in,r,l),d=og(a,o),u=Math.abs(Yr(a,o));a.setDate(a.getDate()-d*u);const m=+(og(a,o)===-d),p=d*(u-m);return p===0?0:p}function og(r,l){const n=r.getFullYear()-l.getFullYear()||r.getMonth()-l.getMonth()||r.getDate()-l.getDate()||r.getHours()-l.getHours()||r.getMinutes()-l.getMinutes()||r.getSeconds()-l.getSeconds()||r.getMilliseconds()-l.getMilliseconds();return n<0?-1:n>0?1:n}function Zy(r,l){const n=ve(r,l==null?void 0:l.in);return n.setHours(23,59,59,999),n}function Jy(r,l){const n=ve(r,l==null?void 0:l.in),a=n.getMonth();return n.setFullYear(n.getFullYear(),a+1,0),n.setHours(23,59,59,999),n}function If(r,l){const n=ve(r,l==null?void 0:l.in),a=n.getMonth(),o=a-a%3;return n.setMonth(o,1),n.setHours(0,0,0,0),n}function eb(r,l){const n=ve(r,l==null?void 0:l.in);return n.setDate(1),n.setHours(0,0,0,0),n}function tb(r,l){const n=ve(r,l==null?void 0:l.in),a=n.getFullYear();return n.setFullYear(a+1,0,0),n.setHours(23,59,59,999),n}function Hc(r,l){const n=ve(r,l==null?void 0:l.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function T4(r,l){var m,p;const n=Fs(),a=n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,o=ve(r,l==null?void 0:l.in),d=o.getDay(),u=(d<a?-7:0)+6-(d-a);return o.setDate(o.getDate()+u),o.setHours(23,59,59,999),o}const M4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},A4=(r,l,n)=>{let a;const o=M4[r];return typeof o=="string"?a=o:l===1?a=o.one:a=o.other.replace("{{count}}",l.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function bf(r){return(l={})=>{const n=l.width?String(l.width):r.defaultWidth;return r.formats[n]||r.formats[r.defaultWidth]}}const R4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},O4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},L4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},P4={date:bf({formats:R4,defaultWidth:"full"}),time:bf({formats:O4,defaultWidth:"full"}),dateTime:bf({formats:L4,defaultWidth:"full"})},U4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},z4=(r,l,n,a)=>U4[r];function ai(r){return(l,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let o;if(a==="formatting"&&r.formattingValues){const u=r.defaultFormattingWidth||r.defaultWidth,m=n!=null&&n.width?String(n.width):u;o=r.formattingValues[m]||r.formattingValues[u]}else{const u=r.defaultWidth,m=n!=null&&n.width?String(n.width):r.defaultWidth;o=r.values[m]||r.values[u]}const d=r.argumentCallback?r.argumentCallback(l):l;return o[d]}}const Y4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},H4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},F4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},B4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},I4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q4=(r,l)=>{const n=Number(r),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},V4={ordinalNumber:q4,era:ai({values:Y4,defaultWidth:"wide"}),quarter:ai({values:H4,defaultWidth:"wide",argumentCallback:r=>r-1}),month:ai({values:F4,defaultWidth:"wide"}),day:ai({values:B4,defaultWidth:"wide"}),dayPeriod:ai({values:I4,defaultWidth:"wide",formattingValues:$4,defaultFormattingWidth:"wide"})};function ni(r){return(l,n={})=>{const a=n.width,o=a&&r.matchPatterns[a]||r.matchPatterns[r.defaultMatchWidth],d=l.match(o);if(!d)return null;const u=d[0],m=a&&r.parsePatterns[a]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(m)?G4(m,v=>v.test(u)):Q4(m,v=>v.test(u));let g;g=r.valueCallback?r.valueCallback(p):p,g=n.valueCallback?n.valueCallback(g):g;const x=l.slice(u.length);return{value:g,rest:x}}}function Q4(r,l){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&l(r[n]))return n}function G4(r,l){for(let n=0;n<r.length;n++)if(l(r[n]))return n}function X4(r){return(l,n={})=>{const a=l.match(r.matchPattern);if(!a)return null;const o=a[0],d=l.match(r.parsePattern);if(!d)return null;let u=r.valueCallback?r.valueCallback(d[0]):d[0];u=n.valueCallback?n.valueCallback(u):u;const m=l.slice(o.length);return{value:u,rest:m}}}const K4=/^(\d+)(th|st|nd|rd)?/i,W4=/\d+/i,Z4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},J4={any:[/^b/i,/^(a|c)/i]},e3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},t3={any:[/1/i,/2/i,/3/i,/4/i]},a3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},n3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},s3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},r3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},l3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},i3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},o3={ordinalNumber:X4({matchPattern:K4,parsePattern:W4,valueCallback:r=>parseInt(r,10)}),era:ni({matchPatterns:Z4,defaultMatchWidth:"wide",parsePatterns:J4,defaultParseWidth:"any"}),quarter:ni({matchPatterns:e3,defaultMatchWidth:"wide",parsePatterns:t3,defaultParseWidth:"any",valueCallback:r=>r+1}),month:ni({matchPatterns:a3,defaultMatchWidth:"wide",parsePatterns:n3,defaultParseWidth:"any"}),day:ni({matchPatterns:s3,defaultMatchWidth:"wide",parsePatterns:r3,defaultParseWidth:"any"}),dayPeriod:ni({matchPatterns:l3,defaultMatchWidth:"any",parsePatterns:i3,defaultParseWidth:"any"})},ab={code:"en-US",formatDistance:A4,formatLong:P4,formatRelative:z4,localize:V4,match:o3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function c3(r,l){const n=ve(r,l==null?void 0:l.in);return Yr(n,Hc(n))+1}function fm(r,l){const n=ve(r,l==null?void 0:l.in),a=+zr(n)-+_4(n);return Math.round(a/Xy)+1}function mm(r,l){var x,v,b,C;const n=ve(r,l==null?void 0:l.in),a=n.getFullYear(),o=Fs(),d=(l==null?void 0:l.firstWeekContainsDate)??((v=(x=l==null?void 0:l.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)??o.firstWeekContainsDate??((C=(b=o.locale)==null?void 0:b.options)==null?void 0:C.firstWeekContainsDate)??1,u=Ke((l==null?void 0:l.in)||r,0);u.setFullYear(a+1,0,d),u.setHours(0,0,0,0);const m=Cn(u,l),p=Ke((l==null?void 0:l.in)||r,0);p.setFullYear(a,0,d),p.setHours(0,0,0,0);const g=Cn(p,l);return+n>=+m?a+1:+n>=+g?a:a-1}function d3(r,l){var m,p,g,x;const n=Fs(),a=(l==null?void 0:l.firstWeekContainsDate)??((p=(m=l==null?void 0:l.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((x=(g=n.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??1,o=mm(r,l),d=Ke((l==null?void 0:l.in)||r,0);return d.setFullYear(o,0,a),d.setHours(0,0,0,0),Cn(d,l)}function nb(r,l){const n=ve(r,l==null?void 0:l.in),a=+Cn(n,l)-+d3(n,l);return Math.round(a/Xy)+1}function Xe(r,l){const n=r<0?"-":"",a=Math.abs(r).toString().padStart(l,"0");return n+a}const Wn={y(r,l){const n=r.getFullYear(),a=n>0?n:1-n;return Xe(l==="yy"?a%100:a,l.length)},M(r,l){const n=r.getMonth();return l==="M"?String(n+1):Xe(n+1,2)},d(r,l){return Xe(r.getDate(),l.length)},a(r,l){const n=r.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(r,l){return Xe(r.getHours()%12||12,l.length)},H(r,l){return Xe(r.getHours(),l.length)},m(r,l){return Xe(r.getMinutes(),l.length)},s(r,l){return Xe(r.getSeconds(),l.length)},S(r,l){const n=l.length,a=r.getMilliseconds(),o=Math.trunc(a*Math.pow(10,n-3));return Xe(o,l.length)}},kr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cg={G:function(r,l,n){const a=r.getFullYear()>0?1:0;switch(l){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(r,l,n){if(l==="yo"){const a=r.getFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return Wn.y(r,l)},Y:function(r,l,n,a){const o=mm(r,a),d=o>0?o:1-o;if(l==="YY"){const u=d%100;return Xe(u,2)}return l==="Yo"?n.ordinalNumber(d,{unit:"year"}):Xe(d,l.length)},R:function(r,l){const n=Wy(r);return Xe(n,l.length)},u:function(r,l){const n=r.getFullYear();return Xe(n,l.length)},Q:function(r,l,n){const a=Math.ceil((r.getMonth()+1)/3);switch(l){case"Q":return String(a);case"QQ":return Xe(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(r,l,n){const a=Math.ceil((r.getMonth()+1)/3);switch(l){case"q":return String(a);case"qq":return Xe(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(r,l,n){const a=r.getMonth();switch(l){case"M":case"MM":return Wn.M(r,l);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(r,l,n){const a=r.getMonth();switch(l){case"L":return String(a+1);case"LL":return Xe(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(r,l,n,a){const o=nb(r,a);return l==="wo"?n.ordinalNumber(o,{unit:"week"}):Xe(o,l.length)},I:function(r,l,n){const a=fm(r);return l==="Io"?n.ordinalNumber(a,{unit:"week"}):Xe(a,l.length)},d:function(r,l,n){return l==="do"?n.ordinalNumber(r.getDate(),{unit:"date"}):Wn.d(r,l)},D:function(r,l,n){const a=c3(r);return l==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Xe(a,l.length)},E:function(r,l,n){const a=r.getDay();switch(l){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(r,l,n,a){const o=r.getDay(),d=(o-a.weekStartsOn+8)%7||7;switch(l){case"e":return String(d);case"ee":return Xe(d,2);case"eo":return n.ordinalNumber(d,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(r,l,n,a){const o=r.getDay(),d=(o-a.weekStartsOn+8)%7||7;switch(l){case"c":return String(d);case"cc":return Xe(d,l.length);case"co":return n.ordinalNumber(d,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(r,l,n){const a=r.getDay(),o=a===0?7:a;switch(l){case"i":return String(o);case"ii":return Xe(o,l.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(r,l,n){const o=r.getHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,l,n){const a=r.getHours();let o;switch(a===12?o=kr.noon:a===0?o=kr.midnight:o=a/12>=1?"pm":"am",l){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,l,n){const a=r.getHours();let o;switch(a>=17?o=kr.evening:a>=12?o=kr.afternoon:a>=4?o=kr.morning:o=kr.night,l){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,l,n){if(l==="ho"){let a=r.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Wn.h(r,l)},H:function(r,l,n){return l==="Ho"?n.ordinalNumber(r.getHours(),{unit:"hour"}):Wn.H(r,l)},K:function(r,l,n){const a=r.getHours()%12;return l==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Xe(a,l.length)},k:function(r,l,n){let a=r.getHours();return a===0&&(a=24),l==="ko"?n.ordinalNumber(a,{unit:"hour"}):Xe(a,l.length)},m:function(r,l,n){return l==="mo"?n.ordinalNumber(r.getMinutes(),{unit:"minute"}):Wn.m(r,l)},s:function(r,l,n){return l==="so"?n.ordinalNumber(r.getSeconds(),{unit:"second"}):Wn.s(r,l)},S:function(r,l){return Wn.S(r,l)},X:function(r,l,n){const a=r.getTimezoneOffset();if(a===0)return"Z";switch(l){case"X":return ug(a);case"XXXX":case"XX":return _s(a);case"XXXXX":case"XXX":default:return _s(a,":")}},x:function(r,l,n){const a=r.getTimezoneOffset();switch(l){case"x":return ug(a);case"xxxx":case"xx":return _s(a);case"xxxxx":case"xxx":default:return _s(a,":")}},O:function(r,l,n){const a=r.getTimezoneOffset();switch(l){case"O":case"OO":case"OOO":return"GMT"+dg(a,":");case"OOOO":default:return"GMT"+_s(a,":")}},z:function(r,l,n){const a=r.getTimezoneOffset();switch(l){case"z":case"zz":case"zzz":return"GMT"+dg(a,":");case"zzzz":default:return"GMT"+_s(a,":")}},t:function(r,l,n){const a=Math.trunc(+r/1e3);return Xe(a,l.length)},T:function(r,l,n){return Xe(+r,l.length)}};function dg(r,l=""){const n=r>0?"-":"+",a=Math.abs(r),o=Math.trunc(a/60),d=a%60;return d===0?n+String(o):n+String(o)+l+Xe(d,2)}function ug(r,l){return r%60===0?(r>0?"-":"+")+Xe(Math.abs(r)/60,2):_s(r,l)}function _s(r,l=""){const n=r>0?"-":"+",a=Math.abs(r),o=Xe(Math.trunc(a/60),2),d=Xe(a%60,2);return n+o+l+d}const fg=(r,l)=>{switch(r){case"P":return l.date({width:"short"});case"PP":return l.date({width:"medium"});case"PPP":return l.date({width:"long"});case"PPPP":default:return l.date({width:"full"})}},sb=(r,l)=>{switch(r){case"p":return l.time({width:"short"});case"pp":return l.time({width:"medium"});case"ppp":return l.time({width:"long"});case"pppp":default:return l.time({width:"full"})}},u3=(r,l)=>{const n=r.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return fg(r,l);let d;switch(a){case"P":d=l.dateTime({width:"short"});break;case"PP":d=l.dateTime({width:"medium"});break;case"PPP":d=l.dateTime({width:"long"});break;case"PPPP":default:d=l.dateTime({width:"full"});break}return d.replace("{{date}}",fg(a,l)).replace("{{time}}",sb(o,l))},$f={p:sb,P:u3},f3=/^D+$/,m3=/^Y+$/,h3=["D","DD","YY","YYYY"];function p3(r){return f3.test(r)}function x3(r){return m3.test(r)}function g3(r,l,n){const a=y3(r,l,n);if(console.warn(a),h3.includes(r))throw new RangeError(a)}function y3(r,l,n){const a=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${l}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const b3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,v3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w3=/^'([^]*?)'?$/,N3=/''/g,j3=/[a-zA-Z]/;function mg(r,l,n){var x,v,b,C,N,E,_,k;const a=Fs(),o=(n==null?void 0:n.locale)??a.locale??ab,d=(n==null?void 0:n.firstWeekContainsDate)??((v=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)??a.firstWeekContainsDate??((C=(b=a.locale)==null?void 0:b.options)==null?void 0:C.firstWeekContainsDate)??1,u=(n==null?void 0:n.weekStartsOn)??((E=(N=n==null?void 0:n.locale)==null?void 0:N.options)==null?void 0:E.weekStartsOn)??a.weekStartsOn??((k=(_=a.locale)==null?void 0:_.options)==null?void 0:k.weekStartsOn)??0,m=ve(r,n==null?void 0:n.in);if(!pc(m))throw new RangeError("Invalid time value");let p=l.match(v3).map(M=>{const R=M[0];if(R==="p"||R==="P"){const H=$f[R];return H(M,o.formatLong)}return M}).join("").match(b3).map(M=>{if(M==="''")return{isToken:!1,value:"'"};const R=M[0];if(R==="'")return{isToken:!1,value:S3(M)};if(cg[R])return{isToken:!0,value:M};if(R.match(j3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:M}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const g={firstWeekContainsDate:d,weekStartsOn:u,locale:o};return p.map(M=>{if(!M.isToken)return M.value;const R=M.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&x3(R)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&p3(R))&&g3(R,l,String(r));const H=cg[R[0]];return H(m,R,o.localize,g)}).join("")}function S3(r){const l=r.match(w3);return l?l[1].replace(N3,"'"):r}function hg(r,l){return ve(r,l==null?void 0:l.in).getDate()}function C3(r,l){return ve(r,l==null?void 0:l.in).getDay()}function _3(r,l){const n=ve(r,l==null?void 0:l.in),a=n.getFullYear(),o=n.getMonth(),d=Ke(n,0);return d.setFullYear(a,o+1,0),d.setHours(0,0,0,0),d.getDate()}function D3(){return Object.assign({},Fs())}function vn(r,l){return ve(r,l==null?void 0:l.in).getHours()}function k3(r,l){const n=ve(r,l==null?void 0:l.in).getDay();return n===0?7:n}function wn(r,l){return ve(r,l==null?void 0:l.in).getMinutes()}function zt(r,l){return ve(r,l==null?void 0:l.in).getMonth()}function es(r){return ve(r).getSeconds()}function qf(r){return+ve(r)}function Re(r,l){return ve(r,l==null?void 0:l.in).getFullYear()}function as(r,l){return+ve(r)>+ve(l)}function zs(r,l){return+ve(r)<+ve(l)}function E3(r,l){return+ve(r)==+ve(l)}function T3(r,l){const n=M3(l)?new l(0):Ke(l,0);return n.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),n.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),n}function M3(r){var l;return typeof r=="function"&&((l=r.prototype)==null?void 0:l.constructor)===r}const A3=10;class rb{constructor(){ye(this,"subPriority",0)}validate(l,n){return!0}}class R3 extends rb{constructor(l,n,a,o,d){super(),this.value=l,this.validateValue=n,this.setValue=a,this.priority=o,d&&(this.subPriority=d)}validate(l,n){return this.validateValue(l,this.value,n)}set(l,n,a){return this.setValue(l,n,this.value,a)}}class O3 extends rb{constructor(n,a){super();ye(this,"priority",A3);ye(this,"subPriority",-1);this.context=n||(o=>Ke(a,o))}set(n,a){return a.timestampIsSet?n:Ke(n,T3(n,this.context))}}class qe{run(l,n,a,o){const d=this.parse(l,n,a,o);return d?{setter:new R3(d.value,this.validate,this.set,this.priority,this.subPriority),rest:d.rest}:null}validate(l,n,a){return!0}}class L3 extends qe{constructor(){super(...arguments);ye(this,"priority",140);ye(this,"incompatibleTokens",["R","u","t","T"])}parse(n,a,o){switch(a){case"G":case"GG":case"GGG":return o.era(n,{width:"abbreviated"})||o.era(n,{width:"narrow"});case"GGGGG":return o.era(n,{width:"narrow"});case"GGGG":default:return o.era(n,{width:"wide"})||o.era(n,{width:"abbreviated"})||o.era(n,{width:"narrow"})}}set(n,a,o){return a.era=o,n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}const xt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Qa={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function gt(r,l){return r&&{value:l(r.value),rest:r.rest}}function ct(r,l){const n=l.match(r);return n?{value:parseInt(n[0],10),rest:l.slice(n[0].length)}:null}function Ga(r,l){const n=l.match(r);if(!n)return null;if(n[0]==="Z")return{value:0,rest:l.slice(1)};const a=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,d=n[3]?parseInt(n[3],10):0,u=n[5]?parseInt(n[5],10):0;return{value:a*(o*Yc+d*zc+u*j4),rest:l.slice(n[0].length)}}function lb(r){return ct(xt.anyDigitsSigned,r)}function ft(r,l){switch(r){case 1:return ct(xt.singleDigit,l);case 2:return ct(xt.twoDigits,l);case 3:return ct(xt.threeDigits,l);case 4:return ct(xt.fourDigits,l);default:return ct(new RegExp("^\\d{1,"+r+"}"),l)}}function bc(r,l){switch(r){case 1:return ct(xt.singleDigitSigned,l);case 2:return ct(xt.twoDigitsSigned,l);case 3:return ct(xt.threeDigitsSigned,l);case 4:return ct(xt.fourDigitsSigned,l);default:return ct(new RegExp("^-?\\d{1,"+r+"}"),l)}}function hm(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ib(r,l){const n=l>0,a=n?l:1-l;let o;if(a<=50)o=r||100;else{const d=a+50,u=Math.trunc(d/100)*100,m=r>=d%100;o=r+u-(m?100:0)}return n?o:1-o}function ob(r){return r%400===0||r%4===0&&r%100!==0}class P3 extends qe{constructor(){super(...arguments);ye(this,"priority",130);ye(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,a,o){const d=u=>({year:u,isTwoDigitYear:a==="yy"});switch(a){case"y":return gt(ft(4,n),d);case"yo":return gt(o.ordinalNumber(n,{unit:"year"}),d);default:return gt(ft(a.length,n),d)}}validate(n,a){return a.isTwoDigitYear||a.year>0}set(n,a,o){const d=n.getFullYear();if(o.isTwoDigitYear){const m=ib(o.year,d);return n.setFullYear(m,0,1),n.setHours(0,0,0,0),n}const u=!("era"in a)||a.era===1?o.year:1-o.year;return n.setFullYear(u,0,1),n.setHours(0,0,0,0),n}}class U3 extends qe{constructor(){super(...arguments);ye(this,"priority",130);ye(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,a,o){const d=u=>({year:u,isTwoDigitYear:a==="YY"});switch(a){case"Y":return gt(ft(4,n),d);case"Yo":return gt(o.ordinalNumber(n,{unit:"year"}),d);default:return gt(ft(a.length,n),d)}}validate(n,a){return a.isTwoDigitYear||a.year>0}set(n,a,o,d){const u=mm(n,d);if(o.isTwoDigitYear){const p=ib(o.year,u);return n.setFullYear(p,0,d.firstWeekContainsDate),n.setHours(0,0,0,0),Cn(n,d)}const m=!("era"in a)||a.era===1?o.year:1-o.year;return n.setFullYear(m,0,d.firstWeekContainsDate),n.setHours(0,0,0,0),Cn(n,d)}}class z3 extends qe{constructor(){super(...arguments);ye(this,"priority",130);ye(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,a){return bc(a==="R"?4:a.length,n)}set(n,a,o){const d=Ke(n,0);return d.setFullYear(o,0,4),d.setHours(0,0,0,0),zr(d)}}class Y3 extends qe{constructor(){super(...arguments);ye(this,"priority",130);ye(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,a){return bc(a==="u"?4:a.length,n)}set(n,a,o){return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class H3 extends qe{constructor(){super(...arguments);ye(this,"priority",120);ye(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,a,o){switch(a){case"Q":case"QQ":return ft(a.length,n);case"Qo":return o.ordinalNumber(n,{unit:"quarter"});case"QQQ":return o.quarter(n,{width:"abbreviated",context:"formatting"})||o.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(n,{width:"wide",context:"formatting"})||o.quarter(n,{width:"abbreviated",context:"formatting"})||o.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=1&&a<=4}set(n,a,o){return n.setMonth((o-1)*3,1),n.setHours(0,0,0,0),n}}class F3 extends qe{constructor(){super(...arguments);ye(this,"priority",120);ye(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,a,o){switch(a){case"q":case"qq":return ft(a.length,n);case"qo":return o.ordinalNumber(n,{unit:"quarter"});case"qqq":return o.quarter(n,{width:"abbreviated",context:"standalone"})||o.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(n,{width:"wide",context:"standalone"})||o.quarter(n,{width:"abbreviated",context:"standalone"})||o.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,a){return a>=1&&a<=4}set(n,a,o){return n.setMonth((o-1)*3,1),n.setHours(0,0,0,0),n}}class B3 extends qe{constructor(){super(...arguments);ye(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ye(this,"priority",110)}parse(n,a,o){const d=u=>u-1;switch(a){case"M":return gt(ct(xt.month,n),d);case"MM":return gt(ft(2,n),d);case"Mo":return gt(o.ordinalNumber(n,{unit:"month"}),d);case"MMM":return o.month(n,{width:"abbreviated",context:"formatting"})||o.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(n,{width:"wide",context:"formatting"})||o.month(n,{width:"abbreviated",context:"formatting"})||o.month(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=0&&a<=11}set(n,a,o){return n.setMonth(o,1),n.setHours(0,0,0,0),n}}class I3 extends qe{constructor(){super(...arguments);ye(this,"priority",110);ye(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,a,o){const d=u=>u-1;switch(a){case"L":return gt(ct(xt.month,n),d);case"LL":return gt(ft(2,n),d);case"Lo":return gt(o.ordinalNumber(n,{unit:"month"}),d);case"LLL":return o.month(n,{width:"abbreviated",context:"standalone"})||o.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(n,{width:"wide",context:"standalone"})||o.month(n,{width:"abbreviated",context:"standalone"})||o.month(n,{width:"narrow",context:"standalone"})}}validate(n,a){return a>=0&&a<=11}set(n,a,o){return n.setMonth(o,1),n.setHours(0,0,0,0),n}}function $3(r,l,n){const a=ve(r,n==null?void 0:n.in),o=nb(a,n)-l;return a.setDate(a.getDate()-o*7),ve(a,n==null?void 0:n.in)}class q3 extends qe{constructor(){super(...arguments);ye(this,"priority",100);ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,a,o){switch(a){case"w":return ct(xt.week,n);case"wo":return o.ordinalNumber(n,{unit:"week"});default:return ft(a.length,n)}}validate(n,a){return a>=1&&a<=53}set(n,a,o,d){return Cn($3(n,o,d),d)}}function V3(r,l,n){const a=ve(r,n==null?void 0:n.in),o=fm(a,n)-l;return a.setDate(a.getDate()-o*7),a}class Q3 extends qe{constructor(){super(...arguments);ye(this,"priority",100);ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,a,o){switch(a){case"I":return ct(xt.week,n);case"Io":return o.ordinalNumber(n,{unit:"week"});default:return ft(a.length,n)}}validate(n,a){return a>=1&&a<=53}set(n,a,o){return zr(V3(n,o))}}const G3=[31,28,31,30,31,30,31,31,30,31,30,31],X3=[31,29,31,30,31,30,31,31,30,31,30,31];class K3 extends qe{constructor(){super(...arguments);ye(this,"priority",90);ye(this,"subPriority",1);ye(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,a,o){switch(a){case"d":return ct(xt.date,n);case"do":return o.ordinalNumber(n,{unit:"date"});default:return ft(a.length,n)}}validate(n,a){const o=n.getFullYear(),d=ob(o),u=n.getMonth();return d?a>=1&&a<=X3[u]:a>=1&&a<=G3[u]}set(n,a,o){return n.setDate(o),n.setHours(0,0,0,0),n}}class W3 extends qe{constructor(){super(...arguments);ye(this,"priority",90);ye(this,"subpriority",1);ye(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,a,o){switch(a){case"D":case"DD":return ct(xt.dayOfYear,n);case"Do":return o.ordinalNumber(n,{unit:"date"});default:return ft(a.length,n)}}validate(n,a){const o=n.getFullYear();return ob(o)?a>=1&&a<=366:a>=1&&a<=365}set(n,a,o){return n.setMonth(0,o),n.setHours(0,0,0,0),n}}function pm(r,l,n){var v,b,C,N;const a=Fs(),o=(n==null?void 0:n.weekStartsOn)??((b=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??a.weekStartsOn??((N=(C=a.locale)==null?void 0:C.options)==null?void 0:N.weekStartsOn)??0,d=ve(r,n==null?void 0:n.in),u=d.getDay(),p=(l%7+7)%7,g=7-o,x=l<0||l>6?l-(u+g)%7:(p+g)%7-(u+g)%7;return Ma(d,x,n)}class Z3 extends qe{constructor(){super(...arguments);ye(this,"priority",90);ye(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,a,o){switch(a){case"E":case"EE":case"EEE":return o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(n,{width:"wide",context:"formatting"})||o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=0&&a<=6}set(n,a,o,d){return n=pm(n,o,d),n.setHours(0,0,0,0),n}}class J3 extends qe{constructor(){super(...arguments);ye(this,"priority",90);ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,a,o,d){const u=m=>{const p=Math.floor((m-1)/7)*7;return(m+d.weekStartsOn+6)%7+p};switch(a){case"e":case"ee":return gt(ft(a.length,n),u);case"eo":return gt(o.ordinalNumber(n,{unit:"day"}),u);case"eee":return o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"});case"eeeee":return o.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(n,{width:"wide",context:"formatting"})||o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"})}}validate(n,a){return a>=0&&a<=6}set(n,a,o,d){return n=pm(n,o,d),n.setHours(0,0,0,0),n}}class e_ extends qe{constructor(){super(...arguments);ye(this,"priority",90);ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,a,o,d){const u=m=>{const p=Math.floor((m-1)/7)*7;return(m+d.weekStartsOn+6)%7+p};switch(a){case"c":case"cc":return gt(ft(a.length,n),u);case"co":return gt(o.ordinalNumber(n,{unit:"day"}),u);case"ccc":return o.day(n,{width:"abbreviated",context:"standalone"})||o.day(n,{width:"short",context:"standalone"})||o.day(n,{width:"narrow",context:"standalone"});case"ccccc":return o.day(n,{width:"narrow",context:"standalone"});case"cccccc":return o.day(n,{width:"short",context:"standalone"})||o.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(n,{width:"wide",context:"standalone"})||o.day(n,{width:"abbreviated",context:"standalone"})||o.day(n,{width:"short",context:"standalone"})||o.day(n,{width:"narrow",context:"standalone"})}}validate(n,a){return a>=0&&a<=6}set(n,a,o,d){return n=pm(n,o,d),n.setHours(0,0,0,0),n}}function t_(r,l,n){const a=ve(r,n==null?void 0:n.in),o=k3(a,n),d=l-o;return Ma(a,d,n)}class a_ extends qe{constructor(){super(...arguments);ye(this,"priority",90);ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,a,o){const d=u=>u===0?7:u;switch(a){case"i":case"ii":return ft(a.length,n);case"io":return o.ordinalNumber(n,{unit:"day"});case"iii":return gt(o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"}),d);case"iiiii":return gt(o.day(n,{width:"narrow",context:"formatting"}),d);case"iiiiii":return gt(o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"}),d);case"iiii":default:return gt(o.day(n,{width:"wide",context:"formatting"})||o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"}),d)}}validate(n,a){return a>=1&&a<=7}set(n,a,o){return n=t_(n,o),n.setHours(0,0,0,0),n}}class n_ extends qe{constructor(){super(...arguments);ye(this,"priority",80);ye(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,a,o){switch(a){case"a":case"aa":case"aaa":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})||o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,a,o){return n.setHours(hm(o),0,0,0),n}}class s_ extends qe{constructor(){super(...arguments);ye(this,"priority",80);ye(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,a,o){switch(a){case"b":case"bb":case"bbb":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})||o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,a,o){return n.setHours(hm(o),0,0,0),n}}class r_ extends qe{constructor(){super(...arguments);ye(this,"priority",80);ye(this,"incompatibleTokens",["a","b","t","T"])}parse(n,a,o){switch(a){case"B":case"BB":case"BBB":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})||o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,a,o){return n.setHours(hm(o),0,0,0),n}}class l_ extends qe{constructor(){super(...arguments);ye(this,"priority",70);ye(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,a,o){switch(a){case"h":return ct(xt.hour12h,n);case"ho":return o.ordinalNumber(n,{unit:"hour"});default:return ft(a.length,n)}}validate(n,a){return a>=1&&a<=12}set(n,a,o){const d=n.getHours()>=12;return d&&o<12?n.setHours(o+12,0,0,0):!d&&o===12?n.setHours(0,0,0,0):n.setHours(o,0,0,0),n}}class i_ extends qe{constructor(){super(...arguments);ye(this,"priority",70);ye(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,a,o){switch(a){case"H":return ct(xt.hour23h,n);case"Ho":return o.ordinalNumber(n,{unit:"hour"});default:return ft(a.length,n)}}validate(n,a){return a>=0&&a<=23}set(n,a,o){return n.setHours(o,0,0,0),n}}class o_ extends qe{constructor(){super(...arguments);ye(this,"priority",70);ye(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,a,o){switch(a){case"K":return ct(xt.hour11h,n);case"Ko":return o.ordinalNumber(n,{unit:"hour"});default:return ft(a.length,n)}}validate(n,a){return a>=0&&a<=11}set(n,a,o){return n.getHours()>=12&&o<12?n.setHours(o+12,0,0,0):n.setHours(o,0,0,0),n}}class c_ extends qe{constructor(){super(...arguments);ye(this,"priority",70);ye(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,a,o){switch(a){case"k":return ct(xt.hour24h,n);case"ko":return o.ordinalNumber(n,{unit:"hour"});default:return ft(a.length,n)}}validate(n,a){return a>=1&&a<=24}set(n,a,o){const d=o<=24?o%24:o;return n.setHours(d,0,0,0),n}}class d_ extends qe{constructor(){super(...arguments);ye(this,"priority",60);ye(this,"incompatibleTokens",["t","T"])}parse(n,a,o){switch(a){case"m":return ct(xt.minute,n);case"mo":return o.ordinalNumber(n,{unit:"minute"});default:return ft(a.length,n)}}validate(n,a){return a>=0&&a<=59}set(n,a,o){return n.setMinutes(o,0,0),n}}class u_ extends qe{constructor(){super(...arguments);ye(this,"priority",50);ye(this,"incompatibleTokens",["t","T"])}parse(n,a,o){switch(a){case"s":return ct(xt.second,n);case"so":return o.ordinalNumber(n,{unit:"second"});default:return ft(a.length,n)}}validate(n,a){return a>=0&&a<=59}set(n,a,o){return n.setSeconds(o,0),n}}class f_ extends qe{constructor(){super(...arguments);ye(this,"priority",30);ye(this,"incompatibleTokens",["t","T"])}parse(n,a){const o=d=>Math.trunc(d*Math.pow(10,-a.length+3));return gt(ft(a.length,n),o)}set(n,a,o){return n.setMilliseconds(o),n}}class m_ extends qe{constructor(){super(...arguments);ye(this,"priority",10);ye(this,"incompatibleTokens",["t","T","x"])}parse(n,a){switch(a){case"X":return Ga(Qa.basicOptionalMinutes,n);case"XX":return Ga(Qa.basic,n);case"XXXX":return Ga(Qa.basicOptionalSeconds,n);case"XXXXX":return Ga(Qa.extendedOptionalSeconds,n);case"XXX":default:return Ga(Qa.extended,n)}}set(n,a,o){return a.timestampIsSet?n:Ke(n,n.getTime()-mc(n)-o)}}class h_ extends qe{constructor(){super(...arguments);ye(this,"priority",10);ye(this,"incompatibleTokens",["t","T","X"])}parse(n,a){switch(a){case"x":return Ga(Qa.basicOptionalMinutes,n);case"xx":return Ga(Qa.basic,n);case"xxxx":return Ga(Qa.basicOptionalSeconds,n);case"xxxxx":return Ga(Qa.extendedOptionalSeconds,n);case"xxx":default:return Ga(Qa.extended,n)}}set(n,a,o){return a.timestampIsSet?n:Ke(n,n.getTime()-mc(n)-o)}}class p_ extends qe{constructor(){super(...arguments);ye(this,"priority",40);ye(this,"incompatibleTokens","*")}parse(n){return lb(n)}set(n,a,o){return[Ke(n,o*1e3),{timestampIsSet:!0}]}}class x_ extends qe{constructor(){super(...arguments);ye(this,"priority",20);ye(this,"incompatibleTokens","*")}parse(n){return lb(n)}set(n,a,o){return[Ke(n,o),{timestampIsSet:!0}]}}const g_={G:new L3,y:new P3,Y:new U3,R:new z3,u:new Y3,Q:new H3,q:new F3,M:new B3,L:new I3,w:new q3,I:new Q3,d:new K3,D:new W3,E:new Z3,e:new J3,c:new e_,i:new a_,a:new n_,b:new s_,B:new r_,h:new l_,H:new i_,K:new o_,k:new c_,m:new d_,s:new u_,S:new f_,X:new m_,x:new h_,t:new p_,T:new x_},y_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,b_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,v_=/^'([^]*?)'?$/,w_=/''/g,N_=/\S/,j_=/[a-zA-Z]/;function S_(r,l,n,a){var _,k,M,R,H,O,$,I;const o=()=>Ke((a==null?void 0:a.in)||n,NaN),d=D3(),u=(a==null?void 0:a.locale)??d.locale??ab,m=(a==null?void 0:a.firstWeekContainsDate)??((k=(_=a==null?void 0:a.locale)==null?void 0:_.options)==null?void 0:k.firstWeekContainsDate)??d.firstWeekContainsDate??((R=(M=d.locale)==null?void 0:M.options)==null?void 0:R.firstWeekContainsDate)??1,p=(a==null?void 0:a.weekStartsOn)??((O=(H=a==null?void 0:a.locale)==null?void 0:H.options)==null?void 0:O.weekStartsOn)??d.weekStartsOn??((I=($=d.locale)==null?void 0:$.options)==null?void 0:I.weekStartsOn)??0;if(!l)return r?o():ve(n,a==null?void 0:a.in);const g={firstWeekContainsDate:m,weekStartsOn:p,locale:u},x=[new O3(a==null?void 0:a.in,n)],v=l.match(b_).map(Y=>{const G=Y[0];if(G in $f){const de=$f[G];return de(Y,u.formatLong)}return Y}).join("").match(y_),b=[];for(let Y of v){const G=Y[0],de=g_[G];if(de){const{incompatibleTokens:ue}=de;if(Array.isArray(ue)){const ne=b.find(se=>ue.includes(se.token)||se.token===G);if(ne)throw new RangeError(`The format string mustn't contain \`${ne.fullToken}\` and \`${Y}\` at the same time`)}else if(de.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${Y}\` and any other token at the same time`);b.push({token:G,fullToken:Y});const V=de.run(r,Y,u.match,g);if(!V)return o();x.push(V.setter),r=V.rest}else{if(G.match(j_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+G+"`");if(Y==="''"?Y="'":G==="'"&&(Y=C_(Y)),r.indexOf(Y)===0)r=r.slice(Y.length);else return o()}}if(r.length>0&&N_.test(r))return o();const C=x.map(Y=>Y.priority).sort((Y,G)=>G-Y).filter((Y,G,de)=>de.indexOf(Y)===G).map(Y=>x.filter(G=>G.priority===Y).sort((G,de)=>de.subPriority-G.subPriority)).map(Y=>Y[0]);let N=ve(n,a==null?void 0:a.in);if(isNaN(+N))return o();const E={};for(const Y of C){if(!Y.validate(N,g))return o();const G=Y.set(N,E,g);Array.isArray(G)?(N=G[0],Object.assign(E,G[1])):N=G}return N}function C_(r){return r.match(v_)[1].replace(w_,"'")}function __(r,l,n){const[a,o]=_n(n==null?void 0:n.in,r,l);return a.getFullYear()===o.getFullYear()&&a.getMonth()===o.getMonth()}function D_(r,l,n){const[a,o]=_n(n==null?void 0:n.in,r,l);return+If(a)==+If(o)}function k_(r,l,n){const[a,o]=_n(n==null?void 0:n.in,r,l);return a.getFullYear()===o.getFullYear()}function fi(r,l,n){const a=+ve(r,n==null?void 0:n.in),[o,d]=[+ve(l.start,n==null?void 0:n.in),+ve(l.end,n==null?void 0:n.in)].sort((u,m)=>u-m);return a>=o&&a<=d}function E_(r,l,n){return Ma(r,-1,n)}function T_(r,l){const n=()=>Ke(l==null?void 0:l.in,NaN),o=O_(r);let d;if(o.date){const g=L_(o.date,2);d=P_(g.restDateString,g.year)}if(!d||isNaN(+d))return n();const u=+d;let m=0,p;if(o.time&&(m=U_(o.time),isNaN(m)))return n();if(o.timezone){if(p=z_(o.timezone),isNaN(p))return n()}else{const g=new Date(u+m),x=ve(0,l==null?void 0:l.in);return x.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),x.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),x}return ve(u+m+p,l==null?void 0:l.in)}const Vo={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},M_=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,A_=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,R_=/^([+-])(\d{2})(?::?(\d{2}))?$/;function O_(r){const l={},n=r.split(Vo.dateTimeDelimiter);let a;if(n.length>2)return l;if(/:/.test(n[0])?a=n[0]:(l.date=n[0],a=n[1],Vo.timeZoneDelimiter.test(l.date)&&(l.date=r.split(Vo.timeZoneDelimiter)[0],a=r.substr(l.date.length,r.length))),a){const o=Vo.timezone.exec(a);o?(l.time=a.replace(o[1],""),l.timezone=o[1]):l.time=a}return l}function L_(r,l){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+l)+"})|(\\d{2}|[+-]\\d{"+(2+l)+"})$)"),a=r.match(n);if(!a)return{year:NaN,restDateString:""};const o=a[1]?parseInt(a[1]):null,d=a[2]?parseInt(a[2]):null;return{year:d===null?o:d*100,restDateString:r.slice((a[1]||a[2]).length)}}function P_(r,l){if(l===null)return new Date(NaN);const n=r.match(M_);if(!n)return new Date(NaN);const a=!!n[4],o=si(n[1]),d=si(n[2])-1,u=si(n[3]),m=si(n[4]),p=si(n[5])-1;if(a)return I_(l,m,p)?Y_(l,m,p):new Date(NaN);{const g=new Date(0);return!F_(l,d,u)||!B_(l,o)?new Date(NaN):(g.setUTCFullYear(l,d,Math.max(o,u)),g)}}function si(r){return r?parseInt(r):1}function U_(r){const l=r.match(A_);if(!l)return NaN;const n=vf(l[1]),a=vf(l[2]),o=vf(l[3]);return $_(n,a,o)?n*Yc+a*zc+o*1e3:NaN}function vf(r){return r&&parseFloat(r.replace(",","."))||0}function z_(r){if(r==="Z")return 0;const l=r.match(R_);if(!l)return 0;const n=l[1]==="+"?-1:1,a=parseInt(l[2]),o=l[3]&&parseInt(l[3])||0;return q_(a,o)?n*(a*Yc+o*zc):NaN}function Y_(r,l,n){const a=new Date(0);a.setUTCFullYear(r,0,4);const o=a.getUTCDay()||7,d=(l-1)*7+n+1-o;return a.setUTCDate(a.getUTCDate()+d),a}const H_=[31,null,31,30,31,30,31,31,30,31,30,31];function cb(r){return r%400===0||r%4===0&&r%100!==0}function F_(r,l,n){return l>=0&&l<=11&&n>=1&&n<=(H_[l]||(cb(r)?29:28))}function B_(r,l){return l>=1&&l<=(cb(r)?366:365)}function I_(r,l,n){return l>=1&&l<=53&&n>=0&&n<=6}function $_(r,l,n){return r===24?l===0&&n===0:n>=0&&n<60&&l>=0&&l<60&&r>=0&&r<25}function q_(r,l){return l>=0&&l<=59}function wa(r,l,n){const a=ve(r,n==null?void 0:n.in),o=a.getFullYear(),d=a.getDate(),u=Ke(r,0);u.setFullYear(o,l,15),u.setHours(0,0,0,0);const m=_3(u);return a.setMonth(l,Math.min(d,m)),a}function rc(r,l,n){const a=ve(r,n==null?void 0:n.in);return a.setHours(l),a}function lc(r,l,n){const a=ve(r,n==null?void 0:n.in);return a.setMinutes(l),a}function Er(r,l,n){const a=ve(r,n==null?void 0:n.in),o=Math.trunc(a.getMonth()/3)+1,d=l-o;return wa(a,a.getMonth()+d*3)}function ic(r,l,n){const a=ve(r,n==null?void 0:n.in);return a.setSeconds(l),a}function qa(r,l,n){const a=ve(r,n==null?void 0:n.in);return isNaN(+a)?Ke(r,NaN):(a.setFullYear(l),a)}function Rs(r,l,n){return Aa(r,-l,n)}function db(r,l,n){return um(r,-1,n)}function pg(r,l,n){return hc(r,-1,n)}function Hr(r,l,n){return yn(r,-l,n)}function Fc(){return typeof window<"u"}function Wr(r){return ub(r)?(r.nodeName||"").toLowerCase():"#document"}function ca(r){var l;return(r==null||(l=r.ownerDocument)==null?void 0:l.defaultView)||window}function en(r){var l;return(l=(ub(r)?r.ownerDocument:r.document)||window.document)==null?void 0:l.documentElement}function ub(r){return Fc()?r instanceof Node||r instanceof ca(r).Node:!1}function Bt(r){return Fc()?r instanceof Element||r instanceof ca(r).Element:!1}function Ja(r){return Fc()?r instanceof HTMLElement||r instanceof ca(r).HTMLElement:!1}function xg(r){return!Fc()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof ca(r).ShadowRoot}const V_=new Set(["inline","contents"]);function wi(r){const{overflow:l,overflowX:n,overflowY:a,display:o}=Ca(r);return/auto|scroll|overlay|hidden|clip/.test(l+a+n)&&!V_.has(o)}const Q_=new Set(["table","td","th"]);function G_(r){return Q_.has(Wr(r))}const X_=[":popover-open",":modal"];function Bc(r){return X_.some(l=>{try{return r.matches(l)}catch{return!1}})}const K_=["transform","translate","scale","rotate","perspective"],W_=["transform","translate","scale","rotate","perspective","filter"],Z_=["paint","layout","strict","content"];function xm(r){const l=gm(),n=Bt(r)?Ca(r):r;return K_.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!l&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!l&&(n.filter?n.filter!=="none":!1)||W_.some(a=>(n.willChange||"").includes(a))||Z_.some(a=>(n.contain||"").includes(a))}function J_(r){let l=ns(r);for(;Ja(l)&&!Fr(l);){if(xm(l))return l;if(Bc(l))return null;l=ns(l)}return null}function gm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const eD=new Set(["html","body","#document"]);function Fr(r){return eD.has(Wr(r))}function Ca(r){return ca(r).getComputedStyle(r)}function Ic(r){return Bt(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function ns(r){if(Wr(r)==="html")return r;const l=r.assignedSlot||r.parentNode||xg(r)&&r.host||en(r);return xg(l)?l.host:l}function fb(r){const l=ns(r);return Fr(l)?r.ownerDocument?r.ownerDocument.body:r.body:Ja(l)&&wi(l)?l:fb(l)}function mi(r,l,n){var a;l===void 0&&(l=[]),n===void 0&&(n=!0);const o=fb(r),d=o===((a=r.ownerDocument)==null?void 0:a.body),u=ca(o);if(d){const m=Vf(u);return l.concat(u,u.visualViewport||[],wi(o)?o:[],m&&n?mi(m):[])}return l.concat(o,mi(o,[],n))}function Vf(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const Br=Math.min,Os=Math.max,vc=Math.round,Qo=Math.floor,Wa=r=>({x:r,y:r}),tD={left:"right",right:"left",bottom:"top",top:"bottom"},aD={start:"end",end:"start"};function nD(r,l,n){return Os(r,Br(l,n))}function $c(r,l){return typeof r=="function"?r(l):r}function Ir(r){return r.split("-")[0]}function Ni(r){return r.split("-")[1]}function sD(r){return r==="x"?"y":"x"}function ym(r){return r==="y"?"height":"width"}const rD=new Set(["top","bottom"]);function ks(r){return rD.has(Ir(r))?"y":"x"}function bm(r){return sD(ks(r))}function lD(r,l,n){n===void 0&&(n=!1);const a=Ni(r),o=bm(r),d=ym(o);let u=o==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return l.reference[d]>l.floating[d]&&(u=wc(u)),[u,wc(u)]}function iD(r){const l=wc(r);return[Qf(r),l,Qf(l)]}function Qf(r){return r.replace(/start|end/g,l=>aD[l])}const gg=["left","right"],yg=["right","left"],oD=["top","bottom"],cD=["bottom","top"];function dD(r,l,n){switch(r){case"top":case"bottom":return n?l?yg:gg:l?gg:yg;case"left":case"right":return l?oD:cD;default:return[]}}function uD(r,l,n,a){const o=Ni(r);let d=dD(Ir(r),n==="start",a);return o&&(d=d.map(u=>u+"-"+o),l&&(d=d.concat(d.map(Qf)))),d}function wc(r){return r.replace(/left|right|bottom|top/g,l=>tD[l])}function fD(r){return{top:0,right:0,bottom:0,left:0,...r}}function mb(r){return typeof r!="number"?fD(r):{top:r,right:r,bottom:r,left:r}}function Nc(r){const{x:l,y:n,width:a,height:o}=r;return{width:a,height:o,top:n,left:l,right:l+a,bottom:n+o,x:l,y:n}}var mD=typeof document<"u",hD=function(){},jc=mD?y.useLayoutEffect:hD;const pD={...qg},xD=pD.useInsertionEffect,gD=xD||(r=>r());function yD(r){const l=y.useRef(()=>{});return gD(()=>{l.current=r}),y.useCallback(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return l.current==null?void 0:l.current(...a)},[])}function bg(r,l,n){let{reference:a,floating:o}=r;const d=ks(l),u=bm(l),m=ym(u),p=Ir(l),g=d==="y",x=a.x+a.width/2-o.width/2,v=a.y+a.height/2-o.height/2,b=a[m]/2-o[m]/2;let C;switch(p){case"top":C={x,y:a.y-o.height};break;case"bottom":C={x,y:a.y+a.height};break;case"right":C={x:a.x+a.width,y:v};break;case"left":C={x:a.x-o.width,y:v};break;default:C={x:a.x,y:a.y}}switch(Ni(l)){case"start":C[u]-=b*(n&&g?-1:1);break;case"end":C[u]+=b*(n&&g?-1:1);break}return C}const bD=async(r,l,n)=>{const{placement:a="bottom",strategy:o="absolute",middleware:d=[],platform:u}=n,m=d.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(l));let g=await u.getElementRects({reference:r,floating:l,strategy:o}),{x,y:v}=bg(g,a,p),b=a,C={},N=0;for(let E=0;E<m.length;E++){const{name:_,fn:k}=m[E],{x:M,y:R,data:H,reset:O}=await k({x,y:v,initialPlacement:a,placement:b,strategy:o,middlewareData:C,rects:g,platform:u,elements:{reference:r,floating:l}});x=M??x,v=R??v,C={...C,[_]:{...C[_],...H}},O&&N<=50&&(N++,typeof O=="object"&&(O.placement&&(b=O.placement),O.rects&&(g=O.rects===!0?await u.getElementRects({reference:r,floating:l,strategy:o}):O.rects),{x,y:v}=bg(g,b,p)),E=-1)}return{x,y:v,placement:b,strategy:o,middlewareData:C}};async function vD(r,l){var n;l===void 0&&(l={});const{x:a,y:o,platform:d,rects:u,elements:m,strategy:p}=r,{boundary:g="clippingAncestors",rootBoundary:x="viewport",elementContext:v="floating",altBoundary:b=!1,padding:C=0}=$c(l,r),N=mb(C),_=m[b?v==="floating"?"reference":"floating":v],k=Nc(await d.getClippingRect({element:(n=await(d.isElement==null?void 0:d.isElement(_)))==null||n?_:_.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(m.floating)),boundary:g,rootBoundary:x,strategy:p})),M=v==="floating"?{x:a,y:o,width:u.floating.width,height:u.floating.height}:u.reference,R=await(d.getOffsetParent==null?void 0:d.getOffsetParent(m.floating)),H=await(d.isElement==null?void 0:d.isElement(R))?await(d.getScale==null?void 0:d.getScale(R))||{x:1,y:1}:{x:1,y:1},O=Nc(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:M,offsetParent:R,strategy:p}):M);return{top:(k.top-O.top+N.top)/H.y,bottom:(O.bottom-k.bottom+N.bottom)/H.y,left:(k.left-O.left+N.left)/H.x,right:(O.right-k.right+N.right)/H.x}}const wD=r=>({name:"arrow",options:r,async fn(l){const{x:n,y:a,placement:o,rects:d,platform:u,elements:m,middlewareData:p}=l,{element:g,padding:x=0}=$c(r,l)||{};if(g==null)return{};const v=mb(x),b={x:n,y:a},C=bm(o),N=ym(C),E=await u.getDimensions(g),_=C==="y",k=_?"top":"left",M=_?"bottom":"right",R=_?"clientHeight":"clientWidth",H=d.reference[N]+d.reference[C]-b[C]-d.floating[N],O=b[C]-d.reference[C],$=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let I=$?$[R]:0;(!I||!await(u.isElement==null?void 0:u.isElement($)))&&(I=m.floating[R]||d.floating[N]);const Y=H/2-O/2,G=I/2-E[N]/2-1,de=Br(v[k],G),ue=Br(v[M],G),V=de,ne=I-E[N]-ue,se=I/2-E[N]/2+Y,F=nD(V,se,ne),S=!p.arrow&&Ni(o)!=null&&se!==F&&d.reference[N]/2-(se<V?de:ue)-E[N]/2<0,T=S?se<V?se-V:se-ne:0;return{[C]:b[C]+T,data:{[C]:F,centerOffset:se-F-T,...S&&{alignmentOffset:T}},reset:S}}}),ND=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(l){var n,a;const{placement:o,middlewareData:d,rects:u,initialPlacement:m,platform:p,elements:g}=l,{mainAxis:x=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:E=!0,..._}=$c(r,l);if((n=d.arrow)!=null&&n.alignmentOffset)return{};const k=Ir(o),M=ks(m),R=Ir(m)===m,H=await(p.isRTL==null?void 0:p.isRTL(g.floating)),O=b||(R||!E?[wc(m)]:iD(m)),$=N!=="none";!b&&$&&O.push(...uD(m,E,N,H));const I=[m,...O],Y=await vD(l,_),G=[];let de=((a=d.flip)==null?void 0:a.overflows)||[];if(x&&G.push(Y[k]),v){const se=lD(o,u,H);G.push(Y[se[0]],Y[se[1]])}if(de=[...de,{placement:o,overflows:G}],!G.every(se=>se<=0)){var ue,V;const se=(((ue=d.flip)==null?void 0:ue.index)||0)+1,F=I[se];if(F&&(!(v==="alignment"?M!==ks(F):!1)||de.every(U=>U.overflows[0]>0&&ks(U.placement)===M)))return{data:{index:se,overflows:de},reset:{placement:F}};let S=(V=de.filter(T=>T.overflows[0]<=0).sort((T,U)=>T.overflows[1]-U.overflows[1])[0])==null?void 0:V.placement;if(!S)switch(C){case"bestFit":{var ne;const T=(ne=de.filter(U=>{if($){const A=ks(U.placement);return A===M||A==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(A=>A>0).reduce((A,j)=>A+j,0)]).sort((U,A)=>U[1]-A[1])[0])==null?void 0:ne[0];T&&(S=T);break}case"initialPlacement":S=m;break}if(o!==S)return{reset:{placement:S}}}return{}}}},jD=new Set(["left","top"]);async function SD(r,l){const{placement:n,platform:a,elements:o}=r,d=await(a.isRTL==null?void 0:a.isRTL(o.floating)),u=Ir(n),m=Ni(n),p=ks(n)==="y",g=jD.has(u)?-1:1,x=d&&p?-1:1,v=$c(l,r);let{mainAxis:b,crossAxis:C,alignmentAxis:N}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return m&&typeof N=="number"&&(C=m==="end"?N*-1:N),p?{x:C*x,y:b*g}:{x:b*g,y:C*x}}const CD=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(l){var n,a;const{x:o,y:d,placement:u,middlewareData:m}=l,p=await SD(l,r);return u===((n=m.offset)==null?void 0:n.placement)&&(a=m.arrow)!=null&&a.alignmentOffset?{}:{x:o+p.x,y:d+p.y,data:{...p,placement:u}}}}};function hb(r){const l=Ca(r);let n=parseFloat(l.width)||0,a=parseFloat(l.height)||0;const o=Ja(r),d=o?r.offsetWidth:n,u=o?r.offsetHeight:a,m=vc(n)!==d||vc(a)!==u;return m&&(n=d,a=u),{width:n,height:a,$:m}}function vm(r){return Bt(r)?r:r.contextElement}function Ar(r){const l=vm(r);if(!Ja(l))return Wa(1);const n=l.getBoundingClientRect(),{width:a,height:o,$:d}=hb(l);let u=(d?vc(n.width):n.width)/a,m=(d?vc(n.height):n.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!m||!Number.isFinite(m))&&(m=1),{x:u,y:m}}const _D=Wa(0);function pb(r){const l=ca(r);return!gm()||!l.visualViewport?_D:{x:l.visualViewport.offsetLeft,y:l.visualViewport.offsetTop}}function DD(r,l,n){return l===void 0&&(l=!1),!n||l&&n!==ca(r)?!1:l}function Ys(r,l,n,a){l===void 0&&(l=!1),n===void 0&&(n=!1);const o=r.getBoundingClientRect(),d=vm(r);let u=Wa(1);l&&(a?Bt(a)&&(u=Ar(a)):u=Ar(r));const m=DD(d,n,a)?pb(d):Wa(0);let p=(o.left+m.x)/u.x,g=(o.top+m.y)/u.y,x=o.width/u.x,v=o.height/u.y;if(d){const b=ca(d),C=a&&Bt(a)?ca(a):a;let N=b,E=Vf(N);for(;E&&a&&C!==N;){const _=Ar(E),k=E.getBoundingClientRect(),M=Ca(E),R=k.left+(E.clientLeft+parseFloat(M.paddingLeft))*_.x,H=k.top+(E.clientTop+parseFloat(M.paddingTop))*_.y;p*=_.x,g*=_.y,x*=_.x,v*=_.y,p+=R,g+=H,N=ca(E),E=Vf(N)}}return Nc({width:x,height:v,x:p,y:g})}function wm(r,l){const n=Ic(r).scrollLeft;return l?l.left+n:Ys(en(r)).left+n}function xb(r,l,n){n===void 0&&(n=!1);const a=r.getBoundingClientRect(),o=a.left+l.scrollLeft-(n?0:wm(r,a)),d=a.top+l.scrollTop;return{x:o,y:d}}function kD(r){let{elements:l,rect:n,offsetParent:a,strategy:o}=r;const d=o==="fixed",u=en(a),m=l?Bc(l.floating):!1;if(a===u||m&&d)return n;let p={scrollLeft:0,scrollTop:0},g=Wa(1);const x=Wa(0),v=Ja(a);if((v||!v&&!d)&&((Wr(a)!=="body"||wi(u))&&(p=Ic(a)),Ja(a))){const C=Ys(a);g=Ar(a),x.x=C.x+a.clientLeft,x.y=C.y+a.clientTop}const b=u&&!v&&!d?xb(u,p,!0):Wa(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-p.scrollLeft*g.x+x.x+b.x,y:n.y*g.y-p.scrollTop*g.y+x.y+b.y}}function ED(r){return Array.from(r.getClientRects())}function TD(r){const l=en(r),n=Ic(r),a=r.ownerDocument.body,o=Os(l.scrollWidth,l.clientWidth,a.scrollWidth,a.clientWidth),d=Os(l.scrollHeight,l.clientHeight,a.scrollHeight,a.clientHeight);let u=-n.scrollLeft+wm(r);const m=-n.scrollTop;return Ca(a).direction==="rtl"&&(u+=Os(l.clientWidth,a.clientWidth)-o),{width:o,height:d,x:u,y:m}}function MD(r,l){const n=ca(r),a=en(r),o=n.visualViewport;let d=a.clientWidth,u=a.clientHeight,m=0,p=0;if(o){d=o.width,u=o.height;const g=gm();(!g||g&&l==="fixed")&&(m=o.offsetLeft,p=o.offsetTop)}return{width:d,height:u,x:m,y:p}}const AD=new Set(["absolute","fixed"]);function RD(r,l){const n=Ys(r,!0,l==="fixed"),a=n.top+r.clientTop,o=n.left+r.clientLeft,d=Ja(r)?Ar(r):Wa(1),u=r.clientWidth*d.x,m=r.clientHeight*d.y,p=o*d.x,g=a*d.y;return{width:u,height:m,x:p,y:g}}function vg(r,l,n){let a;if(l==="viewport")a=MD(r,n);else if(l==="document")a=TD(en(r));else if(Bt(l))a=RD(l,n);else{const o=pb(r);a={x:l.x-o.x,y:l.y-o.y,width:l.width,height:l.height}}return Nc(a)}function gb(r,l){const n=ns(r);return n===l||!Bt(n)||Fr(n)?!1:Ca(n).position==="fixed"||gb(n,l)}function OD(r,l){const n=l.get(r);if(n)return n;let a=mi(r,[],!1).filter(m=>Bt(m)&&Wr(m)!=="body"),o=null;const d=Ca(r).position==="fixed";let u=d?ns(r):r;for(;Bt(u)&&!Fr(u);){const m=Ca(u),p=xm(u);!p&&m.position==="fixed"&&(o=null),(d?!p&&!o:!p&&m.position==="static"&&!!o&&AD.has(o.position)||wi(u)&&!p&&gb(r,u))?a=a.filter(x=>x!==u):o=m,u=ns(u)}return l.set(r,a),a}function LD(r){let{element:l,boundary:n,rootBoundary:a,strategy:o}=r;const u=[...n==="clippingAncestors"?Bc(l)?[]:OD(l,this._c):[].concat(n),a],m=u[0],p=u.reduce((g,x)=>{const v=vg(l,x,o);return g.top=Os(v.top,g.top),g.right=Br(v.right,g.right),g.bottom=Br(v.bottom,g.bottom),g.left=Os(v.left,g.left),g},vg(l,m,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function PD(r){const{width:l,height:n}=hb(r);return{width:l,height:n}}function UD(r,l,n){const a=Ja(l),o=en(l),d=n==="fixed",u=Ys(r,!0,d,l);let m={scrollLeft:0,scrollTop:0};const p=Wa(0);function g(){p.x=wm(o)}if(a||!a&&!d)if((Wr(l)!=="body"||wi(o))&&(m=Ic(l)),a){const C=Ys(l,!0,d,l);p.x=C.x+l.clientLeft,p.y=C.y+l.clientTop}else o&&g();d&&!a&&o&&g();const x=o&&!a&&!d?xb(o,m):Wa(0),v=u.left+m.scrollLeft-p.x-x.x,b=u.top+m.scrollTop-p.y-x.y;return{x:v,y:b,width:u.width,height:u.height}}function wf(r){return Ca(r).position==="static"}function wg(r,l){if(!Ja(r)||Ca(r).position==="fixed")return null;if(l)return l(r);let n=r.offsetParent;return en(r)===n&&(n=n.ownerDocument.body),n}function yb(r,l){const n=ca(r);if(Bc(r))return n;if(!Ja(r)){let o=ns(r);for(;o&&!Fr(o);){if(Bt(o)&&!wf(o))return o;o=ns(o)}return n}let a=wg(r,l);for(;a&&G_(a)&&wf(a);)a=wg(a,l);return a&&Fr(a)&&wf(a)&&!xm(a)?n:a||J_(r)||n}const zD=async function(r){const l=this.getOffsetParent||yb,n=this.getDimensions,a=await n(r.floating);return{reference:UD(r.reference,await l(r.floating),r.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function YD(r){return Ca(r).direction==="rtl"}const HD={convertOffsetParentRelativeRectToViewportRelativeRect:kD,getDocumentElement:en,getClippingRect:LD,getOffsetParent:yb,getElementRects:zD,getClientRects:ED,getDimensions:PD,getScale:Ar,isElement:Bt,isRTL:YD};function bb(r,l){return r.x===l.x&&r.y===l.y&&r.width===l.width&&r.height===l.height}function FD(r,l){let n=null,a;const o=en(r);function d(){var m;clearTimeout(a),(m=n)==null||m.disconnect(),n=null}function u(m,p){m===void 0&&(m=!1),p===void 0&&(p=1),d();const g=r.getBoundingClientRect(),{left:x,top:v,width:b,height:C}=g;if(m||l(),!b||!C)return;const N=Qo(v),E=Qo(o.clientWidth-(x+b)),_=Qo(o.clientHeight-(v+C)),k=Qo(x),R={rootMargin:-N+"px "+-E+"px "+-_+"px "+-k+"px",threshold:Os(0,Br(1,p))||1};let H=!0;function O($){const I=$[0].intersectionRatio;if(I!==p){if(!H)return u();I?u(!1,I):a=setTimeout(()=>{u(!1,1e-7)},1e3)}I===1&&!bb(g,r.getBoundingClientRect())&&u(),H=!1}try{n=new IntersectionObserver(O,{...R,root:o.ownerDocument})}catch{n=new IntersectionObserver(O,R)}n.observe(r)}return u(!0),d}function BD(r,l,n,a){a===void 0&&(a={});const{ancestorScroll:o=!0,ancestorResize:d=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:p=!1}=a,g=vm(r),x=o||d?[...g?mi(g):[],...mi(l)]:[];x.forEach(k=>{o&&k.addEventListener("scroll",n,{passive:!0}),d&&k.addEventListener("resize",n)});const v=g&&m?FD(g,n):null;let b=-1,C=null;u&&(C=new ResizeObserver(k=>{let[M]=k;M&&M.target===g&&C&&(C.unobserve(l),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var R;(R=C)==null||R.observe(l)})),n()}),g&&!p&&C.observe(g),C.observe(l));let N,E=p?Ys(r):null;p&&_();function _(){const k=Ys(r);E&&!bb(E,k)&&n(),E=k,N=requestAnimationFrame(_)}return n(),()=>{var k;x.forEach(M=>{o&&M.removeEventListener("scroll",n),d&&M.removeEventListener("resize",n)}),v==null||v(),(k=C)==null||k.disconnect(),C=null,p&&cancelAnimationFrame(N)}}const ID=CD,$D=ND,Ng=wD,qD=(r,l,n)=>{const a=new Map,o={platform:HD,...n},d={...o.platform,_c:a};return bD(r,l,{...o,platform:d})};var VD=typeof document<"u",QD=function(){},oc=VD?y.useLayoutEffect:QD;function Sc(r,l){if(r===l)return!0;if(typeof r!=typeof l)return!1;if(typeof r=="function"&&r.toString()===l.toString())return!0;let n,a,o;if(r&&l&&typeof r=="object"){if(Array.isArray(r)){if(n=r.length,n!==l.length)return!1;for(a=n;a--!==0;)if(!Sc(r[a],l[a]))return!1;return!0}if(o=Object.keys(r),n=o.length,n!==Object.keys(l).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(l,o[a]))return!1;for(a=n;a--!==0;){const d=o[a];if(!(d==="_owner"&&r.$$typeof)&&!Sc(r[d],l[d]))return!1}return!0}return r!==r&&l!==l}function vb(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function jg(r,l){const n=vb(r);return Math.round(l*n)/n}function Nf(r){const l=y.useRef(r);return oc(()=>{l.current=r}),l}function GD(r){r===void 0&&(r={});const{placement:l="bottom",strategy:n="absolute",middleware:a=[],platform:o,elements:{reference:d,floating:u}={},transform:m=!0,whileElementsMounted:p,open:g}=r,[x,v]=y.useState({x:0,y:0,strategy:n,placement:l,middlewareData:{},isPositioned:!1}),[b,C]=y.useState(a);Sc(b,a)||C(a);const[N,E]=y.useState(null),[_,k]=y.useState(null),M=y.useCallback(U=>{U!==$.current&&($.current=U,E(U))},[]),R=y.useCallback(U=>{U!==I.current&&(I.current=U,k(U))},[]),H=d||N,O=u||_,$=y.useRef(null),I=y.useRef(null),Y=y.useRef(x),G=p!=null,de=Nf(p),ue=Nf(o),V=Nf(g),ne=y.useCallback(()=>{if(!$.current||!I.current)return;const U={placement:l,strategy:n,middleware:b};ue.current&&(U.platform=ue.current),qD($.current,I.current,U).then(A=>{const j={...A,isPositioned:V.current!==!1};se.current&&!Sc(Y.current,j)&&(Y.current=j,oy.flushSync(()=>{v(j)}))})},[b,l,n,ue,V]);oc(()=>{g===!1&&Y.current.isPositioned&&(Y.current.isPositioned=!1,v(U=>({...U,isPositioned:!1})))},[g]);const se=y.useRef(!1);oc(()=>(se.current=!0,()=>{se.current=!1}),[]),oc(()=>{if(H&&($.current=H),O&&(I.current=O),H&&O){if(de.current)return de.current(H,O,ne);ne()}},[H,O,ne,de,G]);const F=y.useMemo(()=>({reference:$,floating:I,setReference:M,setFloating:R}),[M,R]),S=y.useMemo(()=>({reference:H,floating:O}),[H,O]),T=y.useMemo(()=>{const U={position:n,left:0,top:0};if(!S.floating)return U;const A=jg(S.floating,x.x),j=jg(S.floating,x.y);return m?{...U,transform:"translate("+A+"px, "+j+"px)",...vb(S.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:j}},[n,m,S.floating,x.x,x.y]);return y.useMemo(()=>({...x,update:ne,refs:F,elements:S,floatingStyles:T}),[x,ne,F,S,T])}const XD=r=>{function l(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:r,fn(n){const{element:a,padding:o}=typeof r=="function"?r(n):r;return a&&l(a)?a.current!=null?Ng({element:a.current,padding:o}).fn(n):{}:a?Ng({element:a,padding:o}).fn(n):{}}}},KD=(r,l)=>({...ID(r),options:[r,l]}),WD=(r,l)=>({...$D(r),options:[r,l]}),ZD=(r,l)=>({...XD(r),options:[r,l]}),JD={...qg};let Sg=!1,ek=0;const Cg=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ek++;function tk(){const[r,l]=y.useState(()=>Sg?Cg():void 0);return jc(()=>{r==null&&l(Cg())},[]),y.useEffect(()=>{Sg=!0},[]),r}const ak=JD.useId,wb=ak||tk,nk=y.forwardRef(function(l,n){const{context:{placement:a,elements:{floating:o},middlewareData:{arrow:d,shift:u}},width:m=14,height:p=7,tipRadius:g=0,strokeWidth:x=0,staticOffset:v,stroke:b,d:C,style:{transform:N,...E}={},..._}=l,k=wb(),[M,R]=y.useState(!1);if(jc(()=>{if(!o)return;Ca(o).direction==="rtl"&&R(!0)},[o]),!o)return null;const[H,O]=a.split("-"),$=H==="top"||H==="bottom";let I=v;($&&u!=null&&u.x||!$&&u!=null&&u.y)&&(I=null);const Y=x*2,G=Y/2,de=m/2*(g/-8+1),ue=p/2*g/4,V=!!C,ne=I&&O==="end"?"bottom":"top";let se=I&&O==="end"?"right":"left";I&&M&&(se=O==="end"?"left":"right");const F=(d==null?void 0:d.x)!=null?I||d.x:"",S=(d==null?void 0:d.y)!=null?I||d.y:"",T=C||"M0,0"+(" H"+m)+(" L"+(m-de)+","+(p-ue))+(" Q"+m/2+","+p+" "+de+","+(p-ue))+" Z",U={top:V?"rotate(180deg)":"",left:V?"rotate(90deg)":"rotate(-90deg)",bottom:V?"":"rotate(180deg)",right:V?"rotate(-90deg)":"rotate(90deg)"}[H];return t.jsxs("svg",{..._,"aria-hidden":!0,ref:n,width:V?m:m+Y,height:m,viewBox:"0 0 "+m+" "+(p>m?p:m),style:{position:"absolute",pointerEvents:"none",[se]:F,[ne]:S,[H]:$||V?"100%":"calc(100% - "+Y/2+"px)",transform:[U,N].filter(A=>!!A).join(" "),...E},children:[Y>0&&t.jsx("path",{clipPath:"url(#"+k+")",fill:"none",stroke:b,strokeWidth:Y+(C?0:1),d:T}),t.jsx("path",{stroke:Y&&!C?_.fill:"none",d:T}),t.jsx("clipPath",{id:k,children:t.jsx("rect",{x:-G,y:G*(V?-1:1),width:m+Y,height:m})})]})});function sk(){const r=new Map;return{emit(l,n){var a;(a=r.get(l))==null||a.forEach(o=>o(n))},on(l,n){r.has(l)||r.set(l,new Set),r.get(l).add(n)},off(l,n){var a;(a=r.get(l))==null||a.delete(n)}}}const rk=y.createContext(null),lk=y.createContext(null),ik=()=>{var r;return((r=y.useContext(rk))==null?void 0:r.id)||null},ok=()=>y.useContext(lk);function ck(r){const{open:l=!1,onOpenChange:n,elements:a}=r,o=wb(),d=y.useRef({}),[u]=y.useState(()=>sk()),m=ik()!=null,[p,g]=y.useState(a.reference),x=yD((C,N,E)=>{d.current.openEvent=C?N:void 0,u.emit("openchange",{open:C,event:N,reason:E,nested:m}),n==null||n(C,N,E)}),v=y.useMemo(()=>({setPositionReference:g}),[]),b=y.useMemo(()=>({reference:p||a.reference||null,floating:a.floating||null,domReference:a.reference}),[p,a.reference,a.floating]);return y.useMemo(()=>({dataRef:d,open:l,onOpenChange:x,elements:b,events:u,floatingId:o,refs:v}),[l,x,b,u,o,v])}function dk(r){r===void 0&&(r={});const{nodeId:l}=r,n=ck({...r,elements:{reference:null,floating:null,...r.elements}}),a=r.rootContext||n,o=a.elements,[d,u]=y.useState(null),[m,p]=y.useState(null),x=(o==null?void 0:o.domReference)||d,v=y.useRef(null),b=ok();jc(()=>{x&&(v.current=x)},[x]);const C=GD({...r,elements:{...o,...m&&{reference:m}}}),N=y.useCallback(R=>{const H=Bt(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),getClientRects:()=>R.getClientRects(),contextElement:R}:R;p(H),C.refs.setReference(H)},[C.refs]),E=y.useCallback(R=>{(Bt(R)||R===null)&&(v.current=R,u(R)),(Bt(C.refs.reference.current)||C.refs.reference.current===null||R!==null&&!Bt(R))&&C.refs.setReference(R)},[C.refs]),_=y.useMemo(()=>({...C.refs,setReference:E,setPositionReference:N,domReference:v}),[C.refs,E,N]),k=y.useMemo(()=>({...C.elements,domReference:x}),[C.elements,x]),M=y.useMemo(()=>({...C,...a,refs:_,elements:k,nodeId:l}),[C,_,k,l,a]);return jc(()=>{a.dataRef.current.floatingContext=M;const R=b==null?void 0:b.nodesRef.current.find(H=>H.id===l);R&&(R.context=M)}),y.useMemo(()=>({...C,context:M,refs:_,elements:k}),[C,_,k,M])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Gf=function(l,n){return Gf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(a[d]=o[d])},Gf(l,n)};function kt(r,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");Gf(r,l);function n(){this.constructor=r}r.prototype=l===null?Object.create(l):(n.prototype=l.prototype,new n)}var Be=function(){return Be=Object.assign||function(n){for(var a,o=1,d=arguments.length;o<d;o++){a=arguments[o];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(n[u]=a[u])}return n},Be.apply(this,arguments)};function Xa(r,l,n){if(n||arguments.length===2)for(var a=0,o=l.length,d;a<o;a++)(d||!(a in l))&&(d||(d=Array.prototype.slice.call(l,0,a)),d[a]=l[a]);return r.concat(d||Array.prototype.slice.call(l))}var uk=function(r){var l=r.showTimeSelectOnly,n=l===void 0?!1:l,a=r.showTime,o=a===void 0?!1:a,d=r.className,u=r.children,m=n?"Choose Time":"Choose Date".concat(o?" and Time":"");return le.createElement("div",{className:d,role:"dialog","aria-label":m,"aria-modal":"true"},u)},fk=function(r,l){var n=y.useRef(null),a=y.useRef(r);a.current=r;var o=y.useCallback(function(d){var u,m=d.composed&&d.composedPath&&d.composedPath().find(function(p){return p instanceof Node})||d.target;n.current&&!n.current.contains(m)&&(l&&m instanceof HTMLElement&&m.classList.contains(l)||(u=a.current)===null||u===void 0||u.call(a,d))},[l]);return y.useEffect(function(){return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[o]),n},qc=function(r){var l=r.children,n=r.onClickOutside,a=r.className,o=r.containerRef,d=r.style,u=r.ignoreClass,m=fk(n,u);return le.createElement("div",{className:a,style:d,ref:function(p){m.current=p,o&&(o.current=p)}},l)},ge;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(ge||(ge={}));function Nb(){var r=typeof window<"u"?window:globalThis;return r}var ji=12;function Ve(r){if(r==null)return new Date;var l=typeof r=="string"?T_(r):ve(r);return Vc(l)?l:new Date}function jf(r,l,n,a,o){o===void 0&&(o=Ve());for(var d=$r(n)||$r(Nm()),u=Array.isArray(l)?l:[l],m=0,p=u;m<p.length;m++){var g=p[m],x=S_(r,g,o,{locale:d});if(Vc(x)&&(!a||r===lt(x,g,n)))return x}return null}function Vc(r,l){return pc(r)&&!zs(r,new Date("1/1/1800"))}function lt(r,l,n){if(n==="en")return mg(r,l,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var a=n?$r(n):void 0;return n&&!a&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),a=a||$r(Nm()),mg(r,l,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function va(r,l){var n=l.dateFormat,a=l.locale,o=Array.isArray(n)&&n.length>0?n[0]:n;return r&&lt(r,o,a)||""}var jb=" - ";function mk(r,l,n){if(!r)return"";var a=va(r,n),o=l?va(l,n):"";return"".concat(a).concat(jb).concat(o)}function hk(r,l){if(!(r!=null&&r.length))return"";var n=r[0]?va(r[0],l):"";if(r.length===1)return n;if(r.length===2&&r[1]){var a=va(r[1],l);return"".concat(n,", ").concat(a)}var o=r.length-1;return"".concat(n," (+").concat(o,")")}function Sf(r,l){var n=l.hour,a=n===void 0?0:n,o=l.minute,d=o===void 0?0:o,u=l.second,m=u===void 0?0:u;return rc(lc(ic(r,m),d),a)}function pk(r){return fm(r)}function xk(r,l){return lt(r,"ddd",l)}function cc(r){return Us(r)}function ts(r,l,n){var a=$r(l||Nm());return Cn(r,{locale:a,weekStartsOn:n})}function Nn(r){return eb(r)}function li(r){return Hc(r)}function _g(r){return If(r)}function Dg(){return Us(Ve())}function kg(r){return Zy(r)}function gk(r){return T4(r)}function yk(r){return Jy(r)}function Va(r,l){return r&&l?k_(r,l):!r&&!l}function Ft(r,l){return r&&l?__(r,l):!r&&!l}function Cc(r,l){return r&&l?D_(r,l):!r&&!l}function Fe(r,l){return r&&l?k4(r,l):!r&&!l}function Es(r,l){return r&&l?E3(r,l):!r&&!l}function ii(r,l,n){var a,o=Us(l),d=Zy(n);try{a=fi(r,{start:o,end:d})}catch{a=!1}return a}function Nm(){var r=Nb();return r.__localeId__}function $r(r){if(typeof r=="string"){var l=Nb();return l.__localeData__?l.__localeData__[r]:void 0}else return r}function bk(r,l,n){return l(lt(r,"EEEE",n))}function vk(r,l){return lt(r,"EEEEEE",l)}function wk(r,l){return lt(r,"EEE",l)}function jm(r,l){return lt(wa(Ve(),r),"LLLL",l)}function Sb(r,l){return lt(wa(Ve(),r),"LLL",l)}function Nk(r,l){return lt(Er(Ve(),r),"QQQ",l)}function Na(r,l){var n=l===void 0?{}:l,a=n.minDate,o=n.maxDate,d=n.excludeDates,u=n.excludeDateIntervals,m=n.includeDates,p=n.includeDateIntervals,g=n.filterDate;return Si(r,{minDate:a,maxDate:o})||d&&d.some(function(x){return x instanceof Date?Fe(r,x):Fe(r,x.date)})||u&&u.some(function(x){var v=x.start,b=x.end;return fi(r,{start:v,end:b})})||m&&!m.some(function(x){return Fe(r,x)})||p&&!p.some(function(x){var v=x.start,b=x.end;return fi(r,{start:v,end:b})})||g&&!g(Ve(r))||!1}function Sm(r,l){var n=l===void 0?{}:l,a=n.excludeDates,o=n.excludeDateIntervals;return o&&o.length>0?o.some(function(d){var u=d.start,m=d.end;return fi(r,{start:u,end:m})}):a&&a.some(function(d){var u;return d instanceof Date?Fe(r,d):Fe(r,(u=d.date)!==null&&u!==void 0?u:new Date)})||!1}function Cb(r,l){var n=l===void 0?{}:l,a=n.minDate,o=n.maxDate,d=n.excludeDates,u=n.includeDates,m=n.filterDate;return Si(r,{minDate:a?eb(a):void 0,maxDate:o?Jy(o):void 0})||(d==null?void 0:d.some(function(p){return Ft(r,p instanceof Date?p:p.date)}))||u&&!u.some(function(p){return Ft(r,p)})||m&&!m(Ve(r))||!1}function Go(r,l,n,a){var o=Re(r),d=zt(r),u=Re(l),m=zt(l),p=Re(a);return o===u&&o===p?d<=n&&n<=m:o<u?p===o&&d<=n||p===u&&m>=n||p<u&&p>o:!1}function jk(r,l){var n=l===void 0?{}:l,a=n.minDate,o=n.maxDate,d=n.excludeDates,u=n.includeDates;return Si(r,{minDate:a,maxDate:o})||d&&d.some(function(m){return Ft(m instanceof Date?m:m.date,r)})||u&&!u.some(function(m){return Ft(m,r)})||!1}function Xo(r,l){var n=l===void 0?{}:l,a=n.minDate,o=n.maxDate,d=n.excludeDates,u=n.includeDates,m=n.filterDate;return Si(r,{minDate:a,maxDate:o})||(d==null?void 0:d.some(function(p){return Cc(r,p instanceof Date?p:p.date)}))||u&&!u.some(function(p){return Cc(r,p)})||m&&!m(Ve(r))||!1}function Ko(r,l,n){if(!l||!n||!pc(l)||!pc(n))return!1;var a=Re(l),o=Re(n);return a<=r&&o>=r}function dc(r,l){var n=l===void 0?{}:l,a=n.minDate,o=n.maxDate,d=n.excludeDates,u=n.includeDates,m=n.filterDate,p=new Date(r,0,1);return Si(p,{minDate:a?Hc(a):void 0,maxDate:o?tb(o):void 0})||(d==null?void 0:d.some(function(g){return Va(p,g instanceof Date?g:g.date)}))||u&&!u.some(function(g){return Va(p,g)})||m&&!m(Ve(p))||!1}function Wo(r,l,n,a){var o=Re(r),d=As(r),u=Re(l),m=As(l),p=Re(a);return o===u&&o===p?d<=n&&n<=m:o<u?p===o&&d<=n||p===u&&m>=n||p<u&&p>o:!1}function Si(r,l){var n,a=l===void 0?{}:l,o=a.minDate,d=a.maxDate;return(n=o&&Yr(r,o)<0||d&&Yr(r,d)>0)!==null&&n!==void 0?n:!1}function Eg(r,l){return l.some(function(n){return vn(n)===vn(r)&&wn(n)===wn(r)&&es(n)===es(r)})}function Tg(r,l){var n=l===void 0?{}:l,a=n.excludeTimes,o=n.includeTimes,d=n.filterTime;return a&&Eg(r,a)||o&&!Eg(r,o)||d&&!d(r)||!1}function Mg(r,l){var n=l.minTime,a=l.maxTime;if(!n||!a)throw new Error("Both minTime and maxTime props required");var o=Ve();o=rc(o,vn(r)),o=lc(o,wn(r)),o=ic(o,es(r));var d=Ve();d=rc(d,vn(n)),d=lc(d,wn(n)),d=ic(d,es(n));var u=Ve();u=rc(u,vn(a)),u=lc(u,wn(a)),u=ic(u,es(a));var m;try{m=!fi(o,{start:d,end:u})}catch{m=!1}return m}function Ag(r,l){var n=l===void 0?{}:l,a=n.minDate,o=n.includeDates,d=Rs(r,1);return a&&xc(a,d)>0||o&&o.every(function(u){return xc(u,d)>0})||!1}function Rg(r,l){var n=l===void 0?{}:l,a=n.maxDate,o=n.includeDates,d=Aa(r,1);return a&&xc(d,a)>0||o&&o.every(function(u){return xc(d,u)>0})||!1}function Sk(r,l){var n=l===void 0?{}:l,a=n.minDate,o=n.includeDates,d=Hc(r),u=db(d);return a&&gc(a,u)>0||o&&o.every(function(m){return gc(m,u)>0})||!1}function Ck(r,l){var n=l===void 0?{}:l,a=n.maxDate,o=n.includeDates,d=tb(r),u=um(d,1);return a&&gc(u,a)>0||o&&o.every(function(m){return gc(u,m)>0})||!1}function Og(r,l){var n=l===void 0?{}:l,a=n.minDate,o=n.includeDates,d=Hr(r,1);return a&&yc(a,d)>0||o&&o.every(function(u){return yc(u,d)>0})||!1}function _k(r,l){var n=l===void 0?{}:l,a=n.minDate,o=n.yearItemNumber,d=o===void 0?ji:o,u=li(Hr(r,d)),m=Zn(u,d).endPeriod,p=a&&Re(a);return p&&p>m||!1}function Lg(r,l){var n=l===void 0?{}:l,a=n.maxDate,o=n.includeDates,d=yn(r,1);return a&&yc(d,a)>0||o&&o.every(function(u){return yc(d,u)>0})||!1}function Dk(r,l){var n=l===void 0?{}:l,a=n.maxDate,o=n.yearItemNumber,d=o===void 0?ji:o,u=yn(r,d),m=Zn(u,d).startPeriod,p=a&&Re(a);return p&&p<m||!1}function _b(r){var l=r.minDate,n=r.includeDates;if(n&&l){var a=n.filter(function(o){return Yr(o,l)>=0});return ig(a)}else return n?ig(n):l}function Db(r){var l=r.maxDate,n=r.includeDates;if(n&&l){var a=n.filter(function(o){return Yr(o,l)<=0});return lg(a)}else return n?lg(n):l}function Pg(r,l){var n;r===void 0&&(r=[]),l===void 0&&(l="react-datepicker__day--highlighted");for(var a=new Map,o=0,d=r.length;o<d;o++){var u=r[o];if(bn(u)){var m=lt(u,"MM.dd.yyyy"),p=a.get(m)||[];p.includes(l)||(p.push(l),a.set(m,p))}else if(typeof u=="object"){var g=Object.keys(u),x=(n=g[0])!==null&&n!==void 0?n:"",v=u[x];if(typeof x=="string"&&Array.isArray(v))for(var b=0,C=v.length;b<C;b++){var N=v[b];if(N){var m=lt(N,"MM.dd.yyyy"),p=a.get(m)||[];p.includes(x)||(p.push(x),a.set(m,p))}}}}return a}function kk(r,l){return r.length!==l.length?!1:r.every(function(n,a){return n===l[a]})}function Ek(r,l){r===void 0&&(r=[]),l===void 0&&(l="react-datepicker__day--holidays");var n=new Map;return r.forEach(function(a){var o=a.date,d=a.holidayName;if(bn(o)){var u=lt(o,"MM.dd.yyyy"),m=n.get(u)||{className:"",holidayNames:[]};if(!("className"in m&&m.className===l&&kk(m.holidayNames,[d]))){m.className=l;var p=m.holidayNames;m.holidayNames=p?Xa(Xa([],p,!0),[d],!1):[d],n.set(u,m)}}}),n}function Tk(r,l,n,a,o){for(var d=o.length,u=[],m=0;m<d;m++){var p=r,g=o[m];g&&(p=S4(p,vn(g)),p=Bf(p,wn(g)),p=D4(p,es(g)));var x=Bf(r,(n+1)*a);as(p,l)&&zs(p,x)&&g!=null&&u.push(g)}return u}function Ug(r){return r<10?"0".concat(r):"".concat(r)}function Zn(r,l){l===void 0&&(l=ji);var n=Math.ceil(Re(r)/l)*l,a=n-(l-1);return{startPeriod:a,endPeriod:n}}function Mk(r){var l=new Date(r.getFullYear(),r.getMonth(),r.getDate()),n=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+n-+l)/36e5)}function zg(r){var l=r.getSeconds(),n=r.getMilliseconds();return ve(r.getTime()-l*1e3-n)}function Ak(r,l){return zg(r).getTime()===zg(l).getTime()}function Yg(r){if(!bn(r))throw new Error("Invalid date");var l=new Date(r);return l.setHours(0,0,0,0),l}function Hg(r,l){if(!bn(r)||!bn(l))throw new Error("Invalid date received");var n=Yg(r),a=Yg(l);return zs(n,a)}function kb(r){return r.key===ge.Space}var Rk=function(r){kt(l,r);function l(n){var a=r.call(this,n)||this;return a.inputRef=le.createRef(),a.onTimeChange=function(o){var d,u;a.setState({time:o});var m=a.props.date,p=m instanceof Date&&!isNaN(+m),g=p?m:new Date;if(o!=null&&o.includes(":")){var x=o.split(":"),v=x[0],b=x[1];g.setHours(Number(v)),g.setMinutes(Number(b))}(u=(d=a.props).onChange)===null||u===void 0||u.call(d,g)},a.renderTimeInput=function(){var o=a.state.time,d=a.props,u=d.date,m=d.timeString,p=d.customTimeInput;return p?y.cloneElement(p,{date:u,value:o,onChange:a.onTimeChange}):le.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:a.inputRef,onClick:function(){var g;(g=a.inputRef.current)===null||g===void 0||g.focus()},required:!0,value:o,onChange:function(g){a.onTimeChange(g.target.value||m)}})},a.state={time:a.props.timeString},a}return l.getDerivedStateFromProps=function(n,a){return n.timeString!==a.time?{time:n.timeString}:null},l.prototype.render=function(){return le.createElement("div",{className:"react-datepicker__input-time-container"},le.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),le.createElement("div",{className:"react-datepicker-time__input-container"},le.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},l}(y.Component),Ok=function(r){kt(l,r);function l(){var n=r!==null&&r.apply(this,arguments)||this;return n.dayEl=y.createRef(),n.handleClick=function(a){!n.isDisabled()&&n.props.onClick&&n.props.onClick(a)},n.handleMouseEnter=function(a){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(a)},n.handleOnKeyDown=function(a){var o,d,u=a.key;u===ge.Space&&(a.preventDefault(),a.key=ge.Enter),(d=(o=n.props).handleOnKeyDown)===null||d===void 0||d.call(o,a)},n.isSameDay=function(a){return Fe(n.props.day,a)},n.isKeyboardSelected=function(){var a;if(n.props.disabledKeyboardNavigation)return!1;var o=n.props.selectsMultiple?(a=n.props.selectedDates)===null||a===void 0?void 0:a.some(function(u){return n.isSameDayOrWeek(u)}):n.isSameDayOrWeek(n.props.selected),d=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!o&&n.isSameDayOrWeek(n.props.preSelection)&&!d},n.isDisabled=function(a){return a===void 0&&(a=n.props.day),Na(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return Sm(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Fe(n.props.day,ts(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(a){return n.props.showWeekPicker&&Fe(a,ts(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(a){return n.isSameDay(a)||n.isSameWeek(a)},n.getHighLightedClass=function(){var a=n.props,o=a.day,d=a.highlightDates;if(!d)return!1;var u=lt(o,"MM.dd.yyyy");return d.get(u)},n.getHolidaysClass=function(){var a,o=n.props,d=o.day,u=o.holidays;if(!u)return[void 0];var m=lt(d,"MM.dd.yyyy");return u.has(m)?[(a=u.get(m))===null||a===void 0?void 0:a.className]:[void 0]},n.isInRange=function(){var a=n.props,o=a.day,d=a.startDate,u=a.endDate;return!d||!u?!1:ii(o,d,u)},n.isInSelectingRange=function(){var a,o=n.props,d=o.day,u=o.selectsStart,m=o.selectsEnd,p=o.selectsRange,g=o.selectsDisabledDaysInRange,x=o.startDate,v=o.endDate,b=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(u||m||p)||!b||!g&&n.isDisabled()?!1:u&&v&&(zs(b,v)||Es(b,v))?ii(d,b,v):m&&x&&(as(b,x)||Es(b,x))||p&&x&&!v&&(as(b,x)||Es(b,x))?ii(d,x,b):!1},n.isSelectingRangeStart=function(){var a;if(!n.isInSelectingRange())return!1;var o=n.props,d=o.day,u=o.startDate,m=o.selectsStart,p=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return m?Fe(d,p):Fe(d,u)},n.isSelectingRangeEnd=function(){var a;if(!n.isInSelectingRange())return!1;var o=n.props,d=o.day,u=o.endDate,m=o.selectsEnd,p=o.selectsRange,g=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return m||p?Fe(d,g):Fe(d,u)},n.isRangeStart=function(){var a=n.props,o=a.day,d=a.startDate,u=a.endDate;return!d||!u?!1:Fe(d,o)},n.isRangeEnd=function(){var a=n.props,o=a.day,d=a.startDate,u=a.endDate;return!d||!u?!1:Fe(u,o)},n.isWeekend=function(){var a=C3(n.props.day);return a===0||a===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===zt(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(zt(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Ve())},n.isSelected=function(){var a;return n.props.selectsMultiple?(a=n.props.selectedDates)===null||a===void 0?void 0:a.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(a){var o=n.props.dayClassName?n.props.dayClassName(a):void 0;return Rt("react-datepicker__day",o,"react-datepicker__day--"+xk(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var a=n.props,o=a.day,d=a.ariaLabelPrefixWhenEnabled,u=d===void 0?"Choose":d,m=a.ariaLabelPrefixWhenDisabled,p=m===void 0?"Not available":m,g=n.isDisabled()||n.isExcluded()?p:u;return"".concat(g," ").concat(lt(o,"PPPP",n.props.locale))},n.getTitle=function(){var a=n.props,o=a.day,d=a.holidays,u=d===void 0?new Map:d,m=a.excludeDates,p=lt(o,"MM.dd.yyyy"),g=[];return u.has(p)&&g.push.apply(g,u.get(p).holidayNames),n.isExcluded()&&g.push(m==null?void 0:m.filter(function(x){return x instanceof Date?Fe(x,o):Fe(x==null?void 0:x.date,o)}).map(function(x){if(!(x instanceof Date))return x==null?void 0:x.message})),g.join(", ")},n.getTabIndex=function(){var a=n.props.selected,o=n.props.preSelection,d=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(a)&&Fe(o,a))?0:-1;return d},n.handleFocusDay=function(){var a;n.shouldFocusDay()&&((a=n.dayEl.current)===null||a===void 0||a.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(hg(n.props.day),n.props.day):hg(n.props.day)},n.render=function(){return le.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&le.createElement("span",{className:"overlay"},n.getTitle()))},n}return l.prototype.componentDidMount=function(){this.handleFocusDay()},l.prototype.componentDidUpdate=function(){this.handleFocusDay()},l.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},l.prototype.isDayActiveElement=function(){var n,a,o;return((a=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||a===void 0?void 0:a.contains(document.activeElement))&&((o=document.activeElement)===null||o===void 0?void 0:o.classList.contains("react-datepicker__day"))},l.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},l}(y.Component),Lk=function(r){kt(l,r);function l(){var n=r!==null&&r.apply(this,arguments)||this;return n.weekNumberEl=y.createRef(),n.handleClick=function(a){n.props.onClick&&n.props.onClick(a)},n.handleOnKeyDown=function(a){var o,d,u=a.key;u===ge.Space&&(a.preventDefault(),a.key=ge.Enter),(d=(o=n.props).handleOnKeyDown)===null||d===void 0||d.call(o,a)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Fe(n.props.date,n.props.selected)&&Fe(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Fe(n.props.date,n.props.selected)&&Fe(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(a){var o=!1;n.getTabIndex()===0&&!(a!=null&&a.isInputFocused)&&Fe(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(o=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(o=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(o=!0)),o&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(l,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},l.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},l.prototype.render=function(){var n=this.props,a=n.weekNumber,o=n.isWeekDisabled,d=n.ariaLabelPrefix,u=d===void 0?l.defaultProps.ariaLabelPrefix:d,m=n.onClick,p={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!m&&!o,"react-datepicker__week-number--selected":!!m&&Fe(this.props.date,this.props.selected)};return le.createElement("div",{ref:this.weekNumberEl,className:Rt(p),"aria-label":"".concat(u," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},a)},l}(y.Component),Pk=function(r){kt(l,r);function l(){var n=r!==null&&r.apply(this,arguments)||this;return n.isDisabled=function(a){return Na(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(a,o){n.props.onDayClick&&n.props.onDayClick(a,o)},n.handleDayMouseEnter=function(a){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleWeekClick=function(a,o,d){for(var u,m,p,g=new Date(a),x=0;x<7;x++){var v=new Date(a);v.setDate(v.getDate()+x);var b=!n.isDisabled(v);if(b){g=v;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(g,o,d),n.props.showWeekPicker&&n.handleDayClick(g,d),((u=n.props.shouldCloseOnSelect)!==null&&u!==void 0?u:l.defaultProps.shouldCloseOnSelect)&&((p=(m=n.props).setOpen)===null||p===void 0||p.call(m,!1))},n.formatWeekNumber=function(a){return n.props.formatWeekNumber?n.props.formatWeekNumber(a):pk(a)},n.isWeekDisabled=function(){for(var a=n.startOfWeek(),o=Ma(a,6),d=new Date(a);d<=o;){if(!n.isDisabled(d))return!1;d=Ma(d,1)}return!0},n.renderDays=function(){var a=n.startOfWeek(),o=[],d=n.formatWeekNumber(a);if(n.props.showWeekNumber){var u=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,a,d):void 0;o.push(le.createElement(Lk,Be({key:"W"},l.defaultProps,n.props,{weekNumber:d,isWeekDisabled:n.isWeekDisabled(),date:a,onClick:u})))}return o.concat([0,1,2,3,4,5,6].map(function(m){var p=Ma(a,m);return le.createElement(Ok,Be({},l.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:p.valueOf(),day:p,onClick:n.handleDayClick.bind(n,p),onMouseEnter:n.handleDayMouseEnter.bind(n,p)}))}))},n.startOfWeek=function(){return ts(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Fe(n.startOfWeek(),n.props.selected)&&Fe(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(l,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),l.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Fe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return le.createElement("div",{className:Rt(n)},this.renderDays())},l}(y.Component),ri,Uk=6,Rr={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Cf=(ri={},ri[Rr.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},ri[Rr.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},ri[Rr.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},ri),Zo=1;function Fg(r,l){return r?Rr.FOUR_COLUMNS:l?Rr.TWO_COLUMNS:Rr.THREE_COLUMNS}var zk=function(r){kt(l,r);function l(){var n=r!==null&&r.apply(this,arguments)||this;return n.MONTH_REFS=Xa([],Array(12),!0).map(function(){return y.createRef()}),n.QUARTER_REFS=Xa([],Array(4),!0).map(function(){return y.createRef()}),n.isDisabled=function(a){return Na(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return Sm(a,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(a,o){var d,u;(u=(d=n.props).onDayClick)===null||u===void 0||u.call(d,a,o,n.props.orderInDisplay)},n.handleDayMouseEnter=function(a){var o,d;(d=(o=n.props).onDayMouseEnter)===null||d===void 0||d.call(o,a)},n.handleMouseLeave=function(){var a,o;(o=(a=n.props).onMouseLeave)===null||o===void 0||o.call(a)},n.isRangeStartMonth=function(a){var o=n.props,d=o.day,u=o.startDate,m=o.endDate;return!u||!m?!1:Ft(wa(d,a),u)},n.isRangeStartQuarter=function(a){var o=n.props,d=o.day,u=o.startDate,m=o.endDate;return!u||!m?!1:Cc(Er(d,a),u)},n.isRangeEndMonth=function(a){var o=n.props,d=o.day,u=o.startDate,m=o.endDate;return!u||!m?!1:Ft(wa(d,a),m)},n.isRangeEndQuarter=function(a){var o=n.props,d=o.day,u=o.startDate,m=o.endDate;return!u||!m?!1:Cc(Er(d,a),m)},n.isInSelectingRangeMonth=function(a){var o,d=n.props,u=d.day,m=d.selectsStart,p=d.selectsEnd,g=d.selectsRange,x=d.startDate,v=d.endDate,b=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(m||p||g)||!b?!1:m&&v?Go(b,v,a,u):p&&x||g&&x&&!v?Go(x,b,a,u):!1},n.isSelectingMonthRangeStart=function(a){var o;if(!n.isInSelectingRangeMonth(a))return!1;var d=n.props,u=d.day,m=d.startDate,p=d.selectsStart,g=wa(u,a),x=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return p?Ft(g,x):Ft(g,m)},n.isSelectingMonthRangeEnd=function(a){var o;if(!n.isInSelectingRangeMonth(a))return!1;var d=n.props,u=d.day,m=d.endDate,p=d.selectsEnd,g=d.selectsRange,x=wa(u,a),v=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return p||g?Ft(x,v):Ft(x,m)},n.isInSelectingRangeQuarter=function(a){var o,d=n.props,u=d.day,m=d.selectsStart,p=d.selectsEnd,g=d.selectsRange,x=d.startDate,v=d.endDate,b=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(m||p||g)||!b?!1:m&&v?Wo(b,v,a,u):p&&x||g&&x&&!v?Wo(x,b,a,u):!1},n.isWeekInMonth=function(a){var o=n.props.day,d=Ma(a,6);return Ft(a,o)||Ft(d,o)},n.isCurrentMonth=function(a,o){return Re(a)===Re(Ve())&&o===zt(Ve())},n.isCurrentQuarter=function(a,o){return Re(a)===Re(Ve())&&o===As(Ve())},n.isSelectedMonth=function(a,o,d){return zt(d)===o&&Re(a)===Re(d)},n.isSelectMonthInList=function(a,o,d){return d.some(function(u){return n.isSelectedMonth(a,o,u)})},n.isSelectedQuarter=function(a,o,d){return As(a)===o&&Re(a)===Re(d)},n.isMonthSelected=function(){var a=n.props,o=a.day,d=a.selected,u=a.selectedDates,m=a.selectsMultiple,p=zt(o);return m?u==null?void 0:u.some(function(g){return n.isSelectedMonth(o,p,g)}):!!d&&n.isSelectedMonth(o,p,d)},n.renderWeeks=function(){for(var a=[],o=n.props.fixedHeight,d=0,u=!1,m=ts(Nn(n.props.day),n.props.locale,n.props.calendarStartDay),p=function(N){return n.props.showWeekPicker?ts(N,n.props.locale,n.props.calendarStartDay):n.props.preSelection},g=function(N){return n.props.showWeekPicker?ts(N,n.props.locale,n.props.calendarStartDay):n.props.selected},x=n.props.selected?g(n.props.selected):void 0,v=n.props.preSelection?p(n.props.preSelection):void 0;a.push(le.createElement(Pk,Be({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:d,day:m,month:zt(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:x,preSelection:v,showWeekNumber:n.props.showWeekNumbers}))),!u;){d++,m=hc(m,1);var b=o&&d>=Uk,C=!o&&!n.isWeekInMonth(m);if(b||C)if(n.props.peekNextMonth)u=!0;else break}return a},n.onMonthClick=function(a,o){var d=n.isMonthDisabledForLabelDate(o),u=d.isDisabled,m=d.labelDate;u||n.handleDayClick(Nn(m),a)},n.onMonthMouseEnter=function(a){var o=n.isMonthDisabledForLabelDate(a),d=o.isDisabled,u=o.labelDate;d||n.handleDayMouseEnter(Nn(u))},n.handleMonthNavigation=function(a,o){var d,u,m,p;(u=(d=n.props).setPreSelection)===null||u===void 0||u.call(d,o),(p=(m=n.MONTH_REFS[a])===null||m===void 0?void 0:m.current)===null||p===void 0||p.focus()},n.handleKeyboardNavigation=function(a,o,d){var u,m=n.props,p=m.selected,g=m.preSelection,x=m.setPreSelection,v=m.minDate,b=m.maxDate,C=m.showFourColumnMonthYearPicker,N=m.showTwoColumnMonthYearPicker;if(g){var E=Fg(C,N),_=n.getVerticalOffset(E),k=(u=Cf[E])===null||u===void 0?void 0:u.grid,M=function(I,Y,G){var de,ue,V=Y,ne=G;switch(I){case ge.ArrowRight:V=Aa(Y,Zo),ne=G===11?0:G+Zo;break;case ge.ArrowLeft:V=Rs(Y,Zo),ne=G===0?11:G-Zo;break;case ge.ArrowUp:V=Rs(Y,_),ne=!((de=k==null?void 0:k[0])===null||de===void 0)&&de.includes(G)?G+12-_:G-_;break;case ge.ArrowDown:V=Aa(Y,_),ne=!((ue=k==null?void 0:k[k.length-1])===null||ue===void 0)&&ue.includes(G)?G-12+_:G+_;break}return{newCalculatedDate:V,newCalculatedMonth:ne}},R=function(I,Y,G){for(var de=40,ue=I,V=!1,ne=0,se=M(ue,Y,G),F=se.newCalculatedDate,S=se.newCalculatedMonth;!V;){if(ne>=de){F=Y,S=G;break}if(v&&F<v){ue=ge.ArrowRight;var T=M(ue,F,S);F=T.newCalculatedDate,S=T.newCalculatedMonth}if(b&&F>b){ue=ge.ArrowLeft;var T=M(ue,F,S);F=T.newCalculatedDate,S=T.newCalculatedMonth}if(jk(F,n.props)){var T=M(ue,F,S);F=T.newCalculatedDate,S=T.newCalculatedMonth}else V=!0;ne++}return{newCalculatedDate:F,newCalculatedMonth:S}};if(o===ge.Enter){n.isMonthDisabled(d)||(n.onMonthClick(a,d),x==null||x(p));return}var H=R(o,g,d),O=H.newCalculatedDate,$=H.newCalculatedMonth;switch(o){case ge.ArrowRight:case ge.ArrowLeft:case ge.ArrowUp:case ge.ArrowDown:n.handleMonthNavigation($,O);break}}},n.getVerticalOffset=function(a){var o,d;return(d=(o=Cf[a])===null||o===void 0?void 0:o.verticalNavigationOffset)!==null&&d!==void 0?d:0},n.onMonthKeyDown=function(a,o){var d=n.props,u=d.disabledKeyboardNavigation,m=d.handleOnMonthKeyDown,p=a.key;p!==ge.Tab&&a.preventDefault(),u||n.handleKeyboardNavigation(a,p,o),m&&m(a)},n.onQuarterClick=function(a,o){var d=Er(n.props.day,o);Xo(d,n.props)||n.handleDayClick(_g(d),a)},n.onQuarterMouseEnter=function(a){var o=Er(n.props.day,a);Xo(o,n.props)||n.handleDayMouseEnter(_g(o))},n.handleQuarterNavigation=function(a,o){var d,u,m,p;n.isDisabled(o)||n.isExcluded(o)||((u=(d=n.props).setPreSelection)===null||u===void 0||u.call(d,o),(p=(m=n.QUARTER_REFS[a-1])===null||m===void 0?void 0:m.current)===null||p===void 0||p.focus())},n.onQuarterKeyDown=function(a,o){var d,u,m=a.key;if(!n.props.disabledKeyboardNavigation)switch(m){case ge.Enter:n.onQuarterClick(a,o),(u=(d=n.props).setPreSelection)===null||u===void 0||u.call(d,n.props.selected);break;case ge.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(o===4?1:o+1,um(n.props.preSelection,1));break;case ge.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(o===1?4:o-1,db(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(a){var o,d=n.props,u=d.day,m=d.minDate,p=d.maxDate,g=d.excludeDates,x=d.includeDates,v=wa(u,a);return{isDisabled:(o=(m||p||g||x)&&Cb(v,n.props))!==null&&o!==void 0?o:!1,labelDate:v}},n.isMonthDisabled=function(a){var o=n.isMonthDisabledForLabelDate(a).isDisabled;return o},n.getMonthClassNames=function(a){var o=n.props,d=o.day,u=o.startDate,m=o.endDate,p=o.preSelection,g=o.monthClassName,x=g?g(wa(d,a)):void 0,v=n.getSelection();return Rt("react-datepicker__month-text","react-datepicker__month-".concat(a),x,{"react-datepicker__month-text--disabled":n.isMonthDisabled(a),"react-datepicker__month-text--selected":v?n.isSelectMonthInList(d,a,v):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&p&&n.isSelectedMonth(d,a,p)&&!n.isMonthSelected()&&!n.isMonthDisabled(a),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(a),"react-datepicker__month-text--in-range":u&&m?Go(u,m,a,d):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(a),"react-datepicker__month-text--range-end":n.isRangeEndMonth(a),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(a),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(a),"react-datepicker__month-text--today":n.isCurrentMonth(d,a)})},n.getTabIndex=function(a){if(n.props.preSelection==null)return"-1";var o=zt(n.props.preSelection),d=n.isMonthDisabledForLabelDate(o).isDisabled,u=a===o&&!(d||n.props.disabledKeyboardNavigation)?"0":"-1";return u},n.getQuarterTabIndex=function(a){if(n.props.preSelection==null)return"-1";var o=As(n.props.preSelection),d=Xo(n.props.day,n.props),u=a===o&&!(d||n.props.disabledKeyboardNavigation)?"0":"-1";return u},n.getAriaLabel=function(a){var o=n.props,d=o.chooseDayAriaLabelPrefix,u=d===void 0?"Choose":d,m=o.disabledDayAriaLabelPrefix,p=m===void 0?"Not available":m,g=o.day,x=o.locale,v=wa(g,a),b=n.isDisabled(v)||n.isExcluded(v)?p:u;return"".concat(b," ").concat(lt(v,"MMMM yyyy",x))},n.getQuarterClassNames=function(a){var o=n.props,d=o.day,u=o.startDate,m=o.endDate,p=o.selected,g=o.minDate,x=o.maxDate,v=o.excludeDates,b=o.includeDates,C=o.filterDate,N=o.preSelection,E=o.disabledKeyboardNavigation,_=(g||x||v||b||C)&&Xo(Er(d,a),n.props);return Rt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(a),{"react-datepicker__quarter-text--disabled":_,"react-datepicker__quarter-text--selected":p?n.isSelectedQuarter(d,a,p):void 0,"react-datepicker__quarter-text--keyboard-selected":!E&&N&&n.isSelectedQuarter(d,a,N)&&!_,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(a),"react-datepicker__quarter-text--in-range":u&&m?Wo(u,m,a,d):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(a),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(a),"react-datepicker__quarter-text--today":n.isCurrentQuarter(d,a)})},n.getMonthContent=function(a){var o=n.props,d=o.showFullMonthYearPicker,u=o.renderMonthContent,m=o.locale,p=o.day,g=Sb(a,m),x=jm(a,m);return u?u(a,g,x,p):d?x:g},n.getQuarterContent=function(a){var o,d=n.props,u=d.renderQuarterContent,m=d.locale,p=Nk(a,m);return(o=u==null?void 0:u(a,p))!==null&&o!==void 0?o:p},n.renderMonths=function(){var a,o=n.props,d=o.showTwoColumnMonthYearPicker,u=o.showFourColumnMonthYearPicker,m=o.day,p=o.selected,g=(a=Cf[Fg(u,d)])===null||a===void 0?void 0:a.grid;return g==null?void 0:g.map(function(x,v){return le.createElement("div",{className:"react-datepicker__month-wrapper",key:v},x.map(function(b,C){return le.createElement("div",{ref:n.MONTH_REFS[b],key:C,onClick:function(N){n.onMonthClick(N,b)},onKeyDown:function(N){kb(N)&&(N.preventDefault(),N.key=ge.Enter),n.onMonthKeyDown(N,b)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(b)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(b)}:void 0,tabIndex:Number(n.getTabIndex(b)),className:n.getMonthClassNames(b),"aria-disabled":n.isMonthDisabled(b),role:"option","aria-label":n.getAriaLabel(b),"aria-current":n.isCurrentMonth(m,b)?"date":void 0,"aria-selected":p?n.isSelectedMonth(m,b,p):void 0},n.getMonthContent(b))}))})},n.renderQuarters=function(){var a=n.props,o=a.day,d=a.selected,u=[1,2,3,4];return le.createElement("div",{className:"react-datepicker__quarter-wrapper"},u.map(function(m,p){return le.createElement("div",{key:p,ref:n.QUARTER_REFS[p],role:"option",onClick:function(g){n.onQuarterClick(g,m)},onKeyDown:function(g){n.onQuarterKeyDown(g,m)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(m)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(m)}:void 0,className:n.getQuarterClassNames(m),"aria-selected":d?n.isSelectedQuarter(o,m,d):void 0,tabIndex:Number(n.getQuarterTabIndex(m)),"aria-current":n.isCurrentQuarter(o,m)?"date":void 0},n.getQuarterContent(m))}))},n.getClassNames=function(){var a=n.props,o=a.selectingDate,d=a.selectsStart,u=a.selectsEnd,m=a.showMonthYearPicker,p=a.showQuarterYearPicker,g=a.showWeekPicker;return Rt("react-datepicker__month",{"react-datepicker__month--selecting-range":o&&(d||u)},{"react-datepicker__monthPicker":m},{"react-datepicker__quarterPicker":p},{"react-datepicker__weekPicker":g})},n}return l.prototype.getSelection=function(){var n=this.props,a=n.selected,o=n.selectedDates,d=n.selectsMultiple;if(d)return o;if(a)return[a]},l.prototype.render=function(){var n=this.props,a=n.showMonthYearPicker,o=n.showQuarterYearPicker,d=n.day,u=n.ariaLabelPrefix,m=u===void 0?"Month ":u,p=m?m.trim()+" ":"";return le.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(p).concat(lt(d,"MMMM, yyyy",this.props.locale)),role:"listbox"},a?this.renderMonths():o?this.renderQuarters():this.renderWeeks())},l}(y.Component),Yk=function(r){kt(l,r);function l(){var n=r!==null&&r.apply(this,arguments)||this;return n.isSelectedMonth=function(a){return n.props.month===a},n.renderOptions=function(){return n.props.monthNames.map(function(a,o){return le.createElement("div",{className:n.isSelectedMonth(o)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:a,onClick:n.onChange.bind(n,o),"aria-selected":n.isSelectedMonth(o)?"true":void 0},n.isSelectedMonth(o)?le.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",a)})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){return n.props.onCancel()},n}return l.prototype.render=function(){return le.createElement(qc,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},l}(y.Component),Hk=function(r){kt(l,r);function l(){var n=r!==null&&r.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(a){return a.map(function(o,d){return le.createElement("option",{key:o,value:d},o)})},n.renderSelectMode=function(a){return le.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(o){return n.onChange(parseInt(o.target.value))}},n.renderSelectOptions(a))},n.renderReadView=function(a,o){return le.createElement("div",{key:"read",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},le.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),le.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},o[n.props.month]))},n.renderDropdown=function(a){return le.createElement(Yk,Be({key:"dropdown"},n.props,{monthNames:a,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(a){var o=n.state.dropdownVisible,d=[n.renderReadView(!o,a)];return o&&d.unshift(n.renderDropdown(a)),d},n.onChange=function(a){n.toggleDropdown(),a!==n.props.month&&n.props.onChange(a)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return l.prototype.render=function(){var n=this,a=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(d){return Sb(d,n.props.locale)}:function(d){return jm(d,n.props.locale)}),o;switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode(a);break;case"select":o=this.renderSelectMode(a);break}return le.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},o)},l}(y.Component);function Fk(r,l){for(var n=[],a=Nn(r),o=Nn(l);!as(a,o);)n.push(Ve(a)),a=Aa(a,1);return n}var Bk=function(r){kt(l,r);function l(n){var a=r.call(this,n)||this;return a.renderOptions=function(){return a.state.monthYearsList.map(function(o){var d=qf(o),u=Va(a.props.date,o)&&Ft(a.props.date,o);return le.createElement("div",{className:u?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:d,onClick:a.onChange.bind(a,d),"aria-selected":u?"true":void 0},u?le.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",lt(o,a.props.dateFormat,a.props.locale))})},a.onChange=function(o){return a.props.onChange(o)},a.handleClickOutside=function(){a.props.onCancel()},a.state={monthYearsList:Fk(a.props.minDate,a.props.maxDate)},a}return l.prototype.render=function(){var n=Rt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return le.createElement(qc,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},l}(y.Component),Ik=function(r){kt(l,r);function l(){var n=r!==null&&r.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var a=Nn(n.props.minDate),o=Nn(n.props.maxDate),d=[];!as(a,o);){var u=qf(a);d.push(le.createElement("option",{key:u,value:u},lt(a,n.props.dateFormat,n.props.locale))),a=Aa(a,1)}return d},n.onSelectChange=function(a){n.onChange(parseInt(a.target.value))},n.renderSelectMode=function(){return le.createElement("select",{value:qf(Nn(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(a){var o=lt(n.props.date,n.props.dateFormat,n.props.locale);return le.createElement("div",{key:"read",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},le.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),le.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},o))},n.renderDropdown=function(){return le.createElement(Bk,Be({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var a=n.state.dropdownVisible,o=[n.renderReadView(!a)];return a&&o.unshift(n.renderDropdown()),o},n.onChange=function(a){n.toggleDropdown();var o=Ve(a);Va(n.props.date,o)&&Ft(n.props.date,o)||n.props.onChange(o)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return l.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return le.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},l}(y.Component),$k=function(r){kt(l,r);function l(){var n=r!==null&&r.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var a,o,d;n.list&&(n.list.scrollTop=(d=n.centerLi&&l.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((o=(a=n.header)===null||a===void 0?void 0:a.clientHeight)!==null&&o!==void 0?o:0):n.list.clientHeight,n.centerLi))!==null&&d!==void 0?d:0)})},n.handleClick=function(a){var o,d;(n.props.minTime||n.props.maxTime)&&Mg(a,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Tg(a,n.props)||(d=(o=n.props).onChange)===null||d===void 0||d.call(o,a)},n.isSelectedTime=function(a){return n.props.selected&&Ak(n.props.selected,a)},n.isDisabledTime=function(a){return(n.props.minTime||n.props.maxTime)&&Mg(a,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Tg(a,n.props)},n.liClasses=function(a){var o,d=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(a):void 0];return n.isSelectedTime(a)&&d.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(a)&&d.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(vn(a)*3600+wn(a)*60+es(a))%(((o=n.props.intervals)!==null&&o!==void 0?o:l.defaultProps.intervals)*60)!==0&&d.push("react-datepicker__time-list-item--injected"),d.join(" ")},n.handleOnKeyDown=function(a,o){var d,u;a.key===ge.Space&&(a.preventDefault(),a.key=ge.Enter),(a.key===ge.ArrowUp||a.key===ge.ArrowLeft)&&a.target instanceof HTMLElement&&a.target.previousSibling&&(a.preventDefault(),a.target.previousSibling instanceof HTMLElement&&a.target.previousSibling.focus()),(a.key===ge.ArrowDown||a.key===ge.ArrowRight)&&a.target instanceof HTMLElement&&a.target.nextSibling&&(a.preventDefault(),a.target.nextSibling instanceof HTMLElement&&a.target.nextSibling.focus()),a.key===ge.Enter&&n.handleClick(o),(u=(d=n.props).handleOnKeyDown)===null||u===void 0||u.call(d,a)},n.renderTimes=function(){for(var a,o=[],d=typeof n.props.format=="string"?n.props.format:"p",u=(a=n.props.intervals)!==null&&a!==void 0?a:l.defaultProps.intervals,m=n.props.selected||n.props.openToDate||Ve(),p=cc(m),g=n.props.injectTimes&&n.props.injectTimes.sort(function(_,k){return _.getTime()-k.getTime()}),x=60*Mk(m),v=x/u,b=0;b<v;b++){var C=Bf(p,b*u);if(o.push(C),g){var N=Tk(p,C,b,u,g);o=o.concat(N)}}var E=o.reduce(function(_,k){return k.getTime()<=m.getTime()?k:_},o[0]);return o.map(function(_){return le.createElement("li",{key:_.valueOf(),onClick:n.handleClick.bind(n,_),className:n.liClasses(_),ref:function(k){_===E&&(n.centerLi=k)},onKeyDown:function(k){n.handleOnKeyDown(k,_)},tabIndex:_===E?0:-1,role:"option","aria-selected":n.isSelectedTime(_)?"true":void 0,"aria-disabled":n.isDisabledTime(_)?"true":void 0},lt(_,d,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?le.createElement(le.Fragment,null):le.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(a){n.header=a}},le.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(l,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},l.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},l.prototype.observeDatePickerHeightChanges=function(){var n=this,a=this.props.monthRef;this.updateContainerHeight(),a&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(a))},l.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},l.prototype.render=function(){var n=this,a,o=this.state.height;return le.createElement("div",{className:"react-datepicker__time-container ".concat(((a=this.props.todayButton)!==null&&a!==void 0?a:l.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),le.createElement("div",{className:"react-datepicker__time"},le.createElement("div",{className:"react-datepicker__time-box"},le.createElement("ul",{className:"react-datepicker__time-list",ref:function(d){n.list=d},style:o?{height:o}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},l.calcCenterPosition=function(n,a){return a.offsetTop-(n/2-a.clientHeight/2)},l}(y.Component),Bg=3,qk=function(r){kt(l,r);function l(n){var a=r.call(this,n)||this;return a.YEAR_REFS=Xa([],Array(a.props.yearItemNumber),!0).map(function(){return y.createRef()}),a.isDisabled=function(o){return Na(o,{minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,includeDates:a.props.includeDates,filterDate:a.props.filterDate})},a.isExcluded=function(o){return Sm(o,{excludeDates:a.props.excludeDates})},a.selectingDate=function(){var o;return(o=a.props.selectingDate)!==null&&o!==void 0?o:a.props.preSelection},a.updateFocusOnPaginate=function(o){var d=function(){var u,m;(m=(u=a.YEAR_REFS[o])===null||u===void 0?void 0:u.current)===null||m===void 0||m.focus()};window.requestAnimationFrame(d)},a.handleYearClick=function(o,d){a.props.onDayClick&&a.props.onDayClick(o,d)},a.handleYearNavigation=function(o,d){var u,m,p,g,x=a.props,v=x.date,b=x.yearItemNumber;if(!(v===void 0||b===void 0)){var C=Zn(v,b).startPeriod;a.isDisabled(d)||a.isExcluded(d)||((m=(u=a.props).setPreSelection)===null||m===void 0||m.call(u,d),o-C<0?a.updateFocusOnPaginate(b-(C-o)):o-C>=b?a.updateFocusOnPaginate(Math.abs(b-(o-C))):(g=(p=a.YEAR_REFS[o-C])===null||p===void 0?void 0:p.current)===null||g===void 0||g.focus())}},a.isSameDay=function(o,d){return Fe(o,d)},a.isCurrentYear=function(o){return o===Re(Ve())},a.isRangeStart=function(o){return a.props.startDate&&a.props.endDate&&Va(qa(Ve(),o),a.props.startDate)},a.isRangeEnd=function(o){return a.props.startDate&&a.props.endDate&&Va(qa(Ve(),o),a.props.endDate)},a.isInRange=function(o){return Ko(o,a.props.startDate,a.props.endDate)},a.isInSelectingRange=function(o){var d=a.props,u=d.selectsStart,m=d.selectsEnd,p=d.selectsRange,g=d.startDate,x=d.endDate;return!(u||m||p)||!a.selectingDate()?!1:u&&x?Ko(o,a.selectingDate(),x):m&&g||p&&g&&!x?Ko(o,g,a.selectingDate()):!1},a.isSelectingRangeStart=function(o){var d;if(!a.isInSelectingRange(o))return!1;var u=a.props,m=u.startDate,p=u.selectsStart,g=qa(Ve(),o);return p?Va(g,(d=a.selectingDate())!==null&&d!==void 0?d:null):Va(g,m??null)},a.isSelectingRangeEnd=function(o){var d;if(!a.isInSelectingRange(o))return!1;var u=a.props,m=u.endDate,p=u.selectsEnd,g=u.selectsRange,x=qa(Ve(),o);return p||g?Va(x,(d=a.selectingDate())!==null&&d!==void 0?d:null):Va(x,m??null)},a.isKeyboardSelected=function(o){if(!(a.props.date===void 0||a.props.selected==null||a.props.preSelection==null)){var d=a.props,u=d.minDate,m=d.maxDate,p=d.excludeDates,g=d.includeDates,x=d.filterDate,v=li(qa(a.props.date,o)),b=(u||m||p||g||x)&&dc(o,a.props);return!a.props.disabledKeyboardNavigation&&!a.props.inline&&!Fe(v,li(a.props.selected))&&Fe(v,li(a.props.preSelection))&&!b}},a.isSelectedYear=function(o){var d=a.props,u=d.selectsMultiple,m=d.selected,p=d.selectedDates;return u?p==null?void 0:p.some(function(g){return o===Re(g)}):!!m&&o===Re(m)},a.onYearClick=function(o,d){var u=a.props.date;u!==void 0&&a.handleYearClick(li(qa(u,d)),o)},a.onYearKeyDown=function(o,d){var u,m,p=o.key,g=a.props,x=g.date,v=g.yearItemNumber,b=g.handleOnKeyDown;if(p!==ge.Tab&&o.preventDefault(),!a.props.disabledKeyboardNavigation)switch(p){case ge.Enter:if(a.props.selected==null)break;a.onYearClick(o,d),(m=(u=a.props).setPreSelection)===null||m===void 0||m.call(u,a.props.selected);break;case ge.ArrowRight:if(a.props.preSelection==null)break;a.handleYearNavigation(d+1,yn(a.props.preSelection,1));break;case ge.ArrowLeft:if(a.props.preSelection==null)break;a.handleYearNavigation(d-1,Hr(a.props.preSelection,1));break;case ge.ArrowUp:{if(x===void 0||v===void 0||a.props.preSelection==null)break;var C=Zn(x,v).startPeriod,N=Bg,E=d-N;if(E<C){var _=v%N;d>=C&&d<C+_?N=_:N+=_,E=d-N}a.handleYearNavigation(E,Hr(a.props.preSelection,N));break}case ge.ArrowDown:{if(x===void 0||v===void 0||a.props.preSelection==null)break;var k=Zn(x,v).endPeriod,N=Bg,E=d+N;if(E>k){var _=v%N;d<=k&&d>k-_?N=_:N+=_,E=d+N}a.handleYearNavigation(E,yn(a.props.preSelection,N));break}}b&&b(o)},a.getYearClassNames=function(o){var d=a.props,u=d.date,m=d.minDate,p=d.maxDate,g=d.excludeDates,x=d.includeDates,v=d.filterDate,b=d.yearClassName;return Rt("react-datepicker__year-text","react-datepicker__year-".concat(o),u?b==null?void 0:b(qa(u,o)):void 0,{"react-datepicker__year-text--selected":a.isSelectedYear(o),"react-datepicker__year-text--disabled":(m||p||g||x||v)&&dc(o,a.props),"react-datepicker__year-text--keyboard-selected":a.isKeyboardSelected(o),"react-datepicker__year-text--range-start":a.isRangeStart(o),"react-datepicker__year-text--range-end":a.isRangeEnd(o),"react-datepicker__year-text--in-range":a.isInRange(o),"react-datepicker__year-text--in-selecting-range":a.isInSelectingRange(o),"react-datepicker__year-text--selecting-range-start":a.isSelectingRangeStart(o),"react-datepicker__year-text--selecting-range-end":a.isSelectingRangeEnd(o),"react-datepicker__year-text--today":a.isCurrentYear(o)})},a.getYearTabIndex=function(o){if(a.props.disabledKeyboardNavigation||a.props.preSelection==null)return"-1";var d=Re(a.props.preSelection),u=dc(o,a.props);return o===d&&!u?"0":"-1"},a.getYearContent=function(o){return a.props.renderYearContent?a.props.renderYearContent(o):o},a}return l.prototype.render=function(){var n=this,a=[],o=this.props,d=o.date,u=o.yearItemNumber,m=o.onYearMouseEnter,p=o.onYearMouseLeave;if(d===void 0)return null;for(var g=Zn(d,u),x=g.startPeriod,v=g.endPeriod,b=function(E){a.push(le.createElement("div",{ref:C.YEAR_REFS[E-x],onClick:function(_){n.onYearClick(_,E)},onKeyDown:function(_){kb(_)&&(_.preventDefault(),_.key=ge.Enter),n.onYearKeyDown(_,E)},tabIndex:Number(C.getYearTabIndex(E)),className:C.getYearClassNames(E),onMouseEnter:C.props.usePointerEvent?void 0:function(_){return m(_,E)},onPointerEnter:C.props.usePointerEvent?function(_){return m(_,E)}:void 0,onMouseLeave:C.props.usePointerEvent?void 0:function(_){return p(_,E)},onPointerLeave:C.props.usePointerEvent?function(_){return p(_,E)}:void 0,key:E,"aria-current":C.isCurrentYear(E)?"date":void 0},C.getYearContent(E)))},C=this,N=x;N<=v;N++)b(N);return le.createElement("div",{className:"react-datepicker__year"},le.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},a))},l}(y.Component);function Vk(r,l,n,a){for(var o=[],d=0;d<2*l+1;d++){var u=r+l-d,m=!0;n&&(m=Re(n)<=u),a&&m&&(m=Re(a)>=u),m&&o.push(u)}return o}var Qk=function(r){kt(l,r);function l(n){var a=r.call(this,n)||this;a.renderOptions=function(){var m=a.props.year,p=a.state.yearsList.map(function(v){return le.createElement("div",{className:m===v?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:v,onClick:a.onChange.bind(a,v),"aria-selected":m===v?"true":void 0},m===v?le.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",v)}),g=a.props.minDate?Re(a.props.minDate):null,x=a.props.maxDate?Re(a.props.maxDate):null;return(!x||!a.state.yearsList.find(function(v){return v===x}))&&p.unshift(le.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:a.incrementYears},le.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!g||!a.state.yearsList.find(function(v){return v===g}))&&p.push(le.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:a.decrementYears},le.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),p},a.onChange=function(m){a.props.onChange(m)},a.handleClickOutside=function(){a.props.onCancel()},a.shiftYears=function(m){var p=a.state.yearsList.map(function(g){return g+m});a.setState({yearsList:p})},a.incrementYears=function(){return a.shiftYears(1)},a.decrementYears=function(){return a.shiftYears(-1)};var o=n.yearDropdownItemNumber,d=n.scrollableYearDropdown,u=o||(d?10:5);return a.state={yearsList:Vk(a.props.year,u,a.props.minDate,a.props.maxDate)},a.dropdownRef=y.createRef(),a}return l.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var a=n.children?Array.from(n.children):null,o=a?a.find(function(d){return d.ariaSelected}):null;n.scrollTop=o&&o instanceof HTMLElement?o.offsetTop+(o.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},l.prototype.render=function(){var n=Rt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return le.createElement(qc,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},l}(y.Component),Gk=function(r){kt(l,r);function l(){var n=r!==null&&r.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var a=n.props.minDate?Re(n.props.minDate):1900,o=n.props.maxDate?Re(n.props.maxDate):2100,d=[],u=a;u<=o;u++)d.push(le.createElement("option",{key:u,value:u},u));return d},n.onSelectChange=function(a){n.onChange(parseInt(a.target.value))},n.renderSelectMode=function(){return le.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(a){return le.createElement("div",{key:"read",style:{visibility:a?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(o){return n.toggleDropdown(o)}},le.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),le.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return le.createElement(Qk,Be({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var a=n.state.dropdownVisible,o=[n.renderReadView(!a)];return a&&o.unshift(n.renderDropdown()),o},n.onChange=function(a){n.toggleDropdown(),a!==n.props.year&&n.props.onChange(a)},n.toggleDropdown=function(a){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,a)})},n.handleYearChange=function(a,o){var d;(d=n.onSelect)===null||d===void 0||d.call(n,a,o),n.setOpen()},n.onSelect=function(a,o){var d,u;(u=(d=n.props).onSelect)===null||u===void 0||u.call(d,a,o)},n.setOpen=function(){var a,o;(o=(a=n.props).setOpen)===null||o===void 0||o.call(a,!0)},n}return l.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return le.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},l}(y.Component),Xk=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Kk=function(r){var l=(r.className||"").split(/\s+/);return Xk.some(function(n){return l.indexOf(n)>=0})},Wk=function(r){kt(l,r);function l(n){var a=r.call(this,n)||this;return a.monthContainer=void 0,a.handleClickOutside=function(o){a.props.onClickOutside(o)},a.setClickOutsideRef=function(){return a.containerRef.current},a.handleDropdownFocus=function(o){var d,u;Kk(o.target)&&((u=(d=a.props).onDropdownFocus)===null||u===void 0||u.call(d,o))},a.getDateInView=function(){var o=a.props,d=o.preSelection,u=o.selected,m=o.openToDate,p=_b(a.props),g=Db(a.props),x=Ve(),v=m||u||d;return v||(p&&zs(x,p)?p:g&&as(x,g)?g:x)},a.increaseMonth=function(){a.setState(function(o){var d=o.date;return{date:Aa(d,1)}},function(){return a.handleMonthChange(a.state.date)})},a.decreaseMonth=function(){a.setState(function(o){var d=o.date;return{date:Rs(d,1)}},function(){return a.handleMonthChange(a.state.date)})},a.handleDayClick=function(o,d,u){a.props.onSelect(o,d,u),a.props.setPreSelection&&a.props.setPreSelection(o)},a.handleDayMouseEnter=function(o){a.setState({selectingDate:o}),a.props.onDayMouseEnter&&a.props.onDayMouseEnter(o)},a.handleMonthMouseLeave=function(){a.setState({selectingDate:void 0}),a.props.onMonthMouseLeave&&a.props.onMonthMouseLeave()},a.handleYearMouseEnter=function(o,d){a.setState({selectingDate:qa(Ve(),d)}),a.props.onYearMouseEnter&&a.props.onYearMouseEnter(o,d)},a.handleYearMouseLeave=function(o,d){a.props.onYearMouseLeave&&a.props.onYearMouseLeave(o,d)},a.handleYearChange=function(o){var d,u,m,p;(u=(d=a.props).onYearChange)===null||u===void 0||u.call(d,o),a.setState({isRenderAriaLiveMessage:!0}),a.props.adjustDateOnChange&&(a.props.onSelect(o),(p=(m=a.props).setOpen)===null||p===void 0||p.call(m,!0)),a.props.setPreSelection&&a.props.setPreSelection(o)},a.getEnabledPreSelectionDateForMonth=function(o){if(!Na(o,a.props))return o;for(var d=Nn(o),u=yk(o),m=E4(u,d),p=null,g=0;g<=m;g++){var x=Ma(d,g);if(!Na(x,a.props)){p=x;break}}return p},a.handleMonthChange=function(o){var d,u,m,p=(d=a.getEnabledPreSelectionDateForMonth(o))!==null&&d!==void 0?d:o;a.handleCustomMonthChange(p),a.props.adjustDateOnChange&&(a.props.onSelect(p),(m=(u=a.props).setOpen)===null||m===void 0||m.call(u,!0)),a.props.setPreSelection&&a.props.setPreSelection(p)},a.handleCustomMonthChange=function(o){var d,u;(u=(d=a.props).onMonthChange)===null||u===void 0||u.call(d,o),a.setState({isRenderAriaLiveMessage:!0})},a.handleMonthYearChange=function(o){a.handleYearChange(o),a.handleMonthChange(o)},a.changeYear=function(o){a.setState(function(d){var u=d.date;return{date:qa(u,Number(o))}},function(){return a.handleYearChange(a.state.date)})},a.changeMonth=function(o){a.setState(function(d){var u=d.date;return{date:wa(u,Number(o))}},function(){return a.handleMonthChange(a.state.date)})},a.changeMonthYear=function(o){a.setState(function(d){var u=d.date;return{date:qa(wa(u,zt(o)),Re(o))}},function(){return a.handleMonthYearChange(a.state.date)})},a.header=function(o){o===void 0&&(o=a.state.date);var d=ts(o,a.props.locale,a.props.calendarStartDay),u=[];return a.props.showWeekNumbers&&u.push(le.createElement("div",{key:"W",className:"react-datepicker__day-name"},a.props.weekLabel||"#")),u.concat([0,1,2,3,4,5,6].map(function(m){var p=Ma(d,m),g=a.formatWeekday(p,a.props.locale),x=a.props.weekDayClassName?a.props.weekDayClassName(p):void 0;return le.createElement("div",{key:m,"aria-label":lt(p,"EEEE",a.props.locale),className:Rt("react-datepicker__day-name",x)},g)}))},a.formatWeekday=function(o,d){return a.props.formatWeekDay?bk(o,a.props.formatWeekDay,d):a.props.useWeekdaysShort?wk(o,d):vk(o,d)},a.decreaseYear=function(){a.setState(function(o){var d,u=o.date;return{date:Hr(u,a.props.showYearPicker?(d=a.props.yearItemNumber)!==null&&d!==void 0?d:l.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.clearSelectingDate=function(){a.setState({selectingDate:void 0})},a.renderPreviousButton=function(){var o,d,u;if(!a.props.renderCustomHeader){var m=(o=a.props.monthsShown)!==null&&o!==void 0?o:l.defaultProps.monthsShown,p=a.props.showPreviousMonths?m-1:0,g=(d=a.props.monthSelectedIn)!==null&&d!==void 0?d:p,x=Rs(a.state.date,g),v;switch(!0){case a.props.showMonthYearPicker:v=Og(a.state.date,a.props);break;case a.props.showYearPicker:v=_k(a.state.date,a.props);break;case a.props.showQuarterYearPicker:v=Sk(a.state.date,a.props);break;default:v=Ag(x,a.props);break}if(!(!((u=a.props.forceShowMonthNavigation)!==null&&u!==void 0?u:l.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&v||a.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],C=["react-datepicker__navigation","react-datepicker__navigation--previous"],N=a.decreaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(N=a.decreaseYear),v&&a.props.showDisabledMonthNavigation&&(C.push("react-datepicker__navigation--previous--disabled"),N=void 0);var E=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,_=a.props,k=_.previousMonthButtonLabel,M=k===void 0?l.defaultProps.previousMonthButtonLabel:k,R=_.previousYearButtonLabel,H=R===void 0?l.defaultProps.previousYearButtonLabel:R,O=a.props,$=O.previousMonthAriaLabel,I=$===void 0?typeof M=="string"?M:"Previous Month":$,Y=O.previousYearAriaLabel,G=Y===void 0?typeof H=="string"?H:"Previous Year":Y;return le.createElement("button",{type:"button",className:C.join(" "),onClick:N,onKeyDown:a.props.handleOnKeyDown,"aria-label":E?G:I},le.createElement("span",{className:b.join(" ")},E?H:M))}}},a.increaseYear=function(){a.setState(function(o){var d,u=o.date;return{date:yn(u,a.props.showYearPicker?(d=a.props.yearItemNumber)!==null&&d!==void 0?d:l.defaultProps.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})},a.renderNextButton=function(){var o;if(!a.props.renderCustomHeader){var d;switch(!0){case a.props.showMonthYearPicker:d=Lg(a.state.date,a.props);break;case a.props.showYearPicker:d=Dk(a.state.date,a.props);break;case a.props.showQuarterYearPicker:d=Ck(a.state.date,a.props);break;default:d=Rg(a.state.date,a.props);break}if(!(!((o=a.props.forceShowMonthNavigation)!==null&&o!==void 0?o:l.defaultProps.forceShowMonthNavigation)&&!a.props.showDisabledMonthNavigation&&d||a.props.showTimeSelectOnly)){var u=["react-datepicker__navigation","react-datepicker__navigation--next"],m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];a.props.showTimeSelect&&u.push("react-datepicker__navigation--next--with-time"),a.props.todayButton&&u.push("react-datepicker__navigation--next--with-today-button");var p=a.increaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(p=a.increaseYear),d&&a.props.showDisabledMonthNavigation&&(u.push("react-datepicker__navigation--next--disabled"),p=void 0);var g=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,x=a.props,v=x.nextMonthButtonLabel,b=v===void 0?l.defaultProps.nextMonthButtonLabel:v,C=x.nextYearButtonLabel,N=C===void 0?l.defaultProps.nextYearButtonLabel:C,E=a.props,_=E.nextMonthAriaLabel,k=_===void 0?typeof b=="string"?b:"Next Month":_,M=E.nextYearAriaLabel,R=M===void 0?typeof N=="string"?N:"Next Year":M;return le.createElement("button",{type:"button",className:u.join(" "),onClick:p,onKeyDown:a.props.handleOnKeyDown,"aria-label":g?R:k},le.createElement("span",{className:m.join(" ")},g?N:b))}}},a.renderCurrentMonth=function(o){o===void 0&&(o=a.state.date);var d=["react-datepicker__current-month"];return a.props.showYearDropdown&&d.push("react-datepicker__current-month--hasYearDropdown"),a.props.showMonthDropdown&&d.push("react-datepicker__current-month--hasMonthDropdown"),a.props.showMonthYearDropdown&&d.push("react-datepicker__current-month--hasMonthYearDropdown"),le.createElement("h2",{className:d.join(" ")},lt(o,a.props.dateFormat,a.props.locale))},a.renderYearDropdown=function(o){if(o===void 0&&(o=!1),!(!a.props.showYearDropdown||o))return le.createElement(Gk,Be({},l.defaultProps,a.props,{date:a.state.date,onChange:a.changeYear,year:Re(a.state.date)}))},a.renderMonthDropdown=function(o){if(o===void 0&&(o=!1),!(!a.props.showMonthDropdown||o))return le.createElement(Hk,Be({},l.defaultProps,a.props,{month:zt(a.state.date),onChange:a.changeMonth}))},a.renderMonthYearDropdown=function(o){if(o===void 0&&(o=!1),!(!a.props.showMonthYearDropdown||o))return le.createElement(Ik,Be({},l.defaultProps,a.props,{date:a.state.date,onChange:a.changeMonthYear}))},a.handleTodayButtonClick=function(o){a.props.onSelect(Dg(),o),a.props.setPreSelection&&a.props.setPreSelection(Dg())},a.renderTodayButton=function(){if(!(!a.props.todayButton||a.props.showTimeSelectOnly))return le.createElement("div",{className:"react-datepicker__today-button",onClick:a.handleTodayButtonClick},a.props.todayButton)},a.renderDefaultHeader=function(o){var d=o.monthDate,u=o.i;return le.createElement("div",{className:"react-datepicker__header ".concat(a.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},a.renderCurrentMonth(d),le.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(a.props.dropdownMode),onFocus:a.handleDropdownFocus},a.renderMonthDropdown(u!==0),a.renderMonthYearDropdown(u!==0),a.renderYearDropdown(u!==0)),le.createElement("div",{className:"react-datepicker__day-names"},a.header(d)))},a.renderCustomHeader=function(o){var d,u,m=o.monthDate,p=o.i;if(a.props.showTimeSelect&&!a.state.monthContainer||a.props.showTimeSelectOnly)return null;var g=Ag(a.state.date,a.props),x=Rg(a.state.date,a.props),v=Og(a.state.date,a.props),b=Lg(a.state.date,a.props),C=!a.props.showMonthYearPicker&&!a.props.showQuarterYearPicker&&!a.props.showYearPicker;return le.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:a.props.onDropdownFocus},(u=(d=a.props).renderCustomHeader)===null||u===void 0?void 0:u.call(d,Be(Be({},a.state),{customHeaderCount:p,monthDate:m,changeMonth:a.changeMonth,changeYear:a.changeYear,decreaseMonth:a.decreaseMonth,increaseMonth:a.increaseMonth,decreaseYear:a.decreaseYear,increaseYear:a.increaseYear,prevMonthButtonDisabled:g,nextMonthButtonDisabled:x,prevYearButtonDisabled:v,nextYearButtonDisabled:b})),C&&le.createElement("div",{className:"react-datepicker__day-names"},a.header(m)))},a.renderYearHeader=function(o){var d=o.monthDate,u=a.props,m=u.showYearPicker,p=u.yearItemNumber,g=p===void 0?l.defaultProps.yearItemNumber:p,x=Zn(d,g),v=x.startPeriod,b=x.endPeriod;return le.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},m?"".concat(v," - ").concat(b):Re(d))},a.renderHeader=function(o){var d=o.monthDate,u=o.i,m=u===void 0?0:u,p={monthDate:d,i:m};switch(!0){case a.props.renderCustomHeader!==void 0:return a.renderCustomHeader(p);case(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker):return a.renderYearHeader(p);default:return a.renderDefaultHeader(p)}},a.renderMonths=function(){var o,d;if(!(a.props.showTimeSelectOnly||a.props.showYearPicker)){for(var u=[],m=(o=a.props.monthsShown)!==null&&o!==void 0?o:l.defaultProps.monthsShown,p=a.props.showPreviousMonths?m-1:0,g=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?yn(a.state.date,p):Rs(a.state.date,p),x=(d=a.props.monthSelectedIn)!==null&&d!==void 0?d:p,v=0;v<m;++v){var b=v-x+p,C=a.props.showMonthYearPicker||a.props.showQuarterYearPicker?yn(g,b):Aa(g,b),N="month-".concat(v),E=v<m-1,_=v>0;u.push(le.createElement("div",{key:N,ref:function(k){a.monthContainer=k??void 0},className:"react-datepicker__month-container"},a.renderHeader({monthDate:C,i:v}),le.createElement(zk,Be({},l.defaultProps,a.props,{containerRef:a.containerRef,ariaLabelPrefix:a.props.monthAriaLabelPrefix,day:C,onDayClick:a.handleDayClick,handleOnKeyDown:a.props.handleOnDayKeyDown,handleOnMonthKeyDown:a.props.handleOnKeyDown,onDayMouseEnter:a.handleDayMouseEnter,onMouseLeave:a.handleMonthMouseLeave,orderInDisplay:v,selectingDate:a.state.selectingDate,monthShowsDuplicateDaysEnd:E,monthShowsDuplicateDaysStart:_}))))}return u}},a.renderYears=function(){if(!a.props.showTimeSelectOnly&&a.props.showYearPicker)return le.createElement("div",{className:"react-datepicker__year--container"},a.renderHeader({monthDate:a.state.date}),le.createElement(qk,Be({},l.defaultProps,a.props,{selectingDate:a.state.selectingDate,date:a.state.date,onDayClick:a.handleDayClick,clearSelectingDate:a.clearSelectingDate,onYearMouseEnter:a.handleYearMouseEnter,onYearMouseLeave:a.handleYearMouseLeave})))},a.renderTimeSection=function(){if(a.props.showTimeSelect&&(a.state.monthContainer||a.props.showTimeSelectOnly))return le.createElement($k,Be({},l.defaultProps,a.props,{onChange:a.props.onTimeChange,format:a.props.timeFormat,intervals:a.props.timeIntervals,monthRef:a.state.monthContainer}))},a.renderInputTimeSection=function(){var o=a.props.selected?new Date(a.props.selected):void 0,d=o&&Vc(o)&&!!a.props.selected,u=d?"".concat(Ug(o.getHours()),":").concat(Ug(o.getMinutes())):"";if(a.props.showTimeInput)return le.createElement(Rk,Be({},l.defaultProps,a.props,{date:o,timeString:u,onChange:a.props.onTimeChange}))},a.renderAriaLiveRegion=function(){var o,d=Zn(a.state.date,(o=a.props.yearItemNumber)!==null&&o!==void 0?o:l.defaultProps.yearItemNumber),u=d.startPeriod,m=d.endPeriod,p;return a.props.showYearPicker?p="".concat(u," - ").concat(m):a.props.showMonthYearPicker||a.props.showQuarterYearPicker?p=Re(a.state.date):p="".concat(jm(zt(a.state.date),a.props.locale)," ").concat(Re(a.state.date)),le.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a.state.isRenderAriaLiveMessage&&p)},a.renderChildren=function(){if(a.props.children)return le.createElement("div",{className:"react-datepicker__children-container"},a.props.children)},a.containerRef=y.createRef(),a.state={date:a.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},a}return Object.defineProperty(l,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:ji}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},l.prototype.componentDidUpdate=function(n){var a=this;if(this.props.preSelection&&(!Fe(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var o=!Ft(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return o&&a.handleCustomMonthChange(a.state.date)})}else this.props.openToDate&&!Fe(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},l.prototype.render=function(){var n=this.props.container||uk;return le.createElement(qc,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},le.createElement("div",{style:{display:"contents"},ref:this.containerRef},le.createElement(n,{className:Rt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},l}(y.Component),Zk=function(r){var l=r.icon,n=r.className,a=n===void 0?"":n,o=r.onClick,d="react-datepicker__calendar-icon";if(typeof l=="string")return le.createElement("i",{className:"".concat(d," ").concat(l," ").concat(a),"aria-hidden":"true",onClick:o});if(le.isValidElement(l)){var u=l;return le.cloneElement(u,{className:"".concat(u.props.className||""," ").concat(d," ").concat(a),onClick:function(m){typeof u.props.onClick=="function"&&u.props.onClick(m),typeof o=="function"&&o(m)}})}return le.createElement("svg",{className:"".concat(d," ").concat(a),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:o},le.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Eb=function(r){kt(l,r);function l(n){var a=r.call(this,n)||this;return a.portalRoot=null,a.el=document.createElement("div"),a}return l.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},l.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},l.prototype.render=function(){return Lj.createPortal(this.props.children,this.el)},l}(y.Component),Jk="[tabindex], a, button, input, select, textarea",eE=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},Tb=function(r){kt(l,r);function l(n){var a=r.call(this,n)||this;return a.getTabChildren=function(){var o;return Array.prototype.slice.call((o=a.tabLoopRef.current)===null||o===void 0?void 0:o.querySelectorAll(Jk),1,-1).filter(eE)},a.handleFocusStart=function(){var o=a.getTabChildren();o&&o.length>1&&o[o.length-1].focus()},a.handleFocusEnd=function(){var o=a.getTabChildren();o&&o.length>1&&o[0].focus()},a.tabLoopRef=y.createRef(),a}return l.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:l.defaultProps.enableTabLoop)?le.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},le.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,le.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},l.defaultProps={enableTabLoop:!0},l}(y.Component);function tE(r){var l=function(n){var a,o=typeof n.hidePopper=="boolean"?n.hidePopper:!0,d=y.useRef(null),u=dk(Be({open:!o,whileElementsMounted:BD,placement:n.popperPlacement,middleware:Xa([WD({padding:15}),KD(10),ZD({element:d})],(a=n.popperModifiers)!==null&&a!==void 0?a:[],!0)},n.popperProps)),m=Be(Be({},n),{hidePopper:o,popperProps:Be(Be({},u),{arrowRef:d})});return le.createElement(r,Be({},m))};return l}var aE=function(r){kt(l,r);function l(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(l,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),l.prototype.render=function(){var n=this.props,a=n.className,o=n.wrapperClassName,d=n.hidePopper,u=d===void 0?l.defaultProps.hidePopper:d,m=n.popperComponent,p=n.targetComponent,g=n.enableTabLoop,x=n.popperOnKeyDown,v=n.portalId,b=n.portalHost,C=n.popperProps,N=n.showArrow,E=void 0;if(!u){var _=Rt("react-datepicker-popper",a);E=le.createElement(Tb,{enableTabLoop:g},le.createElement("div",{ref:C.refs.setFloating,style:C.floatingStyles,className:_,"data-placement":C.placement,onKeyDown:x},m,N&&le.createElement(nk,{ref:C.arrowRef,context:C.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(E=y.createElement(this.props.popperContainer,{},E)),v&&!u&&(E=le.createElement(Eb,{portalId:v,portalHost:b},E));var k=Rt("react-datepicker-wrapper",o);return le.createElement(le.Fragment,null,le.createElement("div",{ref:C.refs.setReference,className:k},p),E)},l}(y.Component),nE=tE(aE),Ig="react-datepicker-ignore-onclickoutside";function sE(r,l){return r&&l?zt(r)!==zt(l)||Re(r)!==Re(l):r!==l}var _f="Date input not valid.",rE=function(r){kt(l,r);function l(n){var a=r.call(this,n)||this;return a.calendar=null,a.input=null,a.getPreSelection=function(){return a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:Ve()},a.modifyHolidays=function(){var o;return(o=a.props.holidays)===null||o===void 0?void 0:o.reduce(function(d,u){var m=new Date(u.date);return Vc(m)?Xa(Xa([],d,!0),[Be(Be({},u),{date:m})],!1):d},[])},a.calcInitialState=function(){var o,d=a.getPreSelection(),u=_b(a.props),m=Db(a.props),p=u&&zs(d,cc(u))?u:m&&as(d,kg(m))?m:d;return{open:a.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(o=a.props.selectsRange?a.props.startDate:a.props.selected)!==null&&o!==void 0?o:p,highlightDates:Pg(a.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},a.resetHiddenStatus=function(){a.setState(Be(Be({},a.state),{wasHidden:!1}))},a.setHiddenStatus=function(){a.setState(Be(Be({},a.state),{wasHidden:!0}))},a.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&a.setHiddenStatus()},a.clearPreventFocusTimeout=function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)},a.setFocus=function(){var o,d;(d=(o=a.input)===null||o===void 0?void 0:o.focus)===null||d===void 0||d.call(o,{preventScroll:!0})},a.setBlur=function(){var o,d;(d=(o=a.input)===null||o===void 0?void 0:o.blur)===null||d===void 0||d.call(o),a.cancelFocusInput()},a.deferBlur=function(){requestAnimationFrame(function(){a.setBlur()})},a.setOpen=function(o,d){d===void 0&&(d=!1),a.setState({open:o,preSelection:o&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:Df},function(){o||a.setState(function(u){return{focused:d?u.focused:!1}},function(){!d&&a.deferBlur(),a.setState({inputValue:null})})})},a.inputOk=function(){return bn(a.state.preSelection)},a.isCalendarOpen=function(){return a.props.open===void 0?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open},a.handleFocus=function(o){var d,u,m=a.state.wasHidden,p=m?a.state.open:!0;m&&a.resetHiddenStatus(),a.state.preventFocus||((u=(d=a.props).onFocus)===null||u===void 0||u.call(d,o),p&&!a.props.preventOpenOnFocus&&!a.props.readOnly&&a.setOpen(!0)),a.setState({focused:!0})},a.sendFocusBackToInput=function(){a.preventFocusTimeout&&a.clearPreventFocusTimeout(),a.setState({preventFocus:!0},function(){a.preventFocusTimeout=setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})})},a.cancelFocusInput=function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=void 0},a.deferFocusInput=function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout(function(){return a.setFocus()},1)},a.handleDropdownFocus=function(){a.cancelFocusInput()},a.handleBlur=function(o){var d,u;(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&((u=(d=a.props).onBlur)===null||u===void 0||u.call(d,o)),a.state.open&&a.props.open===!1&&a.setOpen(!1),a.setState({focused:!1})},a.handleCalendarClickOutside=function(o){var d,u;a.props.inline||a.setOpen(!1),(u=(d=a.props).onClickOutside)===null||u===void 0||u.call(d,o),a.props.withPortal&&o.preventDefault()},a.handleChange=function(){for(var o,d,u,m,p,g=[],x=0;x<arguments.length;x++)g[x]=arguments[x];var v=g[0];if(!(a.props.onChangeRaw&&(a.props.onChangeRaw.apply(a,g),!v||typeof v.isDefaultPrevented!="function"||v.isDefaultPrevented()))){a.setState({inputValue:(v==null?void 0:v.target)instanceof HTMLInputElement?v.target.value:null,lastPreSelectChange:lE});var b=a.props,C=b.selectsRange,N=b.startDate,E=b.endDate,_=(o=a.props.dateFormat)!==null&&o!==void 0?o:l.defaultProps.dateFormat,k=(d=a.props.strictParsing)!==null&&d!==void 0?d:l.defaultProps.strictParsing,M=(v==null?void 0:v.target)instanceof HTMLInputElement?v.target.value:"";if(C){var R=M.split(_.includes("-")?jb:"-",2).map(function(ue){return ue.trim()}),H=R[0],O=R[1],$=jf(H??"",_,a.props.locale,k),I=jf(O??"",_,a.props.locale,k),Y=(N==null?void 0:N.getTime())!==($==null?void 0:$.getTime()),G=(E==null?void 0:E.getTime())!==(I==null?void 0:I.getTime());if(!Y&&!G||$&&Na($,a.props)||I&&Na(I,a.props))return;(m=(u=a.props).onChange)===null||m===void 0||m.call(u,[$,I],v)}else{var de=jf(M,_,a.props.locale,k,(p=a.props.selected)!==null&&p!==void 0?p:void 0);(de||!M)&&a.setSelected(de,v,!0)}}},a.handleSelect=function(o,d,u){if(!a.props.readOnly){if(a.props.shouldCloseOnSelect&&!a.props.showTimeSelect&&a.sendFocusBackToInput(),a.props.onChangeRaw&&a.props.onChangeRaw(d),a.setSelected(o,d,!1,u),a.props.showDateSelect&&a.setState({isRenderAriaLiveMessage:!0}),!a.props.shouldCloseOnSelect||a.props.showTimeSelect)a.setPreSelection(o);else if(!a.props.inline){a.props.selectsRange||a.setOpen(!1);var m=a.props,p=m.startDate,g=m.endDate;p&&!g&&(a.props.swapRange||!Hg(o,p))&&a.setOpen(!1)}}},a.setSelected=function(o,d,u,m){var p,g,x=o;if(a.props.showYearPicker){if(x!==null&&dc(Re(x),a.props))return}else if(a.props.showMonthYearPicker){if(x!==null&&Cb(x,a.props))return}else if(x!==null&&Na(x,a.props))return;var v=a.props,b=v.onChange,C=v.selectsRange,N=v.startDate,E=v.endDate,_=v.selectsMultiple,k=v.selectedDates,M=v.minTime,R=v.swapRange;if(!Es(a.props.selected,x)||a.props.allowSameDay||C||_)if(x!==null&&(a.props.selected&&(!u||!a.props.showTimeSelect&&!a.props.showTimeSelectOnly&&!a.props.showTimeInput)&&(x=Sf(x,{hour:vn(a.props.selected),minute:wn(a.props.selected),second:es(a.props.selected)})),!u&&(a.props.showTimeSelect||a.props.showTimeSelectOnly)&&M&&(x=Sf(x,{hour:M.getHours(),minute:M.getMinutes(),second:M.getSeconds()})),a.props.inline||a.setState({preSelection:x}),a.props.focusSelectedMonth||a.setState({monthSelectedIn:m})),C){var H=!N&&!E,O=N&&!E,$=N&&E;H?b==null||b([x,null],d):O&&(x===null?b==null||b([null,null],d):Hg(x,N)?R?b==null||b([x,N],d):b==null||b([x,null],d):b==null||b([N,x],d)),$&&(b==null||b([x,null],d))}else if(_){if(x!==null)if(!(k!=null&&k.length))b==null||b([x],d);else{var I=k.some(function(G){return Fe(G,x)});if(I){var Y=k.filter(function(G){return!Fe(G,x)});b==null||b(Y,d)}else b==null||b(Xa(Xa([],k,!0),[x],!1),d)}}else b==null||b(x,d);u||((g=(p=a.props).onSelect)===null||g===void 0||g.call(p,x,d),a.setState({inputValue:null}))},a.setPreSelection=function(o){if(!a.props.readOnly){var d=bn(a.props.minDate),u=bn(a.props.maxDate),m=!0;if(o){var p=cc(o);if(d&&u)m=ii(o,a.props.minDate,a.props.maxDate);else if(d){var g=cc(a.props.minDate);m=as(o,g)||Es(p,g)}else if(u){var x=kg(a.props.maxDate);m=zs(o,x)||Es(p,x)}}m&&a.setState({preSelection:o})}},a.toggleCalendar=function(){a.setOpen(!a.state.open)},a.handleTimeChange=function(o){var d,u;if(!(a.props.selectsRange||a.props.selectsMultiple)){var m=a.props.selected?a.props.selected:a.getPreSelection(),p=a.props.selected?o:Sf(m,{hour:vn(o),minute:wn(o)});a.setState({preSelection:p}),(u=(d=a.props).onChange)===null||u===void 0||u.call(d,p),a.props.shouldCloseOnSelect&&!a.props.showTimeInput&&(a.sendFocusBackToInput(),a.setOpen(!1)),a.props.showTimeInput&&a.setOpen(!0),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),a.setState({inputValue:null})}},a.onInputClick=function(){var o,d;!a.props.disabled&&!a.props.readOnly&&a.setOpen(!0),(d=(o=a.props).onInputClick)===null||d===void 0||d.call(o)},a.onInputKeyDown=function(o){var d,u,m,p,g,x;(u=(d=a.props).onKeyDown)===null||u===void 0||u.call(d,o);var v=o.key;if(!a.state.open&&!a.props.inline&&!a.props.preventOpenOnFocus){(v===ge.ArrowDown||v===ge.ArrowUp||v===ge.Enter)&&((m=a.onInputClick)===null||m===void 0||m.call(a));return}if(a.state.open){if(v===ge.ArrowDown||v===ge.ArrowUp){o.preventDefault();var b=a.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":a.props.showWeekPicker&&a.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':a.props.showFullMonthYearPicker||a.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',C=((p=a.calendar)===null||p===void 0?void 0:p.containerRef.current)instanceof Element&&a.calendar.containerRef.current.querySelector(b);C instanceof HTMLElement&&C.focus({preventScroll:!0});return}var N=Ve(a.state.preSelection);v===ge.Enter?(o.preventDefault(),o.target.blur(),a.inputOk()&&a.state.lastPreSelectChange===Df?(a.handleSelect(N,o),!a.props.shouldCloseOnSelect&&a.setPreSelection(N)):a.setOpen(!1)):v===ge.Escape?(o.preventDefault(),o.target.blur(),a.sendFocusBackToInput(),a.setOpen(!1)):v===ge.Tab&&a.setOpen(!1),a.inputOk()||(x=(g=a.props).onInputError)===null||x===void 0||x.call(g,{code:1,msg:_f})}},a.onPortalKeyDown=function(o){var d=o.key;d===ge.Escape&&(o.preventDefault(),a.setState({preventFocus:!0},function(){a.setOpen(!1),setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})}))},a.onDayKeyDown=function(o){var d,u,m,p,g,x,v=a.props,b=v.minDate,C=v.maxDate,N=v.disabledKeyboardNavigation,E=v.showWeekPicker,_=v.shouldCloseOnSelect,k=v.locale,M=v.calendarStartDay,R=v.adjustDateOnChange,H=v.inline;if((u=(d=a.props).onKeyDown)===null||u===void 0||u.call(d,o),!N){var O=o.key,$=o.shiftKey,I=Ve(a.state.preSelection),Y=function(F,S){var T=S;switch(F){case ge.ArrowRight:T=E?hc(S,1):Ma(S,1);break;case ge.ArrowLeft:T=E?pg(S):E_(S);break;case ge.ArrowUp:T=pg(S);break;case ge.ArrowDown:T=hc(S,1);break;case ge.PageUp:T=$?Hr(S,1):Rs(S,1);break;case ge.PageDown:T=$?yn(S,1):Aa(S,1);break;case ge.Home:T=ts(S,k,M);break;case ge.End:T=gk(S);break}return T},G=function(F,S){for(var T=40,U=F,A=!1,j=0,z=Y(F,S);!A;){if(j>=T){z=S;break}b&&z<b&&(U=ge.ArrowRight,z=Na(b,a.props)?Y(U,z):b),C&&z>C&&(U=ge.ArrowLeft,z=Na(C,a.props)?Y(U,z):C),Na(z,a.props)?((U===ge.PageUp||U===ge.Home)&&(U=ge.ArrowRight),(U===ge.PageDown||U===ge.End)&&(U=ge.ArrowLeft),z=Y(U,z)):A=!0,j++}return z};if(O===ge.Enter){o.preventDefault(),a.handleSelect(I,o),!_&&a.setPreSelection(I);return}else if(O===ge.Escape){o.preventDefault(),a.setOpen(!1),a.inputOk()||(p=(m=a.props).onInputError)===null||p===void 0||p.call(m,{code:1,msg:_f});return}var de=null;switch(O){case ge.ArrowLeft:case ge.ArrowRight:case ge.ArrowUp:case ge.ArrowDown:case ge.PageUp:case ge.PageDown:case ge.Home:case ge.End:de=G(O,I);break}if(!de){(x=(g=a.props).onInputError)===null||x===void 0||x.call(g,{code:1,msg:_f});return}if(o.preventDefault(),a.setState({lastPreSelectChange:Df}),R&&a.setSelected(de),a.setPreSelection(de),H){var ue=zt(I),V=zt(de),ne=Re(I),se=Re(de);ue!==V||ne!==se?a.setState({shouldFocusDayInline:!0}):a.setState({shouldFocusDayInline:!1})}}},a.onPopperKeyDown=function(o){var d=o.key;d===ge.Escape&&(o.preventDefault(),a.sendFocusBackToInput(),a.setOpen(!1))},a.onClearClick=function(o){o&&o.preventDefault&&o.preventDefault(),a.sendFocusBackToInput();var d=a.props,u=d.selectsRange,m=d.onChange;u?m==null||m([null,null],o):m==null||m(null,o),a.setState({inputValue:null})},a.clear=function(){a.onClearClick()},a.onScroll=function(o){typeof a.props.closeOnScroll=="boolean"&&a.props.closeOnScroll?(o.target===document||o.target===document.documentElement||o.target===document.body)&&a.setOpen(!1):typeof a.props.closeOnScroll=="function"&&a.props.closeOnScroll(o)&&a.setOpen(!1)},a.renderCalendar=function(){var o,d;return!a.props.inline&&!a.isCalendarOpen()?null:le.createElement(Wk,Be({showMonthYearDropdown:void 0,ref:function(u){a.calendar=u}},a.props,a.state,{setOpen:a.setOpen,dateFormat:(o=a.props.dateFormatCalendar)!==null&&o!==void 0?o:l.defaultProps.dateFormatCalendar,onSelect:a.handleSelect,onClickOutside:a.handleCalendarClickOutside,holidays:Ek(a.modifyHolidays()),outsideClickIgnoreClass:Ig,onDropdownFocus:a.handleDropdownFocus,onTimeChange:a.handleTimeChange,className:a.props.calendarClassName,container:a.props.calendarContainer,handleOnKeyDown:a.props.onKeyDown,handleOnDayKeyDown:a.onDayKeyDown,setPreSelection:a.setPreSelection,dropdownMode:(d=a.props.dropdownMode)!==null&&d!==void 0?d:l.defaultProps.dropdownMode}),a.props.children)},a.renderAriaLiveRegion=function(){var o=a.props,d=o.dateFormat,u=d===void 0?l.defaultProps.dateFormat:d,m=o.locale,p=a.props.showTimeInput||a.props.showTimeSelect,g=p?"PPPPp":"PPPP",x;return a.props.selectsRange?x="Selected start date: ".concat(va(a.props.startDate,{dateFormat:g,locale:m}),". ").concat(a.props.endDate?"End date: "+va(a.props.endDate,{dateFormat:g,locale:m}):""):a.props.showTimeSelectOnly?x="Selected time: ".concat(va(a.props.selected,{dateFormat:u,locale:m})):a.props.showYearPicker?x="Selected year: ".concat(va(a.props.selected,{dateFormat:"yyyy",locale:m})):a.props.showMonthYearPicker?x="Selected month: ".concat(va(a.props.selected,{dateFormat:"MMMM yyyy",locale:m})):a.props.showQuarterYearPicker?x="Selected quarter: ".concat(va(a.props.selected,{dateFormat:"yyyy, QQQ",locale:m})):x="Selected date: ".concat(va(a.props.selected,{dateFormat:g,locale:m})),le.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},x)},a.renderDateInput=function(){var o,d,u,m=Rt(a.props.className,(o={},o[Ig]=a.state.open,o)),p=a.props.customInput||le.createElement("input",{type:"text"}),g=a.props.customInputRef||"ref",x=a.props,v=x.dateFormat,b=v===void 0?l.defaultProps.dateFormat:v,C=x.locale,N=typeof a.props.value=="string"?a.props.value:typeof a.state.inputValue=="string"?a.state.inputValue:a.props.selectsRange?mk(a.props.startDate,a.props.endDate,{dateFormat:b,locale:C}):a.props.selectsMultiple?hk((u=a.props.selectedDates)!==null&&u!==void 0?u:[],{dateFormat:b,locale:C}):va(a.props.selected,{dateFormat:b,locale:C});return y.cloneElement(p,(d={},d[g]=function(E){a.input=E},d.value=N,d.onBlur=a.handleBlur,d.onChange=a.handleChange,d.onClick=a.onInputClick,d.onFocus=a.handleFocus,d.onKeyDown=a.onInputKeyDown,d.id=a.props.id,d.name=a.props.name,d.form=a.props.form,d.autoFocus=a.props.autoFocus,d.placeholder=a.props.placeholderText,d.disabled=a.props.disabled,d.autoComplete=a.props.autoComplete,d.className=Rt(p.props.className,m),d.title=a.props.title,d.readOnly=a.props.readOnly,d.required=a.props.required,d.tabIndex=a.props.tabIndex,d["aria-describedby"]=a.props.ariaDescribedBy,d["aria-invalid"]=a.props.ariaInvalid,d["aria-labelledby"]=a.props.ariaLabelledBy,d["aria-required"]=a.props.ariaRequired,d))},a.renderClearButton=function(){var o=a.props,d=o.isClearable,u=o.disabled,m=o.selected,p=o.startDate,g=o.endDate,x=o.clearButtonTitle,v=o.clearButtonClassName,b=v===void 0?"":v,C=o.ariaLabelClose,N=C===void 0?"Close":C,E=o.selectedDates,_=o.readOnly;return d&&!_&&(m!=null||p!=null||g!=null||E!=null&&E.length)?le.createElement("button",{type:"button",className:Rt("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":u}),disabled:u,"aria-label":N,onClick:a.onClearClick,title:x,tabIndex:-1}):null},a.state=a.calcInitialState(),a.preventFocusTimeout=void 0,a}return Object.defineProperty(l,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:ji,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),l.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},l.prototype.componentDidUpdate=function(n,a){var o,d,u,m;n.inline&&sE(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Pg(this.props.highlightDates)}),!a.focused&&!Es(n.selected,this.props.selected)&&this.setState({inputValue:null}),a.open!==this.state.open&&(a.open===!1&&this.state.open===!0&&((d=(o=this.props).onCalendarOpen)===null||d===void 0||d.call(o)),a.open===!0&&this.state.open===!1&&((m=(u=this.props).onCalendarClose)===null||m===void 0||m.call(u)))},l.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},l.prototype.renderInputContainer=function(){var n=this.props,a=n.showIcon,o=n.icon,d=n.calendarIconClassname,u=n.calendarIconClassName,m=n.toggleCalendarOnIconClick,p=this.state.open;return d&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),le.createElement("div",{className:"react-datepicker__input-container".concat(a?" react-datepicker__view-calendar-icon":"")},a&&le.createElement(Zk,Be({icon:o,className:Rt(u,!u&&d,p&&"react-datepicker-ignore-onclickoutside")},m?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},l.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var a=this.state.open?le.createElement(Tb,{enableTabLoop:this.props.enableTabLoop},le.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(a=le.createElement(Eb,Be({portalId:this.props.portalId},this.props),a)),le.createElement("div",null,this.renderInputContainer(),a)}return le.createElement(nE,Be({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},l}(y.Component),lE="input",Df="navigate";const iE=({message:r,type:l,onClose:n})=>(y.useEffect(()=>{const a=setTimeout(n,3e3);return()=>clearTimeout(a)},[n]),t.jsx("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300 ${l==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{children:r}),t.jsx("button",{onClick:n,className:"ml-2 text-white hover:text-gray-200",title:"Close notification",children:t.jsx(Ue,{className:"w-4 h-4"})})]})})),Jo=`${Ce}/events`,oE=Ce.replace("/api",""),cE=()=>{const{user:r}=La(),l=Zt(),[n,a]=y.useState([]),[o,d]=y.useState(0),[u,m]=y.useState(0),[p,g]=y.useState([]),[x,v]=y.useState(""),[b,C]=y.useState(""),[N,E]=y.useState(!1),[_,k]=y.useState(!1),[M,R]=y.useState(null),[H,O]=y.useState(!1),[$,I]=y.useState({topic:"",description:"",date:"",time:"",venue:"",image:null}),[Y,G]=y.useState(!1),[de,ue]=y.useState(!1),[V,ne]=y.useState(null),[se,F]=y.useState(null),S=new Date;S.setDate(S.getDate()+7);const T=new Date;T.setMonth(T.getMonth()+4);const U=fe=>{const te=new Date(fe);return{date:te.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),time:te.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}},A=(fe,te)=>{ne({message:fe,type:te})},j=y.useCallback(async()=>{G(!0);try{const fe=await fetch(Jo,{method:"GET",headers:{"Content-Type":"application/json"}});if(!fe.ok)throw new Error(`HTTP error! status: ${fe.status}`);const te=await fe.json();console.log("Fetched events:",te);const J=new Date;J.setHours(0,0,0,0);const xe=te.filter(Se=>{const ze=new Date(Se.date);return ze.setHours(0,0,0,0),ze>=J});d(te.length),m(xe.length),console.log(`Total events: ${te.length}, Upcoming events: ${xe.length}`),a(te),g(te)}catch(fe){console.error("Error fetching events:",fe),A("Failed to load events. Please check your connection.","error")}finally{G(!1),ue(!1)}},[]),z=y.useCallback(()=>{if(!x&&!b){g(n);return}ue(!0);const fe=setTimeout(()=>{const te=n.filter(J=>{const xe=x?J.topic.toLowerCase().includes(x.toLowerCase())||J.description.toLowerCase().includes(x.toLowerCase())||J.venue.toLowerCase().includes(x.toLowerCase()):!0,Se=b?J.date.slice(0,10)===b:!0;return xe&&Se});g(te),ue(!1),te.length===0&&A("No matching events found","error")},300);return()=>clearTimeout(fe)},[x,b,n]);y.useEffect(()=>{j()},[j]),y.useEffect(()=>{const fe=l.state;if(fe!=null&&fe.eventId&&n.length>0){const te=parseInt(fe.eventId);n.find(xe=>xe.event_id===te)&&(F(te),setTimeout(()=>{const xe=document.getElementById(`event-row-${te}`);xe&&xe.scrollIntoView({behavior:"smooth",block:"center"})},300),setTimeout(()=>{F(null)},3e3),window.history.replaceState({},document.title))}},[l.state,n]),y.useEffect(()=>{z()},[x,b,z]);const W=fe=>{const{name:te,value:J}=fe.target;I({...$,[te]:J})},P=fe=>{if(fe){const te=fe.toISOString().split("T")[0];I({...$,date:te})}},q=()=>{E(!0),O(!1),I({topic:"",description:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().split(" ")[0].slice(0,5),venue:"",image:null})},he=fe=>{E(!0),O(!0),R(fe);let te="";fe.date&&(typeof fe.date=="string"&&fe.date.match(/^\d{4}-\d{2}-\d{2}/)?te=fe.date.slice(0,10):te=new Date(fe.date).toISOString().split("T")[0]),I({topic:fe.topic,description:fe.description,date:te,time:fe.time?fe.time.slice(0,5):"",venue:fe.venue,image:null})},X=()=>{E(!1),k(!1),R(null),I({topic:"",description:"",date:"",time:"",venue:"",image:null})},pe=async fe=>{if(fe.preventDefault(),!$.topic.trim()||!$.description.trim()||!$.date||!$.time||!$.venue.trim()){A("Please fill in all required fields","error");return}const te=new Date($.date);if(te<S){A("Cannot create events less than 7 days in advance","error");return}if(te>T){A("Cannot create events more than 4 months in advance","error");return}G(!0);try{const J=(r==null?void 0:r.id)||(r==null?void 0:r.user_id);if(!J&&!H){A("User not logged in. Please log in first.","error");return}const xe={topic:$.topic.trim(),description:$.description.trim(),venue:$.venue.trim(),date:$.date,time:$.time,image:$.image?$.image.name:null,user_id:H?void 0:J};let Se=Jo,ze="POST";H&&M?(Se=`${Jo}/${M.event_id}`,ze="PUT",console.log("Updating event:",M.event_id)):console.log("Creating new event"),console.log("Sending request to:",Se),console.log("Method:",ze),console.log("Payload:",xe);const Ze=await fetch(Se,{method:ze,headers:{"Content-Type":"application/json"},body:JSON.stringify(xe)});if(console.log("Response status:",Ze.status),!Ze.ok){let Yt="Failed to save event";try{const Ua=await Ze.json();Yt=Ua.message||Ua.error||Yt}catch(Ua){console.error("Error parsing error response:",Ua)}throw new Error(Yt)}const Je=await Ze.json();console.log("Operation result:",Je),H?(a(Yt=>Yt.map(Ua=>Ua.event_id===(M==null?void 0:M.event_id)?Je:Ua)),A("Event updated successfully!","success")):(a(Yt=>[Je,...Yt]),A("Event created successfully!","success")),X(),setTimeout(()=>{j()},500)}catch(J){console.error("Error saving event:",J);const xe=J instanceof Error?J.message:"Failed to save event. Please try again.";A(xe,"error")}finally{G(!1)}},Ne=async()=>{if(M){G(!0);try{console.log("Deleting event:",M.event_id);const fe=await fetch(`${Jo}/${M.event_id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(console.log("Delete response status:",fe.status),!fe.ok){let te="Failed to delete event";try{const J=await fe.json();te=J.message||J.error||te}catch(J){console.error("Error parsing error response:",J)}throw new Error(te)}a(te=>te.filter(J=>J.event_id!==M.event_id)),A("Event deleted successfully!","success"),X(),setTimeout(()=>{j()},500)}catch(fe){console.error("Error deleting event:",fe);const te=fe instanceof Error?fe.message:"Failed to delete event. Please try again.";A(te,"error")}finally{G(!1)}}},We=()=>{v(""),C("")};return Y&&!N&&!_?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs("div",{className:"space-y-6",children:[V&&t.jsx(iE,{message:V.message,type:V.type,onClose:()=>ne(null)}),t.jsx("div",{className:"flex justify-between items-center",children:t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Events"})})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Events"}),t.jsx("p",{className:"text-3xl font-bold text-gray-800",children:o}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"All events in the system"})]}),t.jsx("div",{className:"p-3 rounded-lg bg-blue-100",children:t.jsx(vt,{className:"w-8 h-8 text-blue-600"})})]})}),t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Upcoming Events"}),t.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Events from today onwards"})]}),t.jsx("div",{className:"p-3 rounded-lg bg-green-100",children:t.jsx(vt,{className:"w-8 h-8 text-green-600"})})]})})]}),t.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Jt,{className:"absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search events by topic, description, or venue...",className:"pl-10 pr-10 py-2 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:x,onChange:fe=>v(fe.target.value)}),de&&t.jsx("span",{className:"absolute right-3 top-3",children:t.jsxs("svg",{className:"animate-spin h-5 w-5 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]})})]}),t.jsxs("div",{className:"relative flex-1",children:[t.jsx(vt,{className:"absolute left-3 top-3 text-gray-400 pointer-events-none"}),t.jsx("input",{type:"date",placeholder:"Filter by event date...",className:"pl-10 pr-4 py-2 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:b,onChange:fe=>C(fe.target.value)})]}),t.jsxs("button",{onClick:q,className:"flex items-center justify-center bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg transition-colors whitespace-nowrap",children:[t.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Add Event"]})]}),(x||b)&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-sm text-gray-500",children:["Showing ",p.length," results",x&&` for "${x}"`,b&&` on ${(()=>{const[fe,te,J]=b.split("-").map(Number);return new Date(fe,te-1,J).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})()}`]}),t.jsx("button",{onClick:We,className:"text-sm text-indigo-600 hover:text-indigo-800",children:"Clear filters"})]})]})}),t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 max-w-8xl mx-auto",children:p.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full w-full table-fixed divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Topic"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/5",children:"Description"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Date & Time"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Venue"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(fe=>{const te=fe.created_time?U(fe.created_time):null,J=se===fe.event_id;return t.jsxs("tr",{id:`event-row-${fe.event_id}`,className:`hover:bg-gray-50 transition-colors duration-300 ${J?"bg-blue-50 ring-2 ring-blue-400 ring-inset":""}`,children:[t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap w-1/5",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:fe.topic}),fe.image&&t.jsx("img",{src:`${oE}/uploads/${fe.image}`,alt:fe.topic,className:"mt-2 w-16 h-16 object-cover rounded",onError:xe=>{xe.target.style.display="none"}})]}),t.jsx("td",{className:"px-6 py-4 w-2/5",children:t.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-line break-words",children:fe.description})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap w-1/5",children:[t.jsxs("div",{className:"text-sm text-gray-900",children:[(()=>{const[xe,Se,ze]=fe.date.split("-").map(Number);return new Date(xe,Se-1,ze).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})()," ","at ",fe.time]}),te&&t.jsx("div",{className:"mt-1 text-xs text-gray-500 flex items-center"})]}),t.jsx("td",{className:"px-6 py-4 w-1/5",children:t.jsx("div",{className:"text-sm text-gray-900",children:fe.venue})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2 w-1/5",children:t.jsx("button",{onClick:()=>he(fe),className:`text-indigo-600 hover:text-indigo-900 p-1 rounded hover:bg-indigo-50 ${fe.date<new Date().toISOString().split("T")[0]?"opacity-50 cursor-not-allowed":""}`,title:fe.date<new Date().toISOString().split("T")[0]?"Cannot edit past events":"Edit","aria-label":"Edit",disabled:fe.date<new Date().toISOString().split("T")[0],children:t.jsx(Sn,{className:"w-4 h-4"})})})]},fe.event_id)})})]})}):t.jsxs("div",{className:"text-center py-10",children:[t.jsx("p",{className:"text-gray-500",children:de?"Searching...":x||b?"No matching events found":"No events found"}),x||b?t.jsx("button",{onClick:We,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Clear search filters"}):t.jsxs("button",{onClick:q,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[t.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Add New Event"]})]})}),N&&t.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:H?"Edit Event":"Add Event"}),t.jsx("button",{onClick:X,className:"text-gray-400 hover:text-gray-500",title:"Close","aria-label":"Close",children:t.jsx(Ue,{className:"h-6 w-6"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-medium text-indigo-700 border-b border-indigo-100 pb-2",children:"Event Information"}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"topic",className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic *"}),t.jsx("input",{type:"text",id:"topic",name:"topic",value:$.topic,onChange:W,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,placeholder:"Enter event topic"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),t.jsx("textarea",{id:"description",name:"description",value:$.description,onChange:W,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,placeholder:"Enter event description"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-medium text-indigo-700 border-b border-indigo-100 pb-2",children:"Event Details"}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),t.jsxs("div",{className:"relative",children:[t.jsx(rE,{selected:$.date?new Date($.date):null,onChange:P,minDate:S,maxDate:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 pl-10",required:!0,dateFormat:"yyyy-MM-dd"}),t.jsx(vt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"})]}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Select a date between 7 days from today and 4 months from now"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"time",className:"block text-sm font-medium text-gray-700 mb-1",children:"Time *"}),t.jsx("input",{type:"time",id:"time",name:"time",value:$.time,onChange:W,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"venue",className:"block text-sm font-medium text-gray-700 mb-1",children:"Venue *"}),t.jsx("input",{type:"text",id:"venue",name:"venue",value:$.venue,onChange:W,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,placeholder:"Enter event venue"})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:X,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:Y,children:"Cancel"}),t.jsxs("button",{type:"button",onClick:pe,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",disabled:Y,children:[Y?"Processing...":H?"Update":"Create"," ","Event"]})]})]})]})})}),_&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Delete Event"}),t.jsx("button",{onClick:X,className:"text-gray-400 hover:text-gray-500",title:"Close","aria-label":"Close",children:t.jsx(Ue,{className:"w-6 h-6"})})]}),t.jsxs("p",{className:"mb-6 text-gray-600",children:["Are you sure you want to delete the event"," ",t.jsx("span",{className:"font-semibold",children:M==null?void 0:M.topic}),"? This action cannot be undone."]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx("button",{onClick:X,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",disabled:Y,children:"Cancel"}),t.jsx("button",{onClick:Ne,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 disabled:opacity-50",disabled:Y,children:Y?"Deleting...":"Delete"})]})]})})]})},dE={async changePassword(r){const l=localStorage.getItem("token"),n=localStorage.getItem("user"),a=n?JSON.parse(n):null;if(!a||!a.email)return{success:!1,message:"User not authenticated"};try{const o=await fetch(`${Ce}/supervisors/change-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`,"X-User-Email":a.email},body:JSON.stringify(r)}),d=await o.json();if(!o.ok)throw new Error(d.message||"Failed to change password");return{success:!0,message:d.message||"Password changed successfully"}}catch(o){return{success:!1,message:o instanceof Error?o.message:"An error occurred while changing password"}}}},uE=()=>{const{user:r}=La(),[l,n]=y.useState(!1),[a,o]=y.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[d,u]=y.useState({current:!1,new:!1,confirm:!1}),[m,p]=y.useState(!1),g=async v=>{if(v.preventDefault(),a.newPassword!==a.confirmPassword){alert("New passwords do not match!");return}if(a.newPassword.length<6){alert("New password must be at least 6 characters long!");return}p(!0);try{const b=await dE.changePassword({currentPassword:a.currentPassword,newPassword:a.newPassword});b.success?(alert(b.message),n(!1),o({currentPassword:"",newPassword:"",confirmPassword:""})):alert(b.message)}catch(b){console.error("Password change error:",b),alert("An error occurred while changing password")}finally{p(!1)}},x=v=>{u(b=>({...b,[v]:!b[v]}))};return r?t.jsxs("div",{className:"max-w-4xl mx-auto py-8",children:[t.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] px-6 py-8",children:t.jsxs("div",{className:"flex items-center space-x-6",children:[t.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center",children:r.image?t.jsx("img",{src:r.image,alt:"Profile",className:"w-20 h-20 rounded-full object-cover"}):t.jsx(jt,{className:"w-12 h-12 text-[#4f46e5]"})}),t.jsxs("div",{className:"text-white",children:[t.jsx("h1",{className:"text-3xl font-bold",children:r.name}),t.jsx("p",{className:"text-blue-100 capitalize",children:r.role}),t.jsxs("p",{className:"text-blue-100",children:["ID: ",r.id]})]})]})}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[t.jsx(jt,{className:"w-5 h-5 mr-2 text-[#4f46e5]"}),"Personal Information"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Gr,{className:"w-5 h-5 text-gray-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),t.jsx("p",{className:"text-gray-900",children:r.email})]})]}),r.phone&&t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(kc,{className:"w-5 h-5 text-gray-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),t.jsx("p",{className:"text-gray-900",children:r.phone})]})]}),r.nic&&t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(jt,{className:"w-5 h-5 text-gray-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"NIC"}),t.jsx("p",{className:"text-gray-900",children:r.nic})]})]}),r.address&&t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(fy,{className:"w-5 h-5 text-gray-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),t.jsx("p",{className:"text-gray-900",children:r.address})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(vt,{className:"w-5 h-5 text-gray-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Member Since"}),t.jsx("p",{className:"text-gray-900",children:new Date(r.created_at).toLocaleDateString()})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[t.jsx(di,{className:"w-5 h-5 mr-2 text-[#4f46e5]"}),"Account Security"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Keep your account secure by using a strong password."}),t.jsxs("button",{onClick:()=>n(!0),className:"bg-[#4f46e5] text-white px-4 py-2 rounded-lg hover:bg-[#3f37d6] transition-colors flex items-center space-x-2",children:[t.jsx(di,{className:"w-4 h-4"}),t.jsx("span",{children:"Change Password"})]})]}),t.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsx("p",{className:"text-sm text-green-800",children:"Account Status: Active"})]})})]})]})]})})]}),l&&t.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Change Password"}),t.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),t.jsxs("form",{onSubmit:g,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:d.current?"text":"password",value:a.currentPassword,onChange:v=>o(b=>({...b,currentPassword:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent pr-10",placeholder:"Enter your current password",required:!0}),t.jsx("button",{type:"button",onClick:()=>x("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d.current?t.jsx(Mr,{className:"w-4 h-4 text-gray-400"}):t.jsx(Ta,{className:"w-4 h-4 text-gray-400"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:d.new?"text":"password",value:a.newPassword,onChange:v=>o(b=>({...b,newPassword:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent pr-10",placeholder:"Enter your new password",required:!0,minLength:6}),t.jsx("button",{type:"button",onClick:()=>x("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d.new?t.jsx(Mr,{className:"w-4 h-4 text-gray-400"}):t.jsx(Ta,{className:"w-4 h-4 text-gray-400"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:d.confirm?"text":"password",value:a.confirmPassword,onChange:v=>o(b=>({...b,confirmPassword:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4f46e5] focus:border-transparent pr-10",placeholder:"Confirm your new password",required:!0,minLength:6}),t.jsx("button",{type:"button",onClick:()=>x("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d.confirm?t.jsx(Mr,{className:"w-4 h-4 text-gray-400"}):t.jsx(Ta,{className:"w-4 h-4 text-gray-400"})})]})]}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:m,children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-[#4f46e5] text-white rounded-lg hover:bg-[#3f37d6] disabled:opacity-50",disabled:m,children:m?"Changing...":"Change Password"})]})]})]})})]}):t.jsx("div",{children:"Loading..."})},fE=()=>{const[r,l]=iy(),[n,a]=y.useState([]),[o,d]=y.useState(""),[u,m]=y.useState("All Status"),[p,g]=y.useState("All Recipients"),[x,v]=y.useState(!1),[b,C]=y.useState(!1),[N,E]=y.useState(!1),[_,k]=y.useState(null),[M,R]=y.useState(!1),[H,O]=y.useState({date:"",subject:"",recipient:"supervisor",description:"",status:"Pending",action:"",child_id:0}),[$,I]=y.useState(!1),[Y,G]=y.useState(!1),de={total:n.length,pending:n.filter(j=>j.status==="Pending").length,inProgress:n.filter(j=>j.status==="In Progress").length,solved:n.filter(j=>j.status==="Solved").length,closed:n.filter(j=>j.status==="Closed").length};y.useEffect(()=>{V()},[]),y.useEffect(()=>{const j=r.get("complaint_id");if(j&&n.length>0){const z=n.find(W=>W.complaint_id===parseInt(j));z&&(F(z),l({}))}},[r,n,l]);const ue=y.useCallback(async()=>{if(!o.trim()&&u==="All Status"&&p==="All Recipients"){V();return}I(!0),G(!0);try{const j={};o.trim()&&(j.searchTerm=o),u!=="All Status"&&(j.status=u),p!=="All Recipients"&&(j.recipient=p),j.recipient="supervisor";const z=await Cs.searchComplaints(j);a(z)}catch(j){console.error("Error searching complaints:",j),me.error("Search failed")}finally{I(!1)}},[o,u,p]);y.useEffect(()=>{const j=setTimeout(()=>{(o.trim()||u!=="All Status"||p!=="All Recipients"||Y)&&ue()},500);return()=>{clearTimeout(j)}},[o,u,p,ue,Y]);const V=async()=>{I(!0);try{console.log("Fetching complaints for supervisor...");const j=await Cs.getComplaintsByRecipient("supervisor");console.log("Fetched complaints:",j),a(j)}catch(j){console.error("Error fetching complaints:",j),me.error("Failed to load complaints")}finally{I(!1),G(!1)}},ne=j=>{const{name:z,value:W}=j.target;O({...H,[z]:W})},se=j=>{v(!0),R(!0),k(j),O({date:j.date,subject:j.subject,recipient:j.recipient,description:j.description,status:j.status,action:j.action||"",child_id:j.child_id})},F=j=>{E(!0),k(j)},S=()=>{v(!1),C(!1),E(!1),k(null)},T=async j=>{var W,P;if(j.preventDefault(),!M||!_)return;const z=me.loading("Updating complaint...");try{let q=!1,he=!1;const X=(_.action||"").trim(),pe=(H.action||"").trim(),Ne=_.status,We=H.status;if(console.log("Current status:",Ne,"New status:",We),console.log("Current action:",X,"New action:",pe),We&&We!==Ne){console.log(`Updating status from "${Ne}" to "${We}"`);const te=await Cs.updateComplaintStatus(_.complaint_id,We);console.log("Status update result:",te),q=!0}if(pe!==X){console.log(`Updating action from "${X}" to "${pe}"`);const te=await Cs.updateComplaintAction(_.complaint_id,pe);console.log("Action update result:",te),he=!0}if(!q&&!he){me.dismiss(z),me.info("No changes to update"),S();return}console.log("Fetching updated complaint...");const fe=await Cs.getComplaintById(_.complaint_id);console.log("Updated complaint fetched:",fe),a(n.map(te=>te.complaint_id===fe.complaint_id?fe:te)),me.dismiss(z),q&&he?me.success("✅ Complaint status and action updated successfully!"):q?me.success("✅ Complaint status updated successfully!"):he&&me.success("✅ Complaint action updated successfully!"),S()}catch(q){me.dismiss(z),console.error("Error updating complaint:",q);let he="Failed to update complaint";if(q instanceof Error)he=q.message;else if(typeof q=="object"&&q!==null){const X=q;(P=(W=X.response)==null?void 0:W.data)!=null&&P.message&&(he=X.response.data.message)}me.error(`❌ ${he}`)}},U=async()=>{var z,W;if(!_)return;const j=me.loading("Deleting complaint...");try{await Cs.deleteComplaint(_.complaint_id),a(n.filter(P=>P.complaint_id!==_.complaint_id)),me.dismiss(j),me.success("✅ Complaint deleted successfully!"),S()}catch(P){me.dismiss(j),console.error("Error deleting complaint:",P);let q="Failed to delete complaint";if(P instanceof Error)q=P.message;else if(typeof P=="object"&&P!==null){const he=P;(W=(z=he.response)==null?void 0:z.data)!=null&&W.message&&(q=he.response.data.message)}me.error(`❌ ${q}`)}},A=()=>{d(""),m("All Status"),g("All Recipients"),V()};return $?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center",children:t.jsx("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:t.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] to-[#7c73e6] bg-clip-text text-transparent",children:"Complaints Management"})})}),t.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Jt,{className:"absolute left-3 top-3 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search complaints by subject, description, child name, or parent name...",className:"pl-10 pr-4 py-2 w-full border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:o,onChange:j=>d(j.target.value)})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Lr,{className:"absolute left-3 top-3 text-gray-400 w-4 h-4"}),t.jsxs("select",{value:u,onChange:j=>m(j.target.value),className:"pl-10 pr-8 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 appearance-none bg-white",title:"Filter by status","aria-label":"Filter complaints by status",children:[t.jsx("option",{value:"All Status",children:"All Status"}),t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"In Progress",children:"In Progress"}),t.jsx("option",{value:"Solved",children:"Solved"}),t.jsx("option",{value:"Closed",children:"Closed"})]})]}),t.jsx("button",{onClick:A,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"Clear"})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"border p-4 rounded-lg bg-white",children:[t.jsx("h3",{className:"text-sm text-gray-500",children:"Total Complaints"}),t.jsx("p",{className:"text-2xl font-bold",children:de.total})]}),t.jsxs("div",{className:"border p-4 rounded-lg bg-white",children:[t.jsx("h3",{className:"text-sm text-gray-500",children:"Pending"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:de.pending})]}),t.jsxs("div",{className:"border p-4 rounded-lg bg-white",children:[t.jsx("h3",{className:"text-sm text-gray-500",children:"In Progress"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:de.inProgress})]}),t.jsxs("div",{className:"border p-4 rounded-lg bg-white",children:[t.jsx("h3",{className:"text-sm text-gray-500",children:"Solved"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:de.solved})]}),t.jsxs("div",{className:"border p-4 rounded-lg bg-white",children:[t.jsx("h3",{className:"text-sm text-gray-500",children:"Closed"}),t.jsx("p",{className:"text-2xl font-bold text-gray-600",children:de.closed})]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:n.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full table-auto",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/5",children:"Complaint Details"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4",children:"Child & Parent"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[15%]",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(j=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-4 align-top",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx(ja,{className:"flex-shrink-0 h-8 w-8 text-red-600 mt-1"}),t.jsxs("div",{className:"ml-4 min-w-0 flex-1",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 break-words mb-1",children:j.subject}),t.jsx("div",{className:"text-sm text-gray-500 break-words mb-2",children:j.description}),t.jsx("div",{className:"text-sm text-gray-400",children:new Date(j.date).toLocaleDateString()})]})]})}),t.jsx("td",{className:"px-4 py-4 align-top",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx(jt,{className:"flex-shrink-0 h-8 w-8 text-indigo-600 mt-1"}),t.jsxs("div",{className:"ml-4 min-w-0 flex-1",children:[t.jsxs("div",{className:"text-sm font-medium text-gray-900 break-words mb-1",children:["Parent: ",j.parent_name]}),t.jsxs("div",{className:"text-sm text-gray-500 break-words",children:["Child: ",j.child_name]})]})]})}),t.jsx("td",{className:"px-4 py-4 align-top",children:t.jsx("span",{className:`inline-flex px-2 py-1 text-xs rounded-full ${j.status==="Pending"?"bg-yellow-100 text-yellow-800":j.status==="In Progress"?"bg-blue-100 text-blue-800":j.status==="Solved"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:j.status})}),t.jsx("td",{className:"px-4 py-4 align-top",children:t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsxs("button",{onClick:()=>F(j),className:"text-blue-600 hover:text-blue-900 flex items-center text-sm",title:"View Details",children:[t.jsx(Ta,{className:"w-4 h-4 mr-1"}),"View"]}),t.jsxs("button",{onClick:()=>se(j),className:"text-green-600 hover:text-green-900 flex items-center text-sm",title:"Update Status & Action",children:[t.jsx(Sn,{className:"w-4 h-4 mr-1"}),"Action"]})]})})]},j.complaint_id))})]})}):t.jsx("div",{className:"text-center py-10",children:t.jsx("p",{className:"text-gray-500",children:Y?"No matching complaints found":"No complaints found"})})}),x&&M&&_&&t.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Update Complaint Status & Action"}),t.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-500",title:"Close",children:t.jsx(Ue,{className:"h-6 w-6"})})]}),t.jsxs("form",{onSubmit:T,className:"space-y-4",children:[t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[t.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Complaint Details"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Date"}),t.jsx("p",{className:"text-sm text-gray-900",children:new Date(_.date).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Recipient"}),t.jsx("p",{className:"text-sm text-gray-900",children:_.recipient.charAt(0).toUpperCase()+_.recipient.slice(1)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Subject"}),t.jsx("p",{className:"text-sm text-gray-900",children:_.subject})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Description"}),t.jsx("p",{className:"text-sm text-gray-900",children:_.description})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Child"}),t.jsx("p",{className:"text-sm text-gray-900",children:_.child_name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Parent"}),t.jsx("p",{className:"text-sm text-gray-900",children:_.parent_name})]})]})]}),t.jsxs("div",{className:"space-y-4 pt-2",children:[t.jsx("h3",{className:"font-semibold text-gray-700",children:"Update Response"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),t.jsxs("select",{name:"status",value:H.status,onChange:ne,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",title:"Select complaint status",required:!0,children:[t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"In Progress",children:"In Progress"}),t.jsx("option",{value:"Solved",children:"Solved"}),t.jsx("option",{value:"Closed",children:"Closed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action Taken"}),t.jsx("textarea",{name:"action",value:H.action,onChange:ne,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter action taken or response to the complaint..."}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Describe what actions were taken to resolve this complaint"})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[t.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Update Status & Action"})]})]})]})})}),N&&_&&t.jsx("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Complaint Details"}),t.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-500",title:"Close",children:t.jsx(Ue,{className:"h-6 w-6"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Basic Information"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Subject:"})," ",_.subject]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Date:"})," ",new Date(_.date).toLocaleDateString()]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Recipient:"})," ",_.recipient.charAt(0).toUpperCase()+_.recipient.slice(1)]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Status:"})," ",_.status]})]}),t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Child & Parent"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Child:"})," ",_.child_name," (",_.child_age," years)"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Parent:"})," ",_.parent_name]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Email:"})," ",_.parent_email]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Phone:"})," ",_.parent_phone]})]})]}),t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Description"}),t.jsx("p",{className:"text-gray-700",children:_.description})]}),_.action&&t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Action Taken"}),t.jsx("p",{className:"text-gray-700",children:_.action})]}),t.jsx("div",{className:"flex justify-end space-x-3 pt-4",children:t.jsx("button",{onClick:S,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Close"})})]})]})})}),b&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Confirm Deletion"}),t.jsxs("button",{onClick:S,className:"text-gray-400 hover:text-gray-500",title:"Close",children:[t.jsx(Ue,{className:"w-6 h-6"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]}),t.jsxs("p",{className:"mb-6 text-gray-600",children:['Are you sure you want to delete the complaint "',_==null?void 0:_.subject,'"? This action cannot be undone.']}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx("button",{onClick:S,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:U,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})})]})};function mE(){return t.jsx(Pj,{children:t.jsx(Cj,{children:t.jsxs(ej,{children:[t.jsxs(He,{element:t.jsx(y2,{}),children:[t.jsx(He,{path:"/",element:t.jsx(p2,{})}),t.jsx(He,{path:"/login",element:t.jsx(x2,{})}),t.jsx(He,{path:"/signup",element:t.jsx(g2,{})}),t.jsx(He,{path:"/unauthorized",element:t.jsx(lC,{})})]}),t.jsxs(He,{path:"/admin",element:t.jsx(P0,{roles:["admin"],children:t.jsx(N2,{})}),children:[t.jsx(He,{index:!0,element:t.jsx(cC,{})}),t.jsx(He,{path:"users",element:t.jsx(dC,{})}),t.jsx(He,{path:"children",element:t.jsx(RC,{})}),t.jsx(He,{path:"subscriptions",element:t.jsx(OC,{})}),t.jsx(He,{path:"payments",element:t.jsx(PC,{})}),t.jsx(He,{path:"complaints",element:t.jsx(UC,{})}),t.jsx(He,{path:"attendance",element:t.jsx(zC,{})}),t.jsx(He,{path:"announcements",element:t.jsx(FC,{})}),t.jsx(He,{path:"reports",element:t.jsx(BC,{})}),t.jsx(He,{path:"activities",element:t.jsx(IC,{})}),t.jsx(He,{path:"settings",element:t.jsx($C,{})}),t.jsx(He,{path:"support",element:t.jsx(qC,{})})]}),t.jsxs(He,{path:"/supervisor",element:t.jsx(P0,{roles:["supervisor"],children:t.jsx(rC,{})}),children:[t.jsx(He,{index:!0,element:t.jsx(ZC,{})}),t.jsx(He,{path:"parents",element:t.jsx(JC,{})}),t.jsx(He,{path:"childrens",element:t.jsx(d4,{})}),t.jsx(He,{path:"teachers",element:t.jsx(u4,{})}),t.jsx(He,{path:"payments",element:t.jsx(f4,{})}),t.jsx(He,{path:"announcements",element:t.jsx(x4,{})}),t.jsx(He,{path:"appointments",element:t.jsx(g4,{})}),t.jsx(He,{path:"health-records",element:t.jsx(y4,{})}),t.jsx(He,{path:"activities",element:t.jsx(b4,{})}),t.jsx(He,{path:"reports",element:t.jsx(w4,{})}),t.jsx(He,{path:"events",element:t.jsx(cE,{})}),t.jsx(He,{path:"profile",element:t.jsx(uE,{})}),t.jsx(He,{path:"complaints",element:t.jsx(fE,{})})]}),t.jsx(He,{path:"*",element:t.jsx(Ef,{to:"/",replace:!0})})]})})})}iN.createRoot(document.getElementById("root")).render(t.jsx(y.StrictMode,{children:t.jsx(mE,{})}));
